!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.G=e():t.G=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=30)}([function(t,e,n){"use strict";n.r(e),n.d(e,"contains",(function(){return i})),n.d(e,"includes",(function(){return i})),n.d(e,"difference",(function(){return o})),n.d(e,"find",(function(){return m})),n.d(e,"findIndex",(function(){return M})),n.d(e,"firstValue",(function(){return b})),n.d(e,"flatten",(function(){return x})),n.d(e,"flattenDeep",(function(){return w})),n.d(e,"getRange",(function(){return A})),n.d(e,"pull",(function(){return C})),n.d(e,"pullAt",(function(){return k})),n.d(e,"reduce",(function(){return E})),n.d(e,"remove",(function(){return j})),n.d(e,"sortBy",(function(){return B})),n.d(e,"union",(function(){return N})),n.d(e,"uniq",(function(){return D})),n.d(e,"valuesOfKey",(function(){return R})),n.d(e,"head",(function(){return L})),n.d(e,"last",(function(){return F})),n.d(e,"startsWith",(function(){return q})),n.d(e,"endsWith",(function(){return Y})),n.d(e,"filter",(function(){return a})),n.d(e,"every",(function(){return G})),n.d(e,"some",(function(){return V})),n.d(e,"group",(function(){return H})),n.d(e,"groupBy",(function(){return W})),n.d(e,"groupToMap",(function(){return z})),n.d(e,"getWrapBehavior",(function(){return Q})),n.d(e,"wrapBehavior",(function(){return U})),n.d(e,"number2color",(function(){return Z})),n.d(e,"parseRadius",(function(){return K})),n.d(e,"clamp",(function(){return J})),n.d(e,"fixedBase",(function(){return tt})),n.d(e,"isDecimal",(function(){return nt})),n.d(e,"isEven",(function(){return rt})),n.d(e,"isInteger",(function(){return it})),n.d(e,"isNegative",(function(){return at})),n.d(e,"isNumberEqual",(function(){return ot})),n.d(e,"isOdd",(function(){return ut})),n.d(e,"isPositive",(function(){return st})),n.d(e,"maxBy",(function(){return ct})),n.d(e,"minBy",(function(){return ft})),n.d(e,"mod",(function(){return lt})),n.d(e,"toDegree",(function(){return pt})),n.d(e,"toInteger",(function(){return dt})),n.d(e,"toRadian",(function(){return gt})),n.d(e,"forIn",(function(){return yt})),n.d(e,"has",(function(){return mt})),n.d(e,"hasKey",(function(){return Mt})),n.d(e,"hasValue",(function(){return xt})),n.d(e,"keys",(function(){return d})),n.d(e,"isMatch",(function(){return v})),n.d(e,"values",(function(){return bt})),n.d(e,"lowerCase",(function(){return wt})),n.d(e,"lowerFirst",(function(){return At})),n.d(e,"substitute",(function(){return Pt})),n.d(e,"upperCase",(function(){return St})),n.d(e,"upperFirst",(function(){return Ot})),n.d(e,"getType",(function(){return Tt})),n.d(e,"isArguments",(function(){return kt})),n.d(e,"isArray",(function(){return l})),n.d(e,"isArrayLike",(function(){return r})),n.d(e,"isBoolean",(function(){return Et})),n.d(e,"isDate",(function(){return jt})),n.d(e,"isError",(function(){return It})),n.d(e,"isFunction",(function(){return c})),n.d(e,"isFinite",(function(){return Bt})),n.d(e,"isNil",(function(){return f})),n.d(e,"isNull",(function(){return Dt})),n.d(e,"isNumber",(function(){return et})),n.d(e,"isObject",(function(){return h})),n.d(e,"isObjectLike",(function(){return g})),n.d(e,"isPlainObject",(function(){return y})),n.d(e,"isPrototype",(function(){return Rt})),n.d(e,"isRegExp",(function(){return Lt})),n.d(e,"isString",(function(){return I})),n.d(e,"isType",(function(){return s})),n.d(e,"isUndefined",(function(){return Ft})),n.d(e,"isElement",(function(){return qt})),n.d(e,"requestAnimationFrame",(function(){return Yt})),n.d(e,"clearAnimationFrame",(function(){return Gt})),n.d(e,"augment",(function(){return Wt})),n.d(e,"clone",(function(){return Ht})),n.d(e,"debounce",(function(){return Qt})),n.d(e,"memoize",(function(){return Ut})),n.d(e,"deepMix",(function(){return Zt})),n.d(e,"each",(function(){return p})),n.d(e,"extend",(function(){return Kt})),n.d(e,"indexOf",(function(){return Jt})),n.d(e,"isEmpty",(function(){return ee})),n.d(e,"isEqual",(function(){return re})),n.d(e,"isEqualWith",(function(){return ie})),n.d(e,"map",(function(){return ae})),n.d(e,"mapValues",(function(){return ue})),n.d(e,"mix",(function(){return Xt})),n.d(e,"assign",(function(){return Xt})),n.d(e,"get",(function(){return se})),n.d(e,"set",(function(){return ce})),n.d(e,"pick",(function(){return le})),n.d(e,"throttle",(function(){return he})),n.d(e,"toArray",(function(){return pe})),n.d(e,"toString",(function(){return _t})),n.d(e,"uniqueId",(function(){return ve})),n.d(e,"noop",(function(){return ge})),n.d(e,"identity",(function(){return ye})),n.d(e,"size",(function(){return me})),n.d(e,"Cache",(function(){return Me}));var r=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},i=function(t,e){return!!r(t)&&t.indexOf(e)>-1},a=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var a=t[i];e(a,i)&&n.push(a)}return n},o=function(t,e){return void 0===e&&(e=[]),a(t,(function(t){return!i(e,t)}))},u={}.toString,s=function(t,e){return u.call(t)==="[object "+e+"]"},c=function(t){return s(t,"Function")},f=function(t){return null==t},l=function(t){return Array.isArray?Array.isArray(t):s(t,"Array")},h=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var p=function(t,e){if(t)if(l(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(h(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},d=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return p(t,(function(n,r){c(t)&&"prototype"===r||e.push(r)})),e};var v=function(t,e){var n=d(e),r=n.length;if(f(t))return!r;for(var i=0;i<r;i+=1){var a=n[i];if(e[a]!==t[a]||!(a in t))return!1}return!0},g=function(t){return"object"==typeof t&&null!==t},y=function(t){if(!g(t)||!s(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var m=function(t,e){if(!l(t))return null;var n;if(c(e)&&(n=e),y(e)&&(n=function(t){return v(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null};var M=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1},b=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!f(i)){n=l(i)?i[0]:i;break}}return n},x=function(t){if(!l(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},_=function(t,e){if(void 0===e&&(e=[]),l(t))for(var n=0;n<t.length;n+=1)_(t[n],e);else e.push(t);return e},w=_,A=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(l(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:i}},P=Array.prototype,S=P.splice,O=P.indexOf,C=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],a=-1;(a=O.call(t,i))>-1;)S.call(t,a,1);return t},T=Array.prototype.splice,k=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,i=n-1;n--;){var a=void 0,o=e[n];n!==i&&o===a||(a=o,T.call(t,o,1))}return t},E=function(t,e,n){if(!l(t)&&!y(t))return t;var r=n;return p(t,(function(t,n){r=e(r,t,n)})),r},j=function(t,e){var n=[];if(!r(t))return n;for(var i=-1,a=[],o=t.length;++i<o;){var u=t[i];e(u,i,t)&&(n.push(u),a.push(i))}return k(t,a),n},I=function(t){return s(t,"String")};var B=function(t,e){var n;if(c(e))n=function(t,n){return e(t)-e(n)};else{var r=[];I(e)?r.push(e):l(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t},D=function(t){var e=[];return p(t,(function(t){i(e,t)||e.push(t)})),e},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D([].concat.apply([],t))},R=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i][e];if(!f(a)){l(a)||(a=[a]);for(var o=0;o<a.length;o++){var u=a[o];r[u]||(n.push(u),r[u]=!0)}}}return n};function L(t){if(r(t))return t[0]}function F(t){if(r(t)){return t[t.length-1]}}var q=function(t,e){return!(!l(t)&&!I(t))&&t[0]===e};var Y=function(t,e){return!(!l(t)&&!I(t))&&t[t.length-1]===e},G=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},V=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},X=Object.prototype.hasOwnProperty;var W=function(t,e){if(!e||!l(t))return{};for(var n,r={},i=c(e)?e:function(t){return t[e]},a=0;a<t.length;a++){var o=t[a];n=i(o),X.call(r,n)?r[n].push(o):r[n]=[o]}return r},z=function(t,e){if(!e)return{0:t};if(!c(e)){var n=l(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return W(t,e)},H=function(t,e){if(!e)return[t];var n=z(t,e),r=[];for(var i in n)r.push(n[i]);return r};var Q=function(t,e){return t["_wrap_"+e]};var U=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},$={};var Z=function(t){var e=$[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,$[t]=e}return e};var K=function(t){var e=0,n=0,r=0,i=0;return l(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}},J=function(t,e,n){return t<e?e:t>n?n:t},tt=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},et=function(t){return s(t,"Number")},nt=function(t){return et(t)&&t%1!=0},rt=function(t){return et(t)&&t%2==0},it=Number.isInteger?Number.isInteger:function(t){return et(t)&&t%1==0},at=function(t){return et(t)&&t<0};function ot(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}var ut=function(t){return et(t)&&t%2!=0},st=function(t){return et(t)&&t>0},ct=function(t,e){if(l(t)){var n,r,i=t[0];return n=c(e)?e(t[0]):t[0][e],p(t,(function(t){(r=c(e)?e(t):t[e])>n&&(i=t,n=r)})),i}},ft=function(t,e){if(l(t)){var n,r,i=t[0];return n=c(e)?e(t[0]):t[0][e],p(t,(function(t){(r=c(e)?e(t):t[e])<n&&(i=t,n=r)})),i}},lt=function(t,e){return(t%e+e)%e},ht=180/Math.PI,pt=function(t){return ht*t},dt=parseInt,vt=Math.PI/180,gt=function(t){return vt*t},yt=p,mt=function(t,e){return t.hasOwnProperty(e)},Mt=mt,bt=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return p(t,(function(n,r){c(t)&&"prototype"===r||e.push(n)})),e},xt=function(t,e){return i(bt(t),e)},_t=function(t){return f(t)?"":t.toString()},wt=function(t){return _t(t).toLowerCase()},At=function(t){var e=_t(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Pt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t},St=function(t){return _t(t).toUpperCase()},Ot=function(t){var e=_t(t);return e.charAt(0).toUpperCase()+e.substring(1)},Ct={}.toString,Tt=function(t){return Ct.call(t).replace(/^\[object /,"").replace(/]$/,"")},kt=function(t){return s(t,"Arguments")},Et=function(t){return s(t,"Boolean")},jt=function(t){return s(t,"Date")},It=function(t){return s(t,"Error")},Bt=function(t){return et(t)&&isFinite(t)},Dt=function(t){return null===t},Nt=Object.prototype,Rt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Nt)},Lt=function(t){return s(t,"RegExp")},Ft=function(t){return void 0===t},qt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Yt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Gt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Vt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Xt(t,e,n,r){return e&&Vt(t,e),n&&Vt(t,n),r&&Vt(t,r),t}var Wt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];c(i)&&(i=i.prototype),Xt(n.prototype,i)}},zt=function(t){if("object"!=typeof t||null===t)return t;var e;if(l(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=zt(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"==typeof t[i]&&null!=t[i]?e[i]=zt(t[i]):e[i]=t[i];return e},Ht=zt;var Qt=function(t,e,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||t.apply(i,a)},u=n&&!r;clearTimeout(r),r=setTimeout(o,e),u&&t.apply(i,a)}},Ut=function(t,e){if(!c(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var u=t.apply(this,r);return o.set(a,u),u};return n.cache=new Map,n};function $t(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var a=e[i];null!==a&&y(a)?(y(t[i])||(t[i]={}),n<r?$t(t[i],a,n+1,r):t[i]=e[i]):l(a)?(t[i]=[],t[i]=t[i].concat(a)):void 0!==a&&(t[i]=a)}}var Zt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)$t(t,e[r]);return t},Kt=function(t,e,n,r){c(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},a=i(e.prototype,t);return t.prototype=Xt(a,t.prototype),t.superclass=i(e.prototype,e),Xt(a,n),Xt(t,r),t},Jt=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,a=0;a<t.length;a++)if(t[a]===e){i=a;break}return i},te=Object.prototype.hasOwnProperty;var ee=function(t){if(f(t))return!0;if(r(t))return!t.length;var e=Tt(t);if("Map"===e||"Set"===e)return!t.size;if(Rt(t))return!Object.keys(t).length;for(var n in t)if(te.call(t,n))return!1;return!0},ne=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(I(t)||I(e))return!1;if(r(t)||r(e)){if(t.length!==e.length)return!1;for(var n=!0,i=0;i<t.length&&(n=ne(t[i],e[i]));i++);return n}if(g(t)||g(e)){var a=Object.keys(t),o=Object.keys(e);if(a.length!==o.length)return!1;for(n=!0,i=0;i<a.length&&(n=ne(t[a[i]],e[a[i]]));i++);return n}return!1},re=ne,ie=function(t,e,n){return c(n)?!!n(t,e):re(t,e)},ae=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var a=t[i];n.push(e(a,i))}return n},oe=function(t){return t},ue=function(t,e){void 0===e&&(e=oe);var n={};return h(t)&&!f(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n},se=function(t,e,n){for(var r=0,i=I(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},ce=function(t,e,n){var r=t,i=I(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(h(r[t])||(r[t]=et(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t},fe=Object.prototype.hasOwnProperty,le=function(t,e){if(null===t||!y(t))return{};var n={};return p(e,(function(e){fe.call(t,e)&&(n[e]=t[e])})),n},he=function(t,e,n){var r,i,a,o,u=0;n||(n={});var s=function(){u=!1===n.leading?0:Date.now(),r=null,o=t.apply(i,a),r||(i=a=null)},c=function(){var c=Date.now();u||!1!==n.leading||(u=c);var f=e-(c-u);return i=this,a=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),u=c,o=t.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(s,f)),o};return c.cancel=function(){clearTimeout(r),u=0,r=i=a=null},c},pe=function(t){return r(t)?Array.prototype.slice.call(t):[]},de={},ve=function(t){return de[t=t||"g"]?de[t]+=1:de[t]=1,t+de[t]},ge=function(){},ye=function(t){return t};function me(t){return f(t)?0:r(t)?t.length:Object.keys(t).length}var Me=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return a})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return u})),n.d(e,"__param",(function(){return s})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return f})),n.d(e,"__generator",(function(){return l})),n.d(e,"__exportStar",(function(){return h})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return M})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return x})),n.d(e,"__importStar",(function(){return _})),n.d(e,"__importDefault",(function(){return w})),n.d(e,"__classPrivateFieldGet",(function(){return A})),n.d(e,"__classPrivateFieldSet",(function(){return P}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function u(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function s(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{s(r.next(t))}catch(t){a(t)}}function u(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}s((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function h(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,u=a.length;o<u;o++,i++)r[i]=a[o];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){a.push([t,e,n,r])>1||u(t,e)}))})}function u(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(s,c):f(a[0][2],n)}catch(t){f(a[0][3],t)}var n}function s(t){u("next",t)}function c(t){u("throw",t)}function f(t,e){t(e),a.shift(),a.length&&u(a[0][0],a[0][1])}}function M(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function x(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function w(t){return t&&t.__esModule?t:{default:t}}function A(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function P(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new r.ARRAY_TYPE(9);r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,i,a,o,u,s,c){var f=new r.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=n,f[3]=i,f[4]=a,f[5]=o,f[6]=u,f[7]=s,f[8]=c,f},e.set=function(t,e,n,r,i,a,o,u,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=u,t[7]=s,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=f*o-u*c,h=-f*a+u*s,p=c*a-o*s,d=n*l+r*h+i*p;if(!d)return null;return d=1/d,t[0]=l*d,t[1]=(-f*r+i*c)*d,t[2]=(u*r-i*o)*d,t[3]=h*d,t[4]=(f*n-i*s)*d,t[5]=(-u*n+i*a)*d,t[6]=p*d,t[7]=(-c*n+r*s)*d,t[8]=(o*n-r*a)*d,t},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=o*f-u*c,t[1]=i*c-r*f,t[2]=r*u-i*o,t[3]=u*s-a*f,t[4]=n*f-i*s,t[5]=i*a-n*u,t[6]=a*c-o*s,t[7]=r*s-n*c,t[8]=n*o-r*a,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],c=t[8];return e*(c*a-o*s)+n*(-c*i+o*u)+r*(s*i-a*u)},e.multiply=i,e.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=h*r+p*o+c,t[7]=h*i+p*u+f,t[8]=h*a+p*s+l,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(n),p=Math.cos(n);return t[0]=p*r+h*o,t[1]=p*i+h*u,t[2]=p*a+h*s,t[3]=p*o-h*r,t[4]=p*u-h*i,t[5]=p*s-h*a,t[6]=c,t[7]=f,t[8]=l,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,u=r+r,s=i+i,c=n*o,f=r*o,l=r*u,h=i*o,p=i*u,d=i*s,v=a*o,g=a*u,y=a*s;return t[0]=1-l-d,t[3]=f-y,t[6]=h+g,t[1]=f+y,t[4]=1-c-d,t[7]=p-v,t[2]=h-g,t[5]=p+v,t[8]=1-c-l,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],p=e[11],d=e[12],v=e[13],g=e[14],y=e[15],m=n*u-r*o,M=n*s-i*o,b=n*c-a*o,x=r*s-i*u,_=r*c-a*u,w=i*c-a*s,A=f*v-l*d,P=f*g-h*d,S=f*y-p*d,O=l*g-h*v,C=l*y-p*v,T=h*y-p*g,k=m*T-M*C+b*O+x*S-_*P+w*A;if(!k)return null;return k=1/k,t[0]=(u*T-s*C+c*O)*k,t[1]=(s*S-o*T-c*P)*k,t[2]=(o*C-u*S+c*A)*k,t[3]=(i*C-r*T-a*O)*k,t[4]=(n*T-i*S+a*P)*k,t[5]=(r*S-n*C-a*A)*k,t[6]=(v*w-g*_+y*x)*k,t[7]=(g*b-d*w-y*M)*k,t[8]=(d*_-v*b+y*m)*k,t},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=a,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=e[0],p=e[1],d=e[2],v=e[3],g=e[4],y=e[5],m=e[6],M=e[7],b=e[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-d)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-v)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-g)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(s-y)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-m)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(f-M)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(l-b)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(21));function i(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],p=n[1],d=n[2],v=n[3],g=n[4],y=n[5],m=n[6],M=n[7],b=n[8];return t[0]=h*r+p*o+d*c,t[1]=h*i+p*u+d*f,t[2]=h*a+p*s+d*l,t[3]=v*r+g*o+y*c,t[4]=v*i+g*u+y*f,t[5]=v*a+g*s+y*l,t[6]=m*r+M*o+b*c,t[7]=m*i+M*u+b*f,t[8]=m*a+M*s+b*l,t}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}e.mul=i,e.sub=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},e.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},e.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(16),a=n(9),o=n(5),u=n(22),s=n(3),c=n(11),f=n(23),l=n(33),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,e)}},e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return f.default},e.prototype.onCanvasChange=function(t){u.refreshElement(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=l.getBBoxMethod(this.get("type"));n&&(e=n(this))}if(e){var r=e.x,i=e.y,a=e.width,o=e.height,u=this.getHitLineWidth(),s=u/2,c=r-s,f=i-s;return{x:c,y:f,minX:c,minY:f,maxX:r+a+s,maxY:i+o+s,width:a+u,height:o+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||o.createDom(this),a.setClip(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,a=n.stroke,o=n.strokeStyle,u=n.fillOpacity,c=n.strokeOpacity,f=n.lineWidth,l=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",i):this._setColor(t,"fill",r||i),u&&l.setAttribute(s.SVG_ATTR_MAP.fillOpacity,u)),this.canStroke&&f>0&&(e?"stroke"in n?this._setColor(t,"stroke",a):"strokeStyle"in n&&this._setColor(t,"stroke",o):this._setColor(t,"stroke",a||o),c&&l.setAttribute(s.SVG_ATTR_MAP.strokeOpacity,c),f&&l.setAttribute(s.SVG_ATTR_MAP.lineWidth,f))},e.prototype._setColor=function(t,e,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=t.find("gradient",n))||(i=t.addGradient(n)),r.setAttribute(s.SVG_ATTR_MAP[e],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=t.find("pattern",n))||(i=t.addPattern(n)),r.setAttribute(s.SVG_ATTR_MAP[e],"url(#"+i+")")}else r.setAttribute(s.SVG_ATTR_MAP[e],n);else r.setAttribute(s.SVG_ATTR_MAP[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,i=r.shadowOffsetX,o=r.shadowOffsetY,u=r.shadowBlur,s=r.shadowColor;(i||o||u||s)&&a.setShadow(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&a.setTransform(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=t+r.left,a=e+r.top,o=document.elementFromPoint(i,a);return!(!o||!o.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(i.AbstractShape);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(3);function a(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}e.createSVGElement=a,e.createDom=function(t){var e=i.SHAPE_TO_TAGS[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var r=a(e);if(t.get("id")&&(r.id=t.get("id")),t.set("el",r),t.set("attrs",{}),n){var o=n.get("el");o||(o=n.createDom(),n.set("el",o)),o.appendChild(r)}return r},e.sortDom=function(t,e){var n=t.get("el"),i=r.toArray(n.children).sort(e),a=document.createDocumentFragment();i.forEach((function(t){a.appendChild(t)})),n.appendChild(a)},e.moveTo=function(t,e){var n=t.parentNode,r=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),i=r[e],a=r.indexOf(t);if(i){if(a>e)n.insertBefore(t,i);else if(a<e){var o=r[e+1];o?n.insertBefore(t,o):n.appendChild(t)}}else n.appendChild(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=i,e.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=a,e.multiply=o,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=s,e.squaredDistance=c,e.length=f,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.rotate=function(t,e,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=Math.sin(r),u=Math.cos(r);return t[0]=i*u-a*o+n[0],t[1]=i*o+a*u+n[1],t},e.angle=function(t,e){var n=t[0],r=t[1],i=e[0],a=e[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var u=i*i+a*a;u>0&&(u=1/Math.sqrt(u));var s=(n*i+r*a)*o*u;return s>1?0:s<-1?Math.PI:Math.acos(s)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],i=t[1],a=e[0],o=e[1];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-o)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(21));function i(){var t=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function s(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function f(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function l(t){var e=t[0],n=t[1];return e*e+n*n}var h;e.len=f,e.sub=a,e.mul=o,e.div=u,e.dist=s,e.sqrDist=c,e.sqrLen=l,e.forEach=(h=i(),function(t,e,n,r,i,a){var o=void 0,u=void 0;for(e||(e=2),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,o=n;o<u;o+=e)h[0]=t[o],h[1]=t[o+1],i(h,h,a),t[o]=h[0],t[o+1]=h[1];return t})},function(t,e,n){"use strict";function r(t){return Math.min.apply(null,t)}function i(t){return Math.max.apply(null,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.distance=function(t,e,n,r){var i=t-n,a=e-r;return Math.sqrt(i*i+a*a)},e.isNumberEqual=function(t,e){return Math.abs(t-e)<.001},e.getBBoxByArray=function(t,e){var n=r(t),a=r(e);return{x:n,y:a,width:i(t)-n,height:i(e)-a}},e.getBBoxRange=function(t,e,n,a){return{minX:r([t,n]),maxX:i([t,n]),minY:r([e,a]),maxY:i([e,a])}},e.piMod=function(t){return(t+2*Math.PI)%(2*Math.PI)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18);e.default=function(t){return Array.isArray?Array.isArray(t):r.default(t,"Array")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);e.setShadow=function(t,e){var n=t.cfg.el,r=t.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var a=e.find("filter",i);a||(a=e.addShadow(i)),n.setAttribute("filter","url(#"+a+")")}else n.removeAttribute("filter")},e.setTransform=function(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}},e.setClip=function(t,e){var n=t.getClip(),i=t.get("el");if(n){if(n&&!i.hasAttribute("clip-path")){r.createDom(n),n.createPath(e);var a=e.addClip(n);i.setAttribute("clip-path","url(#"+a+")")}}else i.removeAttribute("clip-path")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(85);e.default={box:function(t,e,n,i){return r.getBBoxByArray([t,n],[e,i])},length:function(t,e,n,i){return r.distance(t,e,n,i)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,i,a,o){var u=(n-t)*(a-t)+(i-e)*(o-e);return u<0?r.distance(t,e,a,o):u>(n-t)*(n-t)+(i-e)*(i-e)?r.distance(n,i,a,o):this.pointToLine(t,e,n,i,a,o)},pointToLine:function(t,e,n,r,a,o){var u=[n-t,r-e];if(i.exactEquals(u,[0,0]))return Math.sqrt((a-t)*(a-t)+(o-e)*(o-e));var s=[-u[1],u[0]];i.normalize(s,s);var c=[a-t,o-e];return Math.abs(i.dot(c,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4);e.Base=r.default;var i=n(54);e.Circle=i.default;var a=n(55);e.Dom=a.default;var o=n(56);e.Ellipse=o.default;var u=n(57);e.Image=u.default;var s=n(58);e.Line=s.default;var c=n(59);e.Marker=c.default;var f=n(61);e.Path=f.default;var l=n(62);e.Polygon=l.default;var h=n(63);e.Polyline=h.default;var p=n(66);e.Rect=p.default;var d=n(68);e.Text=d.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null==t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18);e.default=function(t){return r.default(t,"String")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),i=n(14);e.default=function(t,e){if(t)if(r.default(t))for(var n=0,a=t.length;n<a&&!1!==e(t[n],n);n++);else if(i.default(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break}},function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return Nn})),n.d(e,"Event",(function(){return st})),n.d(e,"Base",(function(){return Ot})),n.d(e,"AbstractCanvas",(function(){return In})),n.d(e,"AbstractGroup",(function(){return Bn})),n.d(e,"AbstractShape",(function(){return Dn})),n.d(e,"PathUtil",(function(){return r}));var r={};n.r(r),n.d(r,"catmullRomToBezier",(function(){return I})),n.d(r,"fillPath",(function(){return et})),n.d(r,"fillPathByDiff",(function(){return it})),n.d(r,"formatPath",(function(){return ut})),n.d(r,"intersection",(function(){return K})),n.d(r,"parsePathArray",(function(){return Y})),n.d(r,"parsePathString",(function(){return j})),n.d(r,"pathToAbsolute",(function(){return D})),n.d(r,"pathToCurve",(function(){return F})),n.d(r,"rectPath",(function(){return H}));var i={};n.r(i),n.d(i,"easeLinear",(function(){return ae})),n.d(i,"easeQuad",(function(){return se})),n.d(i,"easeQuadIn",(function(){return oe})),n.d(i,"easeQuadOut",(function(){return ue})),n.d(i,"easeQuadInOut",(function(){return se})),n.d(i,"easeCubic",(function(){return le})),n.d(i,"easeCubicIn",(function(){return ce})),n.d(i,"easeCubicOut",(function(){return fe})),n.d(i,"easeCubicInOut",(function(){return le})),n.d(i,"easePoly",(function(){return de})),n.d(i,"easePolyIn",(function(){return he})),n.d(i,"easePolyOut",(function(){return pe})),n.d(i,"easePolyInOut",(function(){return de})),n.d(i,"easeSin",(function(){return Me})),n.d(i,"easeSinIn",(function(){return ye})),n.d(i,"easeSinOut",(function(){return me})),n.d(i,"easeSinInOut",(function(){return Me})),n.d(i,"easeExp",(function(){return _e})),n.d(i,"easeExpIn",(function(){return be})),n.d(i,"easeExpOut",(function(){return xe})),n.d(i,"easeExpInOut",(function(){return _e})),n.d(i,"easeCircle",(function(){return Pe})),n.d(i,"easeCircleIn",(function(){return we})),n.d(i,"easeCircleOut",(function(){return Ae})),n.d(i,"easeCircleInOut",(function(){return Pe})),n.d(i,"easeBounce",(function(){return Ce})),n.d(i,"easeBounceIn",(function(){return Oe})),n.d(i,"easeBounceOut",(function(){return Ce})),n.d(i,"easeBounceInOut",(function(){return Te})),n.d(i,"easeBack",(function(){return je})),n.d(i,"easeBackIn",(function(){return ke})),n.d(i,"easeBackOut",(function(){return Ee})),n.d(i,"easeBackInOut",(function(){return je})),n.d(i,"easeElastic",(function(){return De})),n.d(i,"easeElasticIn",(function(){return Be})),n.d(i,"easeElasticOut",(function(){return De})),n.d(i,"easeElasticInOut",(function(){return Ne}));var a=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},o={}.toString,u=function(t,e){return o.call(t)==="[object "+e+"]"},s=function(t){return u(t,"Function")},c=function(t){return null==t},f=function(t){return Array.isArray?Array.isArray(t):u(t,"Array")},l=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var h=function(t,e){if(t)if(f(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(l(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};Object.keys;var p=function(t){return"object"==typeof t&&null!==t};var d=Array.prototype,v=(d.splice,d.indexOf,Array.prototype.splice,function(t){return u(t,"String")});Object.prototype.hasOwnProperty;var g=function(t,e,n){return t<e?e:t>n?n:t},y=function(t){return u(t,"Number")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI,Object.values;var m=function(t){return c(t)?"":t.toString()};var M=function(t){var e=m(t);return e.charAt(0).toUpperCase()+e.substring(1)};Object.prototype;function b(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function x(t,e,n,r){return e&&b(t,e),n&&b(t,n),r&&b(t,r),t}var _=function(t){if("object"!=typeof t||null===t)return t;var e;if(f(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=_(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"==typeof t[i]&&null!=t[i]?e[i]=_(t[i]):e[i]=t[i];return e},w=_;Object.prototype.hasOwnProperty;var A=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(v(t)||v(e))return!1;if(a(t)||a(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=A(t[r],e[r]));r++);return n}if(p(t)||p(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length&&(n=A(t[i[r]],e[i[r]]));r++);return n}return!1},P=A,S=(Object.prototype.hasOwnProperty,{}),O=function(t){return S[t=t||"g"]?S[t]+=1:S[t]=1,t+S[t]},C=function(){};!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();var T="\t\n\v\f\r   ᠎             　\u2028\u2029",k=new RegExp("([a-z])["+T+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+T+"]*,?["+T+"]*)+)","ig"),E=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+T+"]*,?["+T+"]*","ig"),j=function(t){if(!t)return null;if(f(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(k,(function(r,i,a){var o=[],u=i.toLowerCase();if(a.replace(E,(function(t,e){e&&o.push(+e)})),"m"===u&&o.length>2&&(n.push([i].concat(o.splice(0,2))),u="l",i="m"===i?"l":"L"),"o"===u&&1===o.length&&n.push([i,o[0]]),"r"===u)n.push([i].concat(o));else for(;o.length>=e[u]&&(n.push([i].concat(o.splice(0,e[u]))),e[u]););return t})),n},I=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var a=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?a[3]={x:+t[0],y:+t[1]}:i-2===r&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?a[3]=a[2]:r||(a[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n},B=function(t,e,n,r,i){var a=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var o=Math.PI/180,u=t+n*Math.cos(-r*o),s=t+n*Math.cos(-i*o);a=[["M",u,e+n*Math.sin(-r*o)],["A",n,n,0,+(i-r>180),0,s,e+n*Math.sin(-i*o)]]}else a=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return a},D=function(t){if(!(t=j(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,a=0,o=0,u=0,s=0;"M"===t[0][0]&&(o=i=+t[0][1],u=a=+t[0][2],s++,r[0]=["M",i,a]);for(var c=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),f=void 0,l=void 0,h=s,p=t.length;h<p;h++){if(r.push(f=[]),(e=(l=t[h])[0])!==e.toUpperCase())switch(f[0]=e.toUpperCase(),f[0]){case"A":f[1]=l[1],f[2]=l[2],f[3]=l[3],f[4]=l[4],f[5]=l[5],f[6]=+l[6]+i,f[7]=+l[7]+a;break;case"V":f[1]=+l[1]+a;break;case"H":f[1]=+l[1]+i;break;case"R":for(var d=2,v=(n=[i,a].concat(l.slice(1))).length;d<v;d++)n[d]=+n[d]+i,n[++d]=+n[d]+a;r.pop(),r=r.concat(I(n,c));break;case"O":r.pop(),(n=B(i,a,l[1],l[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(B(i,a,l[1],l[2],l[3])),f=["U"].concat(r[r.length-1].slice(-2));break;case"M":o=+l[1]+i,u=+l[2]+a;break;default:for(d=1,v=l.length;d<v;d++)f[d]=+l[d]+(d%2?i:a)}else if("R"===e)n=[i,a].concat(l.slice(1)),r.pop(),r=r.concat(I(n,c)),f=["R"].concat(l.slice(-2));else if("O"===e)r.pop(),(n=B(i,a,l[1],l[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(B(i,a,l[1],l[2],l[3])),f=["U"].concat(r[r.length-1].slice(-2));else for(var g=0,y=l.length;g<y;g++)f[g]=l[g];if("O"!==(e=e.toUpperCase()))switch(f[0]){case"Z":i=+o,a=+u;break;case"H":i=f[1];break;case"V":a=f[1];break;case"M":o=f[f.length-2],u=f[f.length-1];break;default:i=f[f.length-2],a=f[f.length-1]}}return r},N=function(t,e,n,r){return[t,e,n,r,n,r]},R=function(t,e,n,r,i,a){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*a+2/3*r,i,a]},L=function(t,e,n,r,i,a,o,u,s,c){n===r&&(n+=1);var f,l,h,p,d,v=120*Math.PI/180,g=Math.PI/180*(+i||0),y=[],m=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(c)l=c[0],h=c[1],p=c[2],d=c[3];else{t=(f=m(t,e,-g)).x,e=f.y,u=(f=m(u,s,-g)).x,s=f.y,t===u&&e===s&&(u+=1,s+=1);var M=(t-u)/2,b=(e-s)/2,x=M*M/(n*n)+b*b/(r*r);x>1&&(n*=x=Math.sqrt(x),r*=x);var _=n*n,w=r*r,A=(a===o?-1:1)*Math.sqrt(Math.abs((_*w-_*b*b-w*M*M)/(_*b*b+w*M*M)));p=A*n*b/r+(t+u)/2,d=A*-r*M/n+(e+s)/2,l=Math.asin(((e-d)/r).toFixed(9)),h=Math.asin(((s-d)/r).toFixed(9)),l=t<p?Math.PI-l:l,h=u<p?Math.PI-h:h,l<0&&(l=2*Math.PI+l),h<0&&(h=2*Math.PI+h),o&&l>h&&(l-=2*Math.PI),!o&&h>l&&(h-=2*Math.PI)}var P=h-l;if(Math.abs(P)>v){var S=h,O=u,C=s;h=l+v*(o&&h>l?1:-1),u=p+n*Math.cos(h),s=d+r*Math.sin(h),y=L(u,s,n,r,i,0,o,O,C,[h,S,p,d])}P=h-l;var T=Math.cos(l),k=Math.sin(l),E=Math.cos(h),j=Math.sin(h),I=Math.tan(P/4),B=4/3*n*I,D=4/3*r*I,N=[t,e],R=[t+B*k,e-D*T],F=[u+B*j,s-D*E],q=[u,s];if(R[0]=2*N[0]-R[0],R[1]=2*N[1]-R[1],c)return[R,F,q].concat(y);for(var Y=[],G=0,V=(y=[R,F,q].concat(y).join().split(",")).length;G<V;G++)Y[G]=G%2?m(y[G-1],y[G],g).y:m(y[G],y[G+1],g).x;return Y},F=function(t,e){var n,r=D(t),i=e&&D(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=[],s=[],c="",f="",l=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(L.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(R(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(R(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(N(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(N(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(N(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(N(e.x,e.y,e.X,e.Y))}return t},h=function(t,e){if(t[e].length>7){t[e].shift();for(var a=t[e];a.length;)u[e]="A",i&&(s[e]="A"),t.splice(e++,0,["C"].concat(a.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},p=function(t,e,a,o,u){t&&e&&"M"===t[u][0]&&"M"!==e[u][0]&&(e.splice(u,0,["M",o.x,o.y]),a.bx=0,a.by=0,a.x=t[u][1],a.y=t[u][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var d=0;d<n;d++){r[d]&&(c=r[d][0]),"C"!==c&&(u[d]=c,d&&(f=u[d-1])),r[d]=l(r[d],a,f),"A"!==u[d]&&"C"===c&&(u[d]="C"),h(r,d),i&&(i[d]&&(c=i[d][0]),"C"!==c&&(s[d]=c,d&&(f=s[d-1])),i[d]=l(i[d],o,f),"A"!==s[d]&&"C"===c&&(s[d]="C"),h(i,d)),p(r,i,a,o,d),p(i,r,o,a,d);var v=r[d],g=i&&i[d],y=v.length,m=i&&g.length;a.x=v[y-2],a.y=v[y-1],a.bx=parseFloat(v[y-4])||a.x,a.by=parseFloat(v[y-3])||a.y,o.bx=i&&(parseFloat(g[m-4])||o.x),o.by=i&&(parseFloat(g[m-3])||o.y),o.x=i&&g[m-2],o.y=i&&g[m-1]}return i?[r,i]:r},q=/,?([a-z]),?/gi,Y=function(t){return t.join(",").replace(q,"$1")},G=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},V=function(t,e,n,r,i,a,o,u,s){null===s&&(s=1);for(var c=(s=s>1?1:s<0?0:s)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<12;p++){var d=c*f[p]+c,v=G(d,t,n,i,o),g=G(d,e,r,a,u),y=v*v+g*g;h+=l[p]*Math.sqrt(y)}return c*h},X=function(t,e,n,r,i,a,o,u){for(var s,c,f,l,h=[],p=[[],[]],d=0;d<2;++d)if(0===d?(c=6*t-12*n+6*i,s=-3*t+9*n-9*i+3*o,f=3*n-3*t):(c=6*e-12*r+6*a,s=-3*e+9*r-9*a+3*u,f=3*r-3*e),Math.abs(s)<1e-12){if(Math.abs(c)<1e-12)continue;(l=-f/c)>0&&l<1&&h.push(l)}else{var v=c*c-4*f*s,g=Math.sqrt(v);if(!(v<0)){var y=(-c+g)/(2*s);y>0&&y<1&&h.push(y);var m=(-c-g)/(2*s);m>0&&m<1&&h.push(m)}}for(var M,b=h.length,x=b;b--;)M=1-(l=h[b]),p[0][b]=M*M*M*t+3*M*M*l*n+3*M*l*l*i+l*l*l*o,p[1][b]=M*M*M*e+3*M*M*l*r+3*M*l*l*a+l*l*l*u;return p[0][x]=t,p[1][x]=e,p[0][x+1]=o,p[1][x+1]=u,p[0].length=p[1].length=x+2,{min:{x:Math.min.apply(0,p[0]),y:Math.min.apply(0,p[1])},max:{x:Math.max.apply(0,p[0]),y:Math.max.apply(0,p[1])}}},W=function(t,e,n,r,i,a,o,u){if(!(Math.max(t,n)<Math.min(i,o)||Math.min(t,n)>Math.max(i,o)||Math.max(e,r)<Math.min(a,u)||Math.min(e,r)>Math.max(a,u))){var s=(t-n)*(a-u)-(e-r)*(i-o);if(s){var c=((t*r-e*n)*(i-o)-(t-n)*(i*u-a*o))/s,f=((t*r-e*n)*(a-u)-(e-r)*(i*u-a*o))/s,l=+c.toFixed(2),h=+f.toFixed(2);if(!(l<+Math.min(t,n).toFixed(2)||l>+Math.max(t,n).toFixed(2)||l<+Math.min(i,o).toFixed(2)||l>+Math.max(i,o).toFixed(2)||h<+Math.min(e,r).toFixed(2)||h>+Math.max(e,r).toFixed(2)||h<+Math.min(a,u).toFixed(2)||h>+Math.max(a,u).toFixed(2)))return{x:c,y:f}}}},z=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},H=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var a=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return a.parsePathArray=Y,a},Q=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:H(t,e,n,r),vb:[t,e,n,r].join(" ")}},U=function(t,e,n,r,i,a,o,u){f(t)||(t=[t,e,n,r,i,a,o,u]);var s=X.apply(null,t);return Q(s.min.x,s.min.y,s.max.x-s.min.x,s.max.y-s.min.y)},$=function(t,e,n,r,i,a,o,u,s){var c=1-s,f=Math.pow(c,3),l=Math.pow(c,2),h=s*s,p=h*s,d=t+2*s*(n-t)+h*(i-2*n+t),v=e+2*s*(r-e)+h*(a-2*r+e),g=n+2*s*(i-n)+h*(o-2*i+n),y=r+2*s*(a-r)+h*(u-2*a+r);return{x:f*t+3*l*s*n+3*c*s*s*i+p*o,y:f*e+3*l*s*r+3*c*s*s*a+p*u,m:{x:d,y:v},n:{x:g,y:y},start:{x:c*t+s*n,y:c*e+s*r},end:{x:c*i+s*o,y:c*a+s*u},alpha:90-180*Math.atan2(d-g,v-y)/Math.PI}},Z=function(t,e,n){if(!function(t,e){return t=Q(t),e=Q(e),z(e,t.x,t.y)||z(e,t.x2,t.y)||z(e,t.x,t.y2)||z(e,t.x2,t.y2)||z(t,e.x,e.y)||z(t,e.x2,e.y)||z(t,e.x,e.y2)||z(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(U(t),U(e)))return n?0:[];for(var r=~~(V.apply(0,t)/8),i=~~(V.apply(0,e)/8),a=[],o=[],u={},s=n?0:[],c=0;c<r+1;c++){var f=$.apply(0,t.concat(c/r));a.push({x:f.x,y:f.y,t:c/r})}for(c=0;c<i+1;c++){f=$.apply(0,e.concat(c/i));o.push({x:f.x,y:f.y,t:c/i})}for(c=0;c<r;c++)for(var l=0;l<i;l++){var h=a[c],p=a[c+1],d=o[l],v=o[l+1],g=Math.abs(p.x-h.x)<.001?"y":"x",y=Math.abs(v.x-d.x)<.001?"y":"x",m=W(h.x,h.y,p.x,p.y,d.x,d.y,v.x,v.y);if(m){if(u[m.x.toFixed(4)]===m.y.toFixed(4))continue;u[m.x.toFixed(4)]=m.y.toFixed(4);var M=h.t+Math.abs((m[g]-h[g])/(p[g]-h[g]))*(p.t-h.t),b=d.t+Math.abs((m[y]-d[y])/(v[y]-d[y]))*(v.t-d.t);M>=0&&M<=1&&b>=0&&b<=1&&(n?s+=1:s.push({x:m.x,y:m.y,t1:M,t2:b}))}}return s},K=function(t,e){return function(t,e,n){var r,i,a,o,u,s,c,f,l,h;t=F(t),e=F(e);for(var p=n?0:[],d=0,v=t.length;d<v;d++){var g=t[d];if("M"===g[0])r=u=g[1],i=s=g[2];else{"C"===g[0]?(l=[r,i].concat(g.slice(1)),r=l[6],i=l[7]):(l=[r,i,r,i,u,s,u,s],r=u,i=s);for(var y=0,m=e.length;y<m;y++){var M=e[y];if("M"===M[0])a=c=M[1],o=f=M[2];else{"C"===M[0]?(h=[a,o].concat(M.slice(1)),a=h[6],o=h[7]):(h=[a,o,a,o,c,f,c,f],a=c,o=f);var b=Z(l,h,n);if(n)p+=b;else{for(var x=0,_=b.length;x<_;x++)b[x].segment1=d,b[x].segment2=y,b[x].bez1=l,b[x].bez2=h;p=p.concat(b)}}}}}return p}(t,e)};function J(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var a=[],o=0;o<e.length-1;o++)0===o&&n.push(e[0]),o===e.length-2&&r.push(e[o+1]),a[o]=[(1-i)*e[o][0]+i*e[o+1][0],(1-i)*e[o][1]+i*e[o+1][1]];t(a,i)}}(t,e),{left:n,right:r.reverse()}}var tt=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var a=r,o=1/n,u=0;u<n-1;u++){var s=J(a,o/(1-o*u));i.push(s.left),a=s.right}return i.push(a),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var a=0;a<=n-1;a++)r.push(i)}return r},et=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,a=[];if(1===t.length&&"M"===t[0][0]){for(var o=0;o<r-n;o++)t.push(t[0]);return t}for(o=0;o<r;o++){var u=Math.floor(i*o);a[u]=(a[u]||0)+1}var s=a.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(tt(t[i],t[i+1],r))}),[]);return s.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||s.push("Z"),s},nt=function(t,e){if(t.length!==e.length)return!1;var n=!0;return h(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function rt(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var it=function(t,e){var n=function(t,e){var n,r,i=t.length,a=e.length,o=0;if(0===i||0===a)return null;for(var u=[],s=0;s<=i;s++)u[s]=[],u[s][0]={min:s};for(var c=0;c<=a;c++)u[0][c]={min:c};for(s=1;s<=i;s++){n=t[s-1];for(c=1;c<=a;c++){r=e[c-1],o=nt(n,r)?0:1;var f=u[s-1][c].min+1,l=u[s][c-1].min+1,h=u[s-1][c-1].min+o;u[s][c]=rt(f,l,h)}}return u}(t,e),r=t.length,i=e.length,a=[],o=1,u=1;if(n[r][i].min!==r){for(var s=1;s<=r;s++){var c=n[s][s].min;u=s;for(var f=o;f<=i;f++)n[s][f].min<c&&(c=n[s][f].min,u=f);o=u,n[s][o].type&&a.push({index:s-1,type:n[s][o].type})}for(s=a.length-1;s>=0;s--)o=a[s].index,"add"===a[s].type?t.splice(o,0,[].concat(t[o])):t.splice(o,1)}var l=i-(r=t.length);if(r<i)for(s=0;s<l;s++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function at(t,e,n){for(var r,i=[].concat(t),a=1/(n+1),o=ot(e)[0],u=1;u<=n;u++)a*=u,0===(r=Math.floor(t.length*a))?i.unshift([o[0]*a+t[r][0]*(1-a),o[1]*a+t[r][1]*(1-a)]):i.splice(r,0,[o[0]*a+t[r][0]*(1-a),o[1]*a+t[r][1]*(1-a)]);return i}function ot(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var ut=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=ot(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=at(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=at(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=at(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t},st=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}(),ct=function(t,e){return(ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ft(t,e){function n(){this.constructor=t}ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var lt=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],a=this._events["*"]||[],o=function(r){for(var i=r.length,a=0;a<i;a++)if(r[a]){var o=r[a],u=o.callback;o.once&&(r.splice(a,1),0===r.length&&delete e._events[t],i--,a--),u.apply(e,n)}};o(i),o(a)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}(),ht=(n(12),n(17)),pt=n.n(ht),dt=n(13),vt=n.n(dt),gt=n(14),yt=n.n(gt),mt=(n(8),n(19)),Mt=n.n(mt),bt=n(15),xt=n.n(bt),_t=n(20),wt=n.n(_t);function At(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var Pt="undefined"!=typeof window&&void 0!==window.document;function St(t){return t.cfg.visible&&t.cfg.capture}var Ot=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=Mt()(r,e),n}return ft(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(lt),Ct=n(2);Ct.translate=function(t,e,n){var r=new Array(9);return Ct.fromTranslation(r,n),Ct.multiply(t,r,e)},Ct.rotate=function(t,e,n){var r=new Array(9);return Ct.fromRotation(r,n),Ct.multiply(t,r,e)},Ct.scale=function(t,e,n){var r=new Array(9);return Ct.fromScaling(r,n),Ct.multiply(t,r,e)},Ct.transform=function(t,e){for(var n=[].concat(t),r=0,i=e.length;r<i;r++){var a=e[r];switch(a[0]){case"t":Ct.translate(n,n,[a[1],a[2]]);break;case"s":Ct.scale(n,n,[a[1],a[2]]);break;case"r":Ct.rotate(n,n,a[1])}}return n};var Tt=Ct,kt=n(6);kt.angle=function(t,e){var n=kt.dot(t,e)/(kt.length(t)*kt.length(e));return Math.acos(g(n,-1,1))},kt.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},kt.angleTo=function(t,e,n){var r=kt.angle(t,e),i=kt.direction(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},kt.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};n(28);var Et=function(t,e){var n=t?w(t):[1,0,0,0,1,0,0,0,1];return h(e,(function(t){switch(t[0]){case"t":Tt.translate(n,n,[t[1],t[2]]);break;case"s":Tt.scale(n,n,[t[1],t[2]]);break;case"r":Tt.rotate(n,n,t[1]);break;case"m":Tt.multiply(n,n,t[1]);break;default:return!1}})),n};function jt(t,e){var n=[],r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=e[0],p=e[1],d=e[2],v=e[3],g=e[4],y=e[5],m=e[6],M=e[7],b=e[8];return n[0]=h*r+p*o+d*c,n[1]=h*i+p*u+d*f,n[2]=h*a+p*s+d*l,n[3]=v*r+g*o+y*c,n[4]=v*i+g*u+y*f,n[5]=v*a+g*s+y*l,n[6]=m*r+M*o+b*c,n[7]=m*i+M*u+b*f,n[8]=m*a+M*s+b*l,n}function It(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}var Bt=["zIndex","capture","visible","type"],Dt=["repeat"];function Nt(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function Rt(t,e){var n={},r=e.attr();return h(t,(function(t,e){-1!==Dt.indexOf(e)||P(r[e],t)||(n[e]=t)})),n}function Lt(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,a=Object.prototype.hasOwnProperty;return h(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&h(e.toAttrs,(function(e,n){a.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var Ft=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return x(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return ft(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if(l(r)){for(var a in r)this.setAttr(a,r[a]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange(((t={})[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(At(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr("matrix")},e.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.get("totalMatrix");if(!t){var e=this.attr("matrix"),n=this.get("parentMatrix");t=n&&e?jt(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?jt(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?It(e,t):t},e.prototype.invertFromMatrix=function(t){var e,n,r,i,a,o,u,s,c,f,l,h,p,d,v,g=this.attr("matrix");if(g){var y=(n=[],r=(e=g)[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],(v=r*(h=l*u-s*f)+i*(p=-l*o+s*c)+a*(d=f*o-u*c))?(v=1/v,n[0]=h*v,n[1]=(-l*i+a*f)*v,n[2]=(s*i-a*u)*v,n[3]=p*v,n[4]=(l*r-a*c)*v,n[5]=(-s*r+a*o)*v,n[6]=d*v,n[7]=(-f*r+i*c)*v,n[8]=(u*r-i*o)*v,n):null);if(y)return It(y,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[M(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};h(e,(function(t,r){f(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)f(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return h(Bt,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,a,o,u,c,f=t[0],h=t[1],p=t[2],d=void 0===p?"easeLinear":p,v=t[3],g=void 0===v?C:v,m=t[4],M=void 0===m?0:m;s(f)?(i=f,f={}):l(f)&&f.onFrame&&(i=f.onFrame,a=f.repeat),l(h)?(h=(c=h).duration,d=c.easing||"easeLinear",M=c.delay||0,a=c.repeat||a||!1,g=c.callback||C,o=c.pauseCallback||C,u=c.resumeCallback||C):(y(g)&&(M=g,g=null),s(d)?(g=d,d="easeLinear"):d=d||"easeLinear");var b=Rt(f,this),x={fromAttrs:Nt(b,this),toAttrs:b,duration:h,easing:d,repeat:a,callback:g,pauseCallback:o,resumeCallback:u,delay:M,startTime:n.getTime(),id:O(),onFrame:i,pathFormatted:!1};r.length>0?r=Lt(r,x):n.addAnimator(this),r.push(x),this.set("animations",r),this.set("_pause",{isPaused:!1})},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");h(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return h(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return h(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var a=function(t){var a=i[t],u=a.get("name");if(u){if((a.isGroup()||a.isCanvas&&a.isCanvas())&&n&&function(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}(a,n))return"break";f(u)?h(u,(function(t){r.emitDelegateEvent(a,t,e)})):o.emitDelegateEvent(a,u,e)}},o=this,u=0;u<i.length;u++){if("break"===a(u))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=Et(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=Et(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=Et(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),a=Et(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(a),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=Et(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(Ot),qt={};var Yt,Gt,Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ft(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],a=[],o=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return o.length>0?(xt()(o,(function(t){var e=t.getBBox();i.push(e.minX,e.maxX),a.push(e.minY,e.maxY)})),t=Math.min.apply(null,i),e=Math.max.apply(null,i),n=Math.min.apply(null,a),r=Math.max.apply(null,a)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],a=[],o=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return o.length>0?(xt()(o,(function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),a.push(e.minY,e.maxY)})),t=Math.min.apply(null,i),e=Math.max.apply(null,i),n=Math.min.apply(null,a),r=Math.max.apply(null,a)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();xt()(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];yt()(n)?r=n:r.type=n;var i=qt[r.type];i||(i=wt()(r.type),qt[r.type]=i);var a=this.getShapeBase(),o=new a[i](r);return this.add(o),o},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if(pt()(r))n=new r(i||{parent:this});else{var a=r||{},o=this.getGroupBase();n=new o(a)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!St(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var a=[t,e,1];a=this.invertFromMatrix(a),this.isClipped(a[0],a[1])||(r=this._findShape(i,a[0],a[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,a=t.length-1;a>=0;a--){var o=t[a];if(St(o)&&(o.isGroup()?i=o.getShape(e,n,r):o.isHit(e,n)&&(i=o)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),At(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&function t(e,n){if(e.set("canvas",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,e),r&&function t(e,n){if(e.set("timeline",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,r),n.push(t),function(t){t.isGroup()?(t.isEntityGroup()||t.get("children").length)&&t.onCanvasChange("add"):t.onCanvasChange("add")}(t),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();xt()(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return xt()(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return xt()(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(Ft),Xt=0,Wt=0,zt=0,Ht=0,Qt=0,Ut=0,$t="object"==typeof performance&&performance.now?performance:Date,Zt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Kt(){return Qt||(Zt(Jt),Qt=$t.now()+Ut)}function Jt(){Qt=0}function te(){this._call=this._time=this._next=null}function ee(t,e,n){var r=new te;return r.restart(t,e,n),r}function ne(){Qt=(Ht=$t.now())+Ut,Xt=Wt=0;try{!function(){Kt(),++Xt;for(var t,e=Yt;e;)(t=Qt-e._time)>=0&&e._call.call(null,t),e=e._next;--Xt}()}finally{Xt=0,function(){var t,e,n=Yt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Yt=e);Gt=t,ie(r)}(),Qt=0}}function re(){var t=$t.now(),e=t-Ht;e>1e3&&(Ut-=e,Ht=t)}function ie(t){Xt||(Wt&&(Wt=clearTimeout(Wt)),t-Qt>24?(t<1/0&&(Wt=setTimeout(ne,t-$t.now()-Ut)),zt&&(zt=clearInterval(zt))):(zt||(Ht=$t.now(),zt=setInterval(re,1e3)),Xt=1,Zt(ne)))}function ae(t){return+t}function oe(t){return t*t}function ue(t){return t*(2-t)}function se(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function ce(t){return t*t*t}function fe(t){return--t*t*t+1}function le(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}te.prototype=ee.prototype={constructor:te,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Kt():+n)+(null==e?0:+e),this._next||Gt===this||(Gt?Gt._next=this:Yt=this,Gt=this),this._call=t,this._time=n,ie()},stop:function(){this._call&&(this._call=null,this._time=1/0,ie())}};var he=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),pe=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),de=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),ve=Math.PI,ge=ve/2;function ye(t){return 1-Math.cos(t*ge)}function me(t){return Math.sin(t*ge)}function Me(t){return(1-Math.cos(ve*t))/2}function be(t){return Math.pow(2,10*t-10)}function xe(t){return 1-Math.pow(2,-10*t)}function _e(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function we(t){return 1-Math.sqrt(1-t*t)}function Ae(t){return Math.sqrt(1- --t*t)}function Pe(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Se=7.5625;function Oe(t){return 1-Ce(1-t)}function Ce(t){return(t=+t)<4/11?Se*t*t:t<8/11?Se*(t-=6/11)*t+3/4:t<10/11?Se*(t-=9/11)*t+15/16:Se*(t-=21/22)*t+63/64}function Te(t){return((t*=2)<=1?1-Ce(1-t):Ce(t-1)+1)/2}var ke=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Ee=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),je=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Ie=2*Math.PI,Be=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ie);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Ie)},i.period=function(n){return t(e,n)},i}(1,.3),De=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ie);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Ie)},i.period=function(n){return t(e,n)},i}(1,.3),Ne=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ie);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Ie)},i.period=function(n){return t(e,n)},i}(1,.3),Re=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Le(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fe(){}var qe="\\s*([+-]?\\d+)\\s*",Ye="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ge="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ve=/^#([0-9a-f]{3,8})$/,Xe=new RegExp("^rgb\\("+[qe,qe,qe]+"\\)$"),We=new RegExp("^rgb\\("+[Ge,Ge,Ge]+"\\)$"),ze=new RegExp("^rgba\\("+[qe,qe,qe,Ye]+"\\)$"),He=new RegExp("^rgba\\("+[Ge,Ge,Ge,Ye]+"\\)$"),Qe=new RegExp("^hsl\\("+[Ye,Ge,Ge]+"\\)$"),Ue=new RegExp("^hsla\\("+[Ye,Ge,Ge,Ye]+"\\)$"),$e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ze(){return this.rgb().formatHex()}function Ke(){return this.rgb().formatRgb()}function Je(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ve.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?tn(e):3===n?new an(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new an(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new an(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Xe.exec(t))?new an(e[1],e[2],e[3],1):(e=We.exec(t))?new an(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ze.exec(t))?en(e[1],e[2],e[3],e[4]):(e=He.exec(t))?en(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Qe.exec(t))?cn(e[1],e[2]/100,e[3]/100,1):(e=Ue.exec(t))?cn(e[1],e[2]/100,e[3]/100,e[4]):$e.hasOwnProperty(t)?tn($e[t]):"transparent"===t?new an(NaN,NaN,NaN,0):null}function tn(t){return new an(t>>16&255,t>>8&255,255&t,1)}function en(t,e,n,r){return r<=0&&(t=e=n=NaN),new an(t,e,n,r)}function nn(t){return t instanceof Fe||(t=Je(t)),t?new an((t=t.rgb()).r,t.g,t.b,t.opacity):new an}function rn(t,e,n,r){return 1===arguments.length?nn(t):new an(t,e,n,null==r?1:r)}function an(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function on(){return"#"+sn(this.r)+sn(this.g)+sn(this.b)}function un(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function sn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function cn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ln(t,e,n,r)}function fn(t){if(t instanceof ln)return new ln(t.h,t.s,t.l,t.opacity);if(t instanceof Fe||(t=Je(t)),!t)return new ln;if(t instanceof ln)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new ln(o,u,s,t.opacity)}function ln(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function hn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function pn(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}Re(Fe,Je,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ze,formatHex:Ze,formatHsl:function(){return fn(this).formatHsl()},formatRgb:Ke,toString:Ke}),Re(an,rn,Le(Fe,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new an(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new an(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:on,formatHex:on,formatRgb:un,toString:un})),Re(ln,(function(t,e,n,r){return 1===arguments.length?fn(t):new ln(t,e,n,null==r?1:r)}),Le(Fe,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ln(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ln(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new an(hn(t>=240?t-240:t+120,i,r),hn(t,i,r),hn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var dn=function(t){return function(){return t}};function vn(t,e){return function(n){return t+n*e}}function gn(t){return 1==(t=+t)?yn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):dn(isNaN(e)?n:e)}}function yn(t,e){var n=e-t;return n?vn(t,n):dn(isNaN(t)?e:t)}var mn=function t(e){var n=gn(e);function r(t,e){var r=n((t=rn(t)).r,(e=rn(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=yn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Mn(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=rn(e[n]),a[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return a=t(a),o=t(o),u=t(u),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=u(t),r+""}}}Mn((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,u=r<e-1?t[r+2]:2*a-i;return pn((n-r/e)*e,o,i,a,u)}})),Mn((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],u=t[(r+2)%e];return pn((n-r/e)*e,i,a,o,u)}}));var bn=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}};function xn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _n(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Tn(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}var wn=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},An=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Pn=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Tn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Sn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,On=new RegExp(Sn.source,"g");var Cn=function(t,e){var n,r,i,a=Sn.lastIndex=On.lastIndex=0,o=-1,u=[],s=[];for(t+="",e+="";(n=Sn.exec(t))&&(r=On.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:An(n,r)})),a=On.lastIndex;return a<e.length&&(i=e.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})},Tn=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?dn(e):("number"===r?An:"string"===r?(n=Je(e))?(e=n,mn):Cn:e instanceof Je?mn:e instanceof Date?wn:xn(e)?bn:Array.isArray(e)?_n:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Pn:An)(t,e)},kn=[1,0,0,0,1,0,0,0,1];function En(t,e,n){var r,a=e.startTime;if(n<a+e.delay||e._paused)return!1;var o=e.duration,u=e.easing;if(n=n-a-e.delay,e.repeat)r=n%o/o,r=i[u](r);else{if(!((r=n/o)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=i[u](r)}if(e.onFrame){var c=e.onFrame(r);t.attr(c)}else!function(t,e,n){var r={},i=e.fromAttrs,a=e.toAttrs;if(!t.destroyed){var o,u,c,f;for(var l in a)if(!P(i[l],a[l]))if("path"===l){var h=a[l],p=i[l];h.length>p.length?(h=j(a[l]),p=j(i[l]),p=it(p,h),p=ut(p,h),e.fromAttrs.path=p,e.toAttrs.path=h):e.pathFormatted||(h=j(a[l]),p=j(i[l]),p=ut(p,h),e.fromAttrs.path=p,e.toAttrs.path=h,e.pathFormatted=!0),r[l]=[];for(var d=0;d<h.length;d++){for(var v=h[d],g=p[d],m=[],M=0;M<v.length;M++)y(v[M])&&g&&y(g[M])?(o=Tn(g[M],v[M]),m.push(o(n))):m.push(v[M]);r[l].push(m)}}else if("matrix"===l){var b=(c=i[l]||kn,(xn(f=a[l]||kn)?bn:_n)(c,f))(n);r[l]=b}else["fill","stroke","fillStyle","strokeStyle"].includes(l)&&(u=a[l],/^[r,R,L,l]{1}[\s]*\(/.test(u))?r[l]=a[l]:s(a[l])||(o=Tn(i[l],a[l]),r[l]=o(n));t.attr(r)}}(t,e,r);return!1}var jn=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=ee((function(i){if(r.current=i,r.animators.length>0){for(var a=r.animators.length-1;a>=0;a--)if((t=r.animators[a]).destroyed)r.removeAnimator(a);else{if(!t.isAnimatePaused())for(var o=(e=t.get("animations")).length-1;o>=0;o--)n=e[o],En(t,n,i)&&(e.splice(o,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(a)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),In=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return ft(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e},e.prototype.initContainer=function(){var t=this.get("container");vt()(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){},e.prototype.initTimeline=function(){var t=new jn(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");Pt&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");Pt&&e&&(e.style.cursor=t)},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(Vt),Bn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ft(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(Vt),Dn=function(t){function e(e){return t.call(this,e)||this}return ft(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.get("bbox");return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.get("canvasBox");return t||(t=this.calculateCanvasBBox(),this.set("canvasBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,a=t.maxY;if(e){var o=It(e,[t.minX,t.minY]),u=It(e,[t.maxX,t.minY]),s=It(e,[t.minX,t.maxY]),c=It(e,[t.maxX,t.maxY]);n=Math.min(o[0],u[0],s[0],c[0]),i=Math.max(o[0],u[0],s[0],c[0]),r=Math.min(o[1],u[1],s[1],c[1]),a=Math.max(o[1],u[1],s[1],c[1])}var f=this.attrs;if(f.shadowColor){var l=f.shadowBlur,h=void 0===l?0:l,p=f.shadowOffsetX,d=void 0===p?0:p,v=f.shadowOffsetY,g=void 0===v?0:v,y=n-h+d,m=i+h+d,M=r-h+g,b=a+h+g;n=Math.min(n,y),i=Math.max(i,m),r=Math.min(r,M),a=Math.max(a,b)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:a,width:i-n,height:a-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],a=(i=this.invertFromMatrix(i))[0],o=i[1],u=this._isInBBox(a,o);if(this.isOnlyHitBox())return u;if(u&&!this.isClipped(a,o)){if(this.isInShape(a,o))return!0;if(n&&n.isHit(a,o))return!0;if(r&&r.isHit(a,o))return!0}return!1},e}(Ft),Nn=n(31).version},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18);e.default=function(t){return r.default(t,"Function")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={}.toString;e.default=function(t,e){return r.call(t)==="[object "+e+"]"}},function(t,e,n){"use strict";function r(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){return e&&r(t,e),n&&r(t,n),i&&r(t,i),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(32);e.default=function(t){var e=r.default(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var i=Math.PI/180},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(5);e.drawChildren=function(t,e){e.forEach((function(e){e.draw(t)}))},e.refreshElement=function(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context"),o=t.getParent(),u=o?o.getChildren():[n],s=t.get("el");if("remove"===e)if(t.get("isClipShape")){var c=s&&s.parentNode,f=c&&c.parentNode;c&&f&&f.removeChild(c)}else s&&s.parentNode&&s.parentNode.removeChild(s);else if("show"===e)s.setAttribute("visibility","visible");else if("hide"===e)s.setAttribute("visibility","hidden");else if("zIndex"===e)i.moveTo(s,u.indexOf(t));else if("sort"===e){var l=t.get("children");l&&l.length&&i.sortDom(t,(function(t,e){return l.indexOf(t)-l.indexOf(e)?1:0}))}else"clear"===e?s&&(s.innerHTML=""):"matrix"===e?r.setTransform(t):"clip"===e?r.setClip(t,a):"attr"===e||"add"===e&&t.draw(a)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(16),a=n(0),o=n(11),u=n(22),s=n(9),c=n(3),f=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=f.createSVGElement("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,e)}},e.prototype.onCanvasChange=function(t){u.refreshElement(this,t)},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),s.setClip(this,t),this.createPath(t),e.length&&u.drawChildren(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");a.each(e||n,(function(t,e){c.SVG_ATTR_MAP[e]&&r.setAttribute(c.SVG_ATTR_MAP[e],t)})),s.setTransform(this)},e}(i.AbstractGroup);e.default=l},function(t,e,n){"use strict";function r(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeBBox=r,e.mergeArrowBBox=function(t,e){var n=t.get("startArrowShape"),i=t.get("endArrowShape");return n&&(e=r(e,n.getCanvasBBox())),i&&(e=r(e,i.getCanvasBBox())),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeFromArray=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},e.isBrowser="undefined"!=typeof window&&void 0!==window.document;var r=n(12);e.isNil=r.default;var i=n(17);e.isFunction=i.default;var a=n(13);e.isString=a.default;var o=n(14);e.isObject=o.default;var u=n(8);e.isArray=u.default;var s=n(19);e.mix=s.default;var c=n(15);e.each=c.default;var f=n(20);e.upperFirst=f.default,e.isParent=function(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r},e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7);e.nearestPoint=function(t,e,n,i,a){for(var o,u=.005,s=1/0,c=[n,i],f=0;f<=20;f++){var l=.05*f,h=[a.apply(null,t.concat([l])),a.apply(null,e.concat([l]))];(g=r.distance(c[0],c[1],h[0],h[1]))<s&&(o=l,s=g)}if(0===o)return{x:t[0],y:e[0]};if(1===o){var p=t.length;return{x:t[p-1],y:e[p-1]}}for(s=1/0,f=0;f<32&&!(u<1e-4);f++){var d=o-u,v=o+u,g=(h=[a.apply(null,t.concat([d])),a.apply(null,e.concat([d]))],r.distance(c[0],c[1],h[0],h[1]));if(d>=0&&g<s)o=d,s=g;else{var y=[a.apply(null,t.concat([v])),a.apply(null,e.concat([v]))],m=r.distance(c[0],c[1],y[0],y[1]);v<=1&&m<s?(o=v,s=m):u*=.5}}return{x:a.apply(null,t.concat([o])),y:a.apply(null,e.concat([o]))}},e.snapLength=function(t,e){for(var n=0,i=t.length,a=0;a<i;a++){var o=t[a],u=e[a],s=t[(a+1)%i],c=e[(a+1)%i];n+=r.distance(o,u,s,c)}return n/2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(48),i=n(49);function a(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return a(t)*a(e)?(t[0]*e[0]+t[1]*e[1])/(a(t)*a(e)):1}function u(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(o(t,e))}function s(t,e){return t[0]===e[0]&&t[1]===e[1]}e.isSamePoint=s,e.default=function(t,e){var n=e[1],a=e[2],c=r.default(i.default(e[3]),2*Math.PI),f=e[4],l=e[5],h=t[0],p=t[1],d=e[6],v=e[7],g=Math.cos(c)*(h-d)/2+Math.sin(c)*(p-v)/2,y=-1*Math.sin(c)*(h-d)/2+Math.cos(c)*(p-v)/2,m=g*g/(n*n)+y*y/(a*a);m>1&&(n*=Math.sqrt(m),a*=Math.sqrt(m));var M=n*n*(y*y)+a*a*(g*g),b=M?Math.sqrt((n*n*(a*a)-M)/M):1;f===l&&(b*=-1),isNaN(b)&&(b=0);var x=a?b*n*y/a:0,_=n?b*-a*g/n:0,w=(h+d)/2+Math.cos(c)*x-Math.sin(c)*_,A=(p+v)/2+Math.sin(c)*x+Math.cos(c)*_,P=[(g-x)/n,(y-_)/a],S=[(-1*g-x)/n,(-1*y-_)/a],O=u([1,0],P),C=u(P,S);return o(P,S)<=-1&&(C=Math.PI),o(P,S)>=1&&(C=0),0===l&&C>0&&(C-=2*Math.PI),1===l&&C<0&&(C+=2*Math.PI),{cx:w,cy:A,rx:s(t,[d,v])?0:n,ry:s(t,[d,v])?0:a,startAngle:O,endAngle:O+C,xRotation:c,arcFlag:f,sweepFlag:l}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=a,e.fromValues=o,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=u,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=f,e.squaredDistance=l,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=p,e.dot=d,e.cross=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],u=n[1],s=n[2];return t[0]=i*s-a*u,t[1]=a*o-r*s,t[2]=r*u-i*o,t},e.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t},e.hermite=function(t,e,n,r,i,a){var o=a*a,u=o*(2*a-3)+1,s=o*(a-2)+a,c=o*(a-1),f=o*(3-2*a);return t[0]=e[0]*u+n[0]*s+r[0]*c+i[0]*f,t[1]=e[1]*u+n[1]*s+r[1]*c+i[1]*f,t[2]=e[2]*u+n[2]*s+r[2]*c+i[2]*f,t},e.bezier=function(t,e,n,r,i,a){var o=1-a,u=o*o,s=a*a,c=u*o,f=3*a*u,l=3*s*o,h=s*a;return t[0]=e[0]*c+n[0]*f+r[0]*l+i[0]*h,t[1]=e[1]*c+n[1]*f+r[1]*l+i[1]*h,t[2]=e[2]*c+n[2]*f+r[2]*l+i[2]*h,t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,a=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=i*e,t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t},e.transformQuat=function(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],u=e[0],s=e[1],c=e[2],f=i*c-a*s,l=a*u-r*c,h=r*s-i*u,p=i*h-a*l,d=a*f-r*h,v=r*l-i*f,g=2*o;return f*=g,l*=g,h*=g,p*=2,d*=2,v*=2,t[0]=u+f+p,t[1]=s+l+d,t[2]=c+h+v,t},e.rotateX=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},e.rotateY=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},e.rotateZ=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},e.angle=function(t,e){var n=o(t[0],t[1],t[2]),r=o(e[0],e[1],e[2]);p(n,n),p(r,r);var i=d(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],i=t[1],a=t[2],o=e[0],u=e[1],s=e[2];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(21));function i(){var t=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function a(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function o(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function f(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function h(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function p(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}var v;e.sub=u,e.mul=s,e.div=c,e.dist=f,e.sqrDist=l,e.len=a,e.sqrLen=h,e.forEach=(v=i(),function(t,e,n,r,i,a){var o=void 0,u=void 0;for(e||(e=3),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,o=n;o<u;o+=e)v[0]=t[o],v[1]=t[o+1],v[2]=t[o+2],i(v,v,a),t[o]=v[0],t[o+1]=v[1],t[o+2]=v[2];return t})},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(11);e.Shape=i;var a=n(71);e.version=a.version,r.__exportStar(n(72),e),r.__exportStar(n(74),e);var o=n(16);e.Event=o.Event;var u=n(76);e.Canvas=u.default;var s=n(23);e.Group=s.default},function(t){t.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.4","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^2.0.4","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9"},"__npminstall_done":false}')},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12);e.default=function(t){return r.default(t)?"":t.toString()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(34);e.getBBoxMethod=r.getMethod;var i=n(35),a=n(36),o=n(37),u=n(38),s=n(39),c=n(42),f=n(52),l=n(53);r.register("rect",i.default),r.register("image",i.default),r.register("circle",a.default),r.register("marker",a.default),r.register("polyline",o.default),r.register("polygon",u.default),r.register("text",s.default),r.register("path",c.default),r.register("line",f.default),r.register("ellipse",l.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=new Map;e.register=function(t,e){r.set(t,e)},e.getMethod=function(t){return r.get(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(24);e.default=function(t){for(var e=t.attr().points,n=[],a=[],o=0;o<e.length;o++){var u=e[o];n.push(u[0]),a.push(u[1])}var s=r.getBBoxByArray(n,a),c=s.x,f=s.y,l={minX:c,minY:f,maxX:c+s.width,maxY:f+s.height};return{x:(l=i.mergeArrowBBox(t,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7);e.default=function(t){for(var e=t.attr().points,n=[],i=[],a=0;a<e.length;a++){var o=e[a];n.push(o[0]),i.push(o[1])}return r.getBBoxByArray(n,i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(40);e.default=function(t){var e=t.attr(),n=e.x,i=e.y,a=e.text,o=e.fontSize,u=e.lineHeight,s=e.font;s||(s=r.assembleFont(e));var c,f=r.getTextWidth(a,s);if(f){var l=e.textAlign,h=e.textBaseline,p=r.getTextHeight(a,o,u),d={x:n,y:i-p};l&&("end"===l||"right"===l?d.x-=f:"center"===l&&(d.x-=f/2)),h&&("top"===h?d.y+=p:"middle"===h&&(d.y+=p/2)),c={x:d.x,y:d.y,width:f,height:p}}else c={x:n,y:i,width:0,height:0};return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(25),i=n(41);function a(t,e){return e?e-t:.14*t}e.getTextHeight=function(t,e,n){var i=1;return r.isString(t)&&(i=t.split("\n").length),i>1?e*i+a(e,n)*(i-1):e},e.getLineSpaceing=a,e.getTextWidth=function(t,e){var n=i.getOffScreenContext(),a=0;if(r.isNil(t)||""===t)return a;if(n.save(),n.font=e,r.isString(t)&&t.includes("\n")){var o=t.split("\n");r.each(o,(function(t){var e=n.measureText(t).width;a<e&&(a=e)}))}else a=n.measureText(t).width;return n.restore(),a},e.assembleFont=function(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=null;e.getOffScreenContext=function(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(43),i=n(44),a=n(45),o=n(47),u=n(51),s=n(24);function c(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,a=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),c=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!c||0===Math.sin(c)||u.default(c,0))return{xExtra:0,yExtra:0};var f=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),l=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return f=f>Math.PI/2?Math.PI-f:f,l=l>Math.PI/2?Math.PI-l:l,{xExtra:Math.cos(c/2-f)*(e/2*(1/Math.sin(c/2)))-e/2||0,yExtra:Math.cos(l-c/2)*(e/2*(1/Math.sin(c/2)))-e/2||0}}e.default=function(t){var e=t.attr(),n=e.path,u=e.stroke?e.lineWidth:0,f=function(t,e){for(var n=[],o=[],u=[],s=0;s<t.length;s++){var f=(M=t[s]).currentPoint,l=M.params,h=M.prePoint,p=void 0;switch(M.command){case"Q":p=r.default.box(h[0],h[1],l[1],l[2],l[3],l[4]);break;case"C":p=i.default.box(h[0],h[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var d=M.arcParams;p=a.default.box(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:n.push(f[0]),o.push(f[1])}p&&(M.box=p,n.push(p.x,p.x+p.width),o.push(p.y,p.y+p.height)),e&&("L"===M.command||"M"===M.command)&&M.prePoint&&M.nextPoint&&u.push(M)}n=n.filter((function(t){return!Number.isNaN(t)})),o=o.filter((function(t){return!Number.isNaN(t)}));var v=Math.min.apply(null,n),g=Math.min.apply(null,o),y=Math.max.apply(null,n),m=Math.max.apply(null,o);if(0===u.length)return{x:v,y:g,width:y-v,height:m-g};for(s=0;s<u.length;s++){var M;(f=(M=u[s]).currentPoint)[0]===v?v-=c(M,e).xExtra:f[0]===y&&(y+=c(M,e).xExtra),f[1]===g?g-=c(M,e).yExtra:f[1]===m&&(m+=c(M,e).yExtra)}return{x:v,y:g,width:y-v,height:m-g}}(t.get("segments")||o.default(n),u),l=f.x,h=f.y,p={minX:l,minY:h,maxX:l+f.width,maxY:h+f.height};return{x:(p=s.mergeArrowBBox(t,p)).minX,y:p.minY,width:p.maxX-p.minX,height:p.maxY-p.minY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(7),a=n(26);function o(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function u(t,e,n){var r=t+n-2*e;if(i.isNumberEqual(r,0))return[.5];var a=(t-e)/r;return a<=1&&a>=0?[a]:[]}function s(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function c(t,e,n,i,a,u,s){var c=o(t,n,a,s),f=o(e,i,u,s),l=r.default.pointAt(t,e,n,i,s),h=r.default.pointAt(n,i,a,u,s);return[[t,e,l.x,l.y,c,f],[c,f,h.x,h.y,a,u]]}e.default={box:function(t,e,n,r,a,s){var c=u(t,n,a)[0],f=u(e,r,s)[0],l=[t,a],h=[e,s];return void 0!==c&&l.push(o(t,n,a,c)),void 0!==f&&h.push(o(e,r,s,f)),i.getBBoxByArray(l,h)},length:function(t,e,n,r,a,o){return function t(e,n,r,a,o,u,s){if(0===s)return(i.distance(e,n,r,a)+i.distance(r,a,o,u)+i.distance(e,n,o,u))/2;var f=c(e,n,r,a,o,u,.5),l=f[0],h=f[1];return l.push(s-1),h.push(s-1),t.apply(null,l)+t.apply(null,h)}(t,e,n,r,a,o,3)},nearestPoint:function(t,e,n,r,i,u,s,c){return a.nearestPoint([t,n,i],[e,r,u],s,c,o)},pointDistance:function(t,e,n,r,a,o,u,s){var c=this.nearestPoint(t,e,n,r,a,o,u,s);return i.distance(c.x,c.y,u,s)},interpolationAt:o,pointAt:function(t,e,n,r,i,a,u){return{x:o(t,n,i,u),y:o(e,r,a,u)}},divide:function(t,e,n,r,i,a,o){return c(t,e,n,r,i,a,o)},tangentAngle:function(t,e,n,r,a,o,u){var c=s(t,n,a,u),f=s(e,r,o,u),l=Math.atan2(f,c);return i.piMod(l)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(10),a=n(26);function o(t,e,n,r,i){var a=1-i;return a*a*a*t+3*e*i*a*a+3*n*i*i*a+r*i*i*i}function u(t,e,n,r,i){var a=1-i;return 3*(a*a*(e-t)+2*a*i*(n-e)+i*i*(r-n))}function s(t,e,n,i){var a,o,u,s=-3*t+9*e-9*n+3*i,c=6*t-12*e+6*n,f=3*e-3*t,l=[];if(r.isNumberEqual(s,0))r.isNumberEqual(c,0)||(a=-f/c)>=0&&a<=1&&l.push(a);else{var h=c*c-4*s*f;r.isNumberEqual(h,0)?l.push(-c/(2*s)):h>0&&(o=(-c-(u=Math.sqrt(h)))/(2*s),(a=(-c+u)/(2*s))>=0&&a<=1&&l.push(a),o>=0&&o<=1&&l.push(o))}return l}function c(t,e,n,r,a,u,s,c,f){var l=o(t,n,a,s,f),h=o(e,r,u,c,f),p=i.default.pointAt(t,e,n,r,f),d=i.default.pointAt(n,r,a,u,f),v=i.default.pointAt(a,u,s,c,f),g=i.default.pointAt(p.x,p.y,d.x,d.y,f),y=i.default.pointAt(d.x,d.y,v.x,v.y,f);return[[t,e,p.x,p.y,g.x,g.y,l,h],[l,h,y.x,y.y,v.x,v.y,s,c]]}e.default={extrema:s,box:function(t,e,n,i,a,u,c,f){for(var l=[t,c],h=[e,f],p=s(t,n,a,c),d=s(e,i,u,f),v=0;v<p.length;v++)l.push(o(t,n,a,c,p[v]));for(v=0;v<d.length;v++)h.push(o(e,i,u,f,d[v]));return r.getBBoxByArray(l,h)},length:function(t,e,n,r,i,o,u,s){return function t(e,n,r,i,o,u,s,f,l){if(0===l)return a.snapLength([e,r,o,s],[n,i,u,f]);var h=c(e,n,r,i,o,u,s,f,.5),p=h[0],d=h[1];return p.push(l-1),d.push(l-1),t.apply(null,p)+t.apply(null,d)}(t,e,n,r,i,o,u,s,3)},nearestPoint:function(t,e,n,r,i,u,s,c,f,l){return a.nearestPoint([t,n,i,s],[e,r,u,c],f,l,o)},pointDistance:function(t,e,n,i,a,o,u,s,c,f){var l=this.nearestPoint(t,e,n,i,a,o,u,s,c,f);return r.distance(l.x,l.y,c,f)},interpolationAt:o,pointAt:function(t,e,n,r,i,a,u,s,c){return{x:o(t,n,i,u,c),y:o(e,r,a,s,c)}},divide:function(t,e,n,r,i,a,o,u,s){return c(t,e,n,r,i,a,o,u,s)},tangentAngle:function(t,e,n,i,a,o,s,c,f){var l=u(t,n,a,s,f),h=u(e,i,o,c,f);return r.piMod(Math.atan2(h,l))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(46);function a(t,e,n,r,i,a){return n*Math.cos(i)*Math.cos(a)-r*Math.sin(i)*Math.sin(a)+t}function o(t,e,n,r,i,a){return n*Math.sin(i)*Math.cos(a)+r*Math.cos(i)*Math.sin(a)+e}function u(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function s(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}e.default={box:function(t,e,n,r,i,u,s){for(var c=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),f=1/0,l=-1/0,h=[u,s],p=2*-Math.PI;p<=2*Math.PI;p+=Math.PI){var d=c+p;u<s?u<d&&d<s&&h.push(d):s<d&&d<u&&h.push(d)}for(p=0;p<h.length;p++){var v=a(t,0,n,r,i,h[p]);v<f&&(f=v),v>l&&(l=v)}var g=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),y=1/0,m=-1/0,M=[u,s];for(p=2*-Math.PI;p<=2*Math.PI;p+=Math.PI){var b=g+p;u<s?u<b&&b<s&&M.push(b):s<b&&b<u&&M.push(b)}for(p=0;p<M.length;p++){var x=o(0,e,n,r,i,M[p]);x<y&&(y=x),x>m&&(m=x)}return{x:f,y:y,width:l-f,height:m-y}},length:function(t,e,n,r,i,a,o){},nearestPoint:function(t,e,n,r,a,o,c,f,l){var h=s(f-t,l-e,-a),p=h[0],d=h[1],v=i.default.nearestPoint(0,0,n,r,p,d),g=function(t,e,n,r){return(Math.atan2(r*t,n*e)+2*Math.PI)%(2*Math.PI)}(n,r,v.x,v.y);g<o?v=u(n,r,o):g>c&&(v=u(n,r,c));var y=s(v.x,v.y,a);return{x:y[0]+t,y:y[1]+e}},pointDistance:function(t,e,n,i,a,o,u,s,c){var f=this.nearestPoint(t,e,n,i,s,c);return r.distance(f.x,f.y,s,c)},pointAt:function(t,e,n,r,i,u,s,c){var f=(s-u)*c+u;return{x:a(t,0,n,r,i,f),y:o(0,e,n,r,i,f)}},tangentAngle:function(t,e,n,i,a,o,u,s){var c=(u-o)*s+o,f=function(t,e,n,r,i,a,o,u){return-1*n*Math.cos(i)*Math.sin(u)-r*Math.sin(i)*Math.cos(u)}(0,0,n,i,a,0,0,c),l=function(t,e,n,r,i,a,o,u){return-1*n*Math.sin(i)*Math.sin(u)+r*Math.cos(i)*Math.cos(u)}(0,0,n,i,a,0,0,c);return r.piMod(Math.atan2(l,f))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7);function i(t,e){var n=Math.abs(t);return e>0?n:-1*n}e.default={box:function(t,e,n,r){return{x:t-n,y:e-r,width:2*n,height:2*r}},length:function(t,e,n,r){return Math.PI*(3*(n+r)-Math.sqrt((3*n+r)*(n+3*r)))},nearestPoint:function(t,e,n,r,a,o){var u=n,s=r;if(0===u||0===s)return{x:t,y:e};for(var c,f,l=a-t,h=o-e,p=Math.abs(l),d=Math.abs(h),v=u*u,g=s*s,y=Math.PI/4,m=0;m<4;m++){c=u*Math.cos(y),f=s*Math.sin(y);var M=(v-g)*Math.pow(Math.cos(y),3)/u,b=(g-v)*Math.pow(Math.sin(y),3)/s,x=c-M,_=f-b,w=p-M,A=d-b,P=Math.hypot(_,x),S=Math.hypot(A,w);y+=P*Math.asin((x*A-_*w)/(P*S))/Math.sqrt(v+g-c*c-f*f),y=Math.min(Math.PI/2,Math.max(0,y))}return{x:t+i(c,l),y:e+i(f,h)}},pointDistance:function(t,e,n,i,a,o){var u=this.nearestPoint(t,e,n,i,a,o);return r.distance(u.x,u.y,a,o)},pointAt:function(t,e,n,r,i){var a=2*Math.PI*i;return{x:t+n*Math.cos(a),y:e+r*Math.sin(a)}},tangentAngle:function(t,e,n,i,a){var o=2*Math.PI*a,u=Math.atan2(i*Math.cos(o),-n*Math.sin(o));return r.piMod(u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(27),i=n(27),a=n(50);function o(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}e.default=function(t){for(var e=[],n=null,u=null,s=null,c=0,f=(t=a.default(t)).length,l=0;l<f;l++){var h=t[l];u=t[l+1];var p=h[0],d={command:p,prePoint:n,params:h,startTangent:null,endTangent:null};switch(p){case"M":s=[h[1],h[2]],c=l;break;case"A":var v=r.default(n,h);d.arcParams=v}if("Z"===p)n=s,u=t[c+1];else{var g=h.length;n=[h[g-2],h[g-1]]}u&&"Z"===u[0]&&(u=t[c],e[c]&&(e[c].prePoint=n)),d.currentPoint=n,e[c]&&i.isSamePoint(n,e[c].currentPoint)&&(e[c].prePoint=d.prePoint);var y=u?[u[u.length-2],u[u.length-1]]:null;d.nextPoint=y;var m=d.prePoint;if(["L","H","V"].includes(p))d.startTangent=[m[0]-n[0],m[1]-n[1]],d.endTangent=[n[0]-m[0],n[1]-m[1]];else if("Q"===p){var M=[h[1],h[2]];d.startTangent=[m[0]-M[0],m[1]-M[1]],d.endTangent=[n[0]-M[0],n[1]-M[1]]}else if("T"===p){M=o((_=e[l-1]).currentPoint,m);"Q"===_.command?(d.command="Q",d.startTangent=[m[0]-M[0],m[1]-M[1]],d.endTangent=[n[0]-M[0],n[1]-M[1]]):(d.command="TL",d.startTangent=[m[0]-n[0],m[1]-n[1]],d.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("C"===p){var b=[h[1],h[2]],x=[h[3],h[4]];d.startTangent=[m[0]-b[0],m[1]-b[1]],d.endTangent=[n[0]-x[0],n[1]-x[1]]}else if("S"===p){var _;b=o((_=e[l-1]).currentPoint,m),x=[h[1],h[2]];"C"===_.command?(d.command="C",d.startTangent=[m[0]-b[0],m[1]-b[1]],d.endTangent=[n[0]-x[0],n[1]-x[1]]):(d.command="SQ",d.startTangent=[m[0]-x[0],m[1]-x[1]],d.endTangent=[n[0]-x[0],n[1]-x[1]])}else if("A"===p){var w=.001,A=d.arcParams||{},P=A.rx,S=void 0===P?0:P,O=A.ry,C=void 0===O?0:O,T=A.xRotation,k=void 0===T?0:T,E=A.arcFlag,j=void 0===E?0:E,I=A.sweepFlag,B=void 0===I?0:I,D=A.startAngle,N=void 0===D?0:D,R=A.endAngle,L=void 0===R?0:R;0===B&&(w*=-1);var F=k*Math.cos(N-w)+S,q=j*Math.sin(N-w)+C;d.startTangent=[F-s[0],q-s[1]];var Y=k*Math.cos(N+L+w)+S,G=j*Math.sin(N+L-w)+C;d.endTangent=[m.x-Y,m.y-G]}e.push(d)}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){return(t%e+e)%e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Math.PI/180;e.default=function(t){return r*t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15),i=n(8),a=n(13),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,u=/[^\s\,]+/gi;e.default=function(t){var e=t||[];return i.default(e)?e:a.default(e)?(e=e.match(o),r.default(e,(function(t,n){if((t=t.match(u))[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}r.default(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(24);e.default=function(t){var e=t.attr(),n=e.x1,i=e.y1,a=e.x2,o=e.y2,u={minX:Math.min(n,a),maxX:Math.max(n,a),minY:Math.min(i,o),maxY:Math.max(i,o)};return{x:(u=r.mergeArrowBBox(t,u)).minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,a=e.ry;return{x:n-i,y:r-a,width:2*i,height:2*a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(3),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");i.each(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)}))},e}(n(4).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(3),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return r.__extends(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");i.each(e||n,(function(t,e){a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)})),r.innerHTML=n.html},e}(n(4).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(3),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");i.each(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)}))},e}(n(4).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(3),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),o=this.get("el");i.each(e||r,(function(t,e){"img"===e?n._setImage(r.img):a.SVG_ATTR_MAP[e]&&o.setAttribute(a.SVG_ATTR_MAP[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if(i.isString(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&i.isString(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+t.width),r.setAttribute("height",""+t.height),r.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",r.toDataURL())}},e}(n(4).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(10),a=n(0),o=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");a.each(e||n,(function(e,i){if("startArrow"===i||"endArrow"===i)if(e){var u=a.isObject(e)?t.addArrow(n,o.SVG_ATTR_MAP[i]):t.getDefaultArrow(n,o.SVG_ATTR_MAP[i]);r.setAttribute(o.SVG_ATTR_MAP[i],"url(#"+u+")")}else r.removeAttribute(o.SVG_ATTR_MAP[i]);else o.SVG_ATTR_MAP[i]&&r.setAttribute(o.SVG_ATTR_MAP[i],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,a=t.y2;return i.default.length(e,n,r,a)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,a=e.x2,o=e.y2;return i.default.pointAt(n,r,a,o,t)},e}(n(4).default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(4),o=n(60),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return i.isArray(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,a=e.r||e.radius,u=e.symbol||"circle";return(t=i.isFunction(u)?u:o.default.get(u))?t(n,r,a):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=o.default,e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}};e.default={get:function(t){return r[t]},register:function(t,e){r[t]=e},remove:function(t){delete r[t]},getAll:function(){return r}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(3),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),o=this.get("el");i.each(e||r,(function(e,u){if("path"===u&&i.isArray(e))o.setAttribute("d",n._formatPath(e));else if("startArrow"===u||"endArrow"===u)if(e){var s=i.isObject(e)?t.addArrow(r,a.SVG_ATTR_MAP[u]):t.getDefaultArrow(r,a.SVG_ATTR_MAP[u]);o.setAttribute(a.SVG_ATTR_MAP[u],"url(#"+s+")")}else o.removeAttribute(a.SVG_ATTR_MAP[u]);else a.SVG_ATTR_MAP[u]&&o.setAttribute(a.SVG_ATTR_MAP[u],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},e}(n(4).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(3),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");i.each(e||n,(function(t,e){"points"===e&&i.isArray(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)}))},e}(n(4).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(10),a=n(64),o=n(0),u=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");o.each(e||n,(function(t,e){"points"===e&&o.isArray(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):u.SVG_ATTR_MAP[e]&&r.setAttribute(u.SVG_ATTR_MAP[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return o.isNil(e)?(this.set("totalLength",a.default.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,a=this.get("tCache");return a||(this._setTcache(),a=this.get("tCache")),o.each(a,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),i.default.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,a=0,u=[];o.each(t,(function(o,s){t[s+1]&&((n=[])[0]=a/e,r=i.default.length(o[0],o[1],t[s+1][0],t[s+1][1]),a+=r,n[1]=a/e,u.push(n))})),this.set("tCache",u)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(n(4).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(65),i=n(7);e.default={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var a=t[r];e.push(a[0]),n.push(a[1])}return i.getBBoxByArray(e,n)},length:function(t){return r.lengthOfSegment(t)},pointAt:function(t,e){return r.pointAtSegments(t,e)},pointDistance:function(t,e,n){return r.distanceAtSegment(t,e,n)},tangentAngle:function(t,e){return r.angleAtSegments(t,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(7);function a(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var a=t[r],o=t[r+1],u=i.distance(a[0],a[1],o[0],o[1]),s={from:a,to:o,length:u};n.push(s),e+=u}return{segments:n,totalLength:e}}e.lengthOfSegment=function(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],a=t[n+1];e+=i.distance(r[0],r[1],a[0],a[1])}return e},e.pointAtSegments=function(t,e){if(e>1||e<0||t.length<2)return null;var n=a(t),i=n.segments,o=n.totalLength;if(0===o)return{x:t[0][0],y:t[0][1]};for(var u=0,s=null,c=0;c<i.length;c++){var f=i[c],l=f.from,h=f.to,p=f.length/o;if(e>=u&&e<=u+p){var d=(e-u)/p;s=r.default.pointAt(l[0],l[1],h[0],h[1],d);break}u+=p}return s},e.angleAtSegments=function(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=a(t),r=n.segments,i=n.totalLength,o=0,u=0,s=0;s<r.length;s++){var c=r[s],f=c.from,l=c.to,h=c.length/i;if(e>=o&&e<=o+h){u=Math.atan2(l[1]-f[1],l[0]-f[0]);break}o+=h}return u},e.distanceAtSegment=function(t,e,n){for(var i=1/0,a=0;a<t.length-1;a++){var o=t[a],u=t[a+1],s=r.default.pointDistance(o[0],o[1],u[0],u[1],e,n);s<i&&(i=s)}return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(4),o=n(3),u=n(67),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),a=this.get("el"),u=!1,s=["x","y","width","height","radius"];i.each(e||r,(function(t,e){-1===s.indexOf(e)||u?-1===s.indexOf(e)&&o.SVG_ATTR_MAP[e]&&a.setAttribute(o.SVG_ATTR_MAP[e],t):(a.setAttribute("d",n._assembleRect(r)),u=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,a=t.height,o=t.radius;if(!o)return"M "+e+","+n+" l "+r+",0 l 0,"+a+" l"+-r+" 0 z";var s=u.parseRadius(o);return i.isArray(o)?1===o.length?s.r1=s.r2=s.r3=s.r4=o[0]:2===o.length?(s.r1=s.r3=o[0],s.r2=s.r4=o[1]):3===o.length?(s.r1=o[0],s.r2=s.r4=o[1],s.r3=o[2]):(s.r1=o[0],s.r2=o[1],s.r3=o[2],s.r4=o[3]):s.r1=s.r2=s.r3=s.r4=o,[["M "+(e+s.r1)+","+n],["l "+(r-s.r1-s.r2)+",0"],["a "+s.r2+","+s.r2+",0,0,1,"+s.r2+","+s.r2],["l 0,"+(a-s.r2-s.r3)],["a "+s.r3+","+s.r3+",0,0,1,"+-s.r3+","+s.r3],["l "+(s.r3+s.r4-r)+",0"],["a "+s.r4+","+s.r4+",0,0,1,"+-s.r4+","+-s.r4],["l 0,"+(s.r4+s.r1-a)],["a "+s.r1+","+s.r1+",0,0,1,"+s.r1+","+-s.r1],["z"]].join(" ")},e}(a.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\s\,]+/gi;e.parseRadius=function(t){var e=0,n=0,i=0,a=0;return r.isArray(t)?1===t.length?e=n=i=a=t[0]:2===t.length?(e=i=t[0],n=a=t[1]):3===t.length?(e=t[0],n=a=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],a=t[3]):e=n=i=a=t,{r1:e,r2:n,r3:i,r4:a}},e.parsePath=function(t){return t=t||[],r.isArray(t)?t:r.isString(t)?(t=t.match(i),r.each(t,(function(e,n){if((e=e.match(a))[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}r.each(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(69),o=n(9),u=n(3),s=n(4),c={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},f={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},l={left:"left",start:"left",center:"middle",right:"end",end:"end"},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),a=this.get("el");this._setFont(),i.each(e||r,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?o.setTransform(n):u.SVG_ATTR_MAP[e]&&a.setAttribute(u.SVG_ATTR_MAP[e],t)})),a.setAttribute("paint-order","stroke"),a.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,r=e.textAlign,i=a.detect();i&&"firefox"===i.name?t.setAttribute("dominant-baseline",f[n]||"alphabetic"):t.setAttribute("alignment-baseline",c[n]||"baseline"),t.setAttribute("text-anchor",l[r]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),r=n.x,a=n.textBaseline,o=void 0===a?"bottom":a;if(t)if(~t.indexOf("\n")){var u=t.split("\n"),s=u.length-1,c="";i.each(u,(function(t,e){0===e?"alphabetic"===o?c+='<tspan x="'+r+'" dy="'+-s+'em">'+t+"</tspan>":"top"===o?c+='<tspan x="'+r+'" dy="0.9em">'+t+"</tspan>":"middle"===o?c+='<tspan x="'+r+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===o?c+='<tspan x="'+r+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===o&&(c+='<tspan x="'+r+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):c+='<tspan x="'+r+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=c}else e.innerHTML=t;else e.innerHTML=""},e}(s.default);e.default=h},function(t,e,n){"use strict";(function(t){var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,u=a.length;o<u;o++,i++)r[i]=a[o];return r};Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){this.name=t,this.version=e,this.os=n};e.BrowserInfo=r;var i=function(e){this.version=e,this.name="node",this.os=t.platform};e.NodeInfo=i;var a=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};e.BotInfo=a;var o=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],u=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function s(t){var e=""!==t&&o.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var a=i.exec(t);return!!a&&[r,a]}),!1);if(!e)return null;var i=e[0],u=e[1];if("searchbot"===i)return new a;var s=u[1]&&u[1].split(/[._]/).slice(0,3);return s?s.length<3&&(s=n(s,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-s.length))):s=[],new r(i,s.join("."),c(t))}function c(t){for(var e=0,n=u.length;e<n;e++){var r=u[e],i=r[0];if(r[1].test(t))return i}return null}function f(){return void 0!==t&&t.version?new i(t.version.slice(1)):null}e.detect=function(t){return t?s(t):"undefined"!=typeof navigator?s(navigator.userAgent):f()},e.parseUserAgent=s,e.detectOS=c,e.getNodeVersion=f}).call(this,n(70))},function(t,e){var n,r,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var s,c=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||f||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t){t.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.4","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.4","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false}')},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1).__exportStar(n(73),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1).__exportStar(n(75),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(16),a=n(3),o=n(22),u=n(9),s=n(5),c=n(77),f=n(11),l=n(23),h=n(79),p=function(t){function e(e){return t.call(this,r.__assign(r.__assign({},e),{autoDraw:!0,renderer:"svg"}))||this}return r.__extends(e,t),e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return l.default},e.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!a.SHAPE_TO_TAGS[r.tagName]){for(var i=r.parentNode;i&&!a.SHAPE_TO_TAGS[i.tagName];)i=i.parentNode;r=i}return this.find((function(t){return t.get("el")===r}))},e.prototype.createDom=function(){var t=s.createSVGElement("svg"),e=new h.default(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var r=this.get("children");r&&r.length&&s.sortDom(this,(function(t,e){return r.indexOf(t)-r.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var i=e.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===t?u.setTransform(this):"clip"===t?u.setClip(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();u.setClip(this,t),e.length&&o.drawChildren(t,e)},e.prototype.initEvents=function(){var t=new c.default({canvas:this});t.init(),this.set("eventController",t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e}(i.AbstractCanvas);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(78),i=n(25),a=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function o(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function u(t,e,n){if(n.bubbles){var r=void 0,a=!1;if("mouseenter"===e?(r=n.fromShape,a=!0):"mouseleave"===e&&(a=!0,r=n.toShape),t.isCanvas()&&a)return;if(r&&i.isParent(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var s=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");i.each(a,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");i.each(a,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,i,a,o){var u=new r.default(t,e);return u.fromShape=a,u.toShape=o,u.x=n.x,u.y=n.y,u.clientX=n.clientX,u.clientY=n.clientY,u.propagationPath.push(i),u},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e,n,r=this.canvas,i=(n=e=t,e.touches&&(n="touchend"===e.type?e.changedTouches[0]:e.touches[0]),{clientX:n.clientX,clientY:n.clientY}),a=r.getPointByClient(i.clientX,i.clientY);return{x:a.x,y:a.y,clientX:i.clientX,clientY:i.clientY}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],a=!1;if(i)i.call(this,n,r,e);else{var o=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(a=!0,o&&this._emitEvent(t,e,n,o,o,null),this._emitEvent(t,e,n,null,o,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(a||(this.currentShape=r),r&&!r.get("destroyed")){var u=this.canvas;u.get("el").style.cursor=r.attr("cursor")||u.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,a=this.draggingShape;if(this.dragging)a&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,a);else{var o=this.mousedownPoint;if(o){var u=this.mousedownShape,s=n.timeStamp-this.mousedownTimeStamp,c=o.clientX-t.clientX,f=o.clientY-t.clientY;s>120||c*c+f*f>40?u&&u.get("draggable")?((a=this.mousedownShape).set("capture",!1),this.draggingShape=a,this.dragging=!0,this._emitEvent("dragstart",n,t,a),this.mousedownShape=null,this.mousedownPoint=null):!u&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,a){var s=this._getEventObj(t,e,n,r,i,a);if(r){s.shape=r,o(r,t,s);for(var c=r.getParent();c;)c.emitDelegation(t,s),s.propagationStopped||u(c,t,s),s.propagationPath.push(c),c=c.getParent()}else{o(this.canvas,t,s)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(80),a=n(81),o=n(82),u=n(83),s=n(84),c=n(5),f=function(){function t(t){var e=c.createSVGElement("defs"),n=r.uniqueId("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},t.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new o.default(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addGradient=function(t){var e=new i.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new o.default(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new a.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new s.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new u.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(5),a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function s(t){var e=t.match(u);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),r.each(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var c=function(){function t(t){this.cfg={};var e,n,u,c,f,l,h,p=null,d=r.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,i,o=a.exec(t),u=r.mod(r.toRadian(parseFloat(o[1])),2*Math.PI),c=o[2];u>=0&&u<.5*Math.PI?(n={x:0,y:0},i={x:1,y:1}):.5*Math.PI<=u&&u<Math.PI?(n={x:1,y:0},i={x:0,y:1}):Math.PI<=u&&u<1.5*Math.PI?(n={x:1,y:1},i={x:0,y:0}):(n={x:0,y:1},i={x:1,y:0});var f=Math.tan(u),l=f*f,h=(i.x-n.x+f*(i.y-n.y))/(l+1)+n.x,p=f*(i.x-n.x+f*(i.y-n.y))/(l+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",h),e.setAttribute("y2",p),e.innerHTML=s(c)}(t,p=i.createSVGElement("linearGradient")):(p=i.createSVGElement("radialGradient"),e=t,n=p,u=o.exec(e),c=parseFloat(u[1]),f=parseFloat(u[2]),l=parseFloat(u[3]),h=u[4],n.setAttribute("cx",c),n.setAttribute("cy",f),n.setAttribute("r",l),n.innerHTML=s(h)),p.setAttribute("id",d),this.el=p,this.id=d,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(5),a={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},o={x:"-40%",y:"-40%",width:"200%",height:"200%"},u=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=i.createSVGElement("filter");return r.each(o,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=r.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return r.each(Object.keys(i),(function(t){if(i[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[a[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(5),a=function(){function t(t,e){this.cfg={};var n=i.createSVGElement("marker"),a=r.uniqueId("marker_");n.setAttribute("id",a);var o=i.createSVGElement("path");o.setAttribute("stroke",t.stroke||"none"),o.setAttribute("fill",t.fill||"none"),n.appendChild(o),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=o,this.id=a;var u=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===u?this._setDefaultPath(e,o):(this.cfg=u,this._setMarker(t.lineWidth,o)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,i=this.cfg.path,a=this.cfg.d;r.isArray(i)&&(i=i.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",i),n.appendChild(e),a&&n.setAttribute("refX",""+a/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(5),a=function(){function t(t){this.type="clip",this.cfg={};var e=i.createSVGElement("clipPath");this.el=e,this.id=r.uniqueId("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(5),a=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,o=function(){function t(t){this.cfg={};var e=i.createSVGElement("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=i.createSVGElement("image");e.appendChild(n);var o=r.uniqueId("pattern_");e.id=o,this.el=e,this.id=o,this.cfg=t;var u=a.exec(t)[2];n.setAttribute("href",u);var s=new Image;function c(){e.setAttribute("width",""+s.width),e.setAttribute("height",""+s.height)}return u.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=u,s.complete?c():(s.onload=c,s.src=s.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();e.default=o},function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return a})),n.d(e,"clone",(function(){return o})),n.d(e,"fromValues",(function(){return u})),n.d(e,"copy",(function(){return s})),n.d(e,"set",(function(){return c})),n.d(e,"add",(function(){return f})),n.d(e,"subtract",(function(){return l})),n.d(e,"multiply",(function(){return h})),n.d(e,"divide",(function(){return p})),n.d(e,"ceil",(function(){return d})),n.d(e,"floor",(function(){return v})),n.d(e,"min",(function(){return g})),n.d(e,"max",(function(){return y})),n.d(e,"round",(function(){return m})),n.d(e,"scale",(function(){return M})),n.d(e,"scaleAndAdd",(function(){return b})),n.d(e,"distance",(function(){return x})),n.d(e,"squaredDistance",(function(){return _})),n.d(e,"length",(function(){return w})),n.d(e,"squaredLength",(function(){return A})),n.d(e,"negate",(function(){return P})),n.d(e,"inverse",(function(){return S})),n.d(e,"normalize",(function(){return O})),n.d(e,"dot",(function(){return C})),n.d(e,"cross",(function(){return T})),n.d(e,"lerp",(function(){return k})),n.d(e,"random",(function(){return E})),n.d(e,"transformMat2",(function(){return j})),n.d(e,"transformMat2d",(function(){return I})),n.d(e,"transformMat3",(function(){return B})),n.d(e,"transformMat4",(function(){return D})),n.d(e,"rotate",(function(){return N})),n.d(e,"angle",(function(){return R})),n.d(e,"zero",(function(){return L})),n.d(e,"str",(function(){return F})),n.d(e,"exactEquals",(function(){return q})),n.d(e,"equals",(function(){return Y})),n.d(e,"len",(function(){return V})),n.d(e,"sub",(function(){return X})),n.d(e,"mul",(function(){return W})),n.d(e,"div",(function(){return z})),n.d(e,"dist",(function(){return H})),n.d(e,"sqrDist",(function(){return Q})),n.d(e,"sqrLen",(function(){return U})),n.d(e,"forEach",(function(){return $}));var r="undefined"!=typeof Float32Array?Float32Array:Array,i=Math.random;Math.PI;function a(){var t=new r(2);return r!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new r(2);return e[0]=t[0],e[1]=t[1],e}function u(t,e){var n=new r(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function c(t,e,n){return t[0]=e,t[1]=n,t}function f(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function h(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function p(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function v(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function y(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function M(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function _(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function w(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function A(t){var e=t[0],n=t[1];return e*e+n*n}function P(t,e){return t[0]=-e[0],t[1]=-e[1],t}function S(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function O(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function C(t,e){return t[0]*e[0]+t[1]*e[1]}function T(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function k(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t}function E(t,e){e=e||1;var n=2*i()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function j(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function I(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function B(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function D(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function N(t,e,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=Math.sin(r),u=Math.cos(r);return t[0]=i*u-a*o+n[0],t[1]=i*o+a*u+n[1],t}function R(t,e){var n=t[0],r=t[1],i=e[0],a=e[1],o=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+a*a),u=o&&(n*i+r*a)/o;return Math.acos(Math.min(Math.max(u,-1),1))}function L(t){return t[0]=0,t[1]=0,t}function F(t){return"vec2("+t[0]+", "+t[1]+")"}function q(t,e){return t[0]===e[0]&&t[1]===e[1]}function Y(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=1e-6*Math.max(1,Math.abs(r),Math.abs(a))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var G,V=w,X=l,W=h,z=p,H=x,Q=_,U=A,$=(G=a(),function(t,e,n,r,i,a){var o,u;for(e||(e=2),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,o=n;o<u;o+=e)G[0]=t[o],G[1]=t[o+1],i(G,G,a),t[o]=G[0],t[o+1]=G[1];return t})}])}));
//# sourceMappingURL=g.min.js.map