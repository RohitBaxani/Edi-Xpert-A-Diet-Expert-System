{"version":3,"file":"theme.js","sourceRoot":"","sources":["../../../src/base/controller/theme.ts"],"names":[],"mappings":";;AAAA,+CAA0D;AAC1D,mCAA+C;AAC/C,qCAAyE;AACzE,qDAAiE;AAGjE;;GAEG;AAEH,IAAM,cAAc,GAAG,qBAAU,EAAE,CAAC;AAEpC;IAAA;IAuCA,CAAC;IAtCC;;;OAGG;IACW,8BAAc,GAA5B,UAA6B,KAAsB;QACjD,IAAI,eAAQ,CAAC,KAAK,CAAC,EAAE;YACnB,OAAO,sBAAc,CAAC,KAAK,CAAC,CAAC;SAC9B;QACD,OAAO,cAAO,CAAC,EAAE,EAAE,sBAAc,EAAE,EAAE,KAAK,CAAC,CAAC;IAC9C,CAAC;IAED;;;;OAIG;IACI,sCAAY,GAAnB,UAAoB,KAAQ,EAAE,IAAY;QAChC,IAAA,mBAAK,CAAW;QACxB,IAAI,eAAQ,CAAC,KAAK,CAAC,EAAE;YACnB,OAAO,cAAO,CAAC,EAAE,EAAE,sBAAc,CAAC,KAAK,CAAC,EAAE,gBAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;SAC3D;QACD,OAAO,cAAO,CAAC,EAAE,EAAE,sBAAc,EAAE,EAAE,gBAAQ,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;IAC9D,CAAC;IAED;;;;OAIG;IACI,kCAAQ,GAAf,UAAgB,KAAQ,EAAE,IAAY;QACpC,IAAM,WAAW,GAAG,wBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;QACrE,IAAM,OAAO,GAAG,cAAO,CAAC,EAAE,EAAE,cAAc,EAAE,WAAW,CAAC,CAAC;QACzD,OAAO,OAAO,CAAC;IACjB,CAAC;IAEM,4CAAkB,GAAzB,UAA0B,IAAY;QACpC,OAAO,0BAAkB,CAAC,IAAI,CAAC,IAAI,0BAAkB,CAAC,SAAS,CAAC,CAAC;IACnE,CAAC;IACH,sBAAC;AAAD,CAAC,AAvCD,IAuCC","sourcesContent":["import { getTheme as g2GetTheme } from '../../dependents';\nimport { isString, deepMix } from '@antv/util';\nimport { convertToG2Theme, getGlobalTheme, getTheme } from '../../theme';\nimport { getResponsiveTheme } from '../../util/responsive/theme';\nimport { ViewConfig } from '../view-layer';\n\n/**\n * 负责图表theme的管理\n */\n\nconst G2DefaultTheme = g2GetTheme();\n\nexport default class ThemeController<T extends ViewConfig = ViewConfig> {\n  /**\n   * 获取指定的全局theme\n   * @param theme\n   */\n  public static getGlobalTheme(theme: string | object) {\n    if (isString(theme)) {\n      return getGlobalTheme(theme);\n    }\n    return deepMix({}, getGlobalTheme(), theme);\n  }\n\n  /**\n   * 通过 theme 和图表类型，获取当前 plot 对应的主题\n   * @param props\n   * @param type\n   */\n  public getPlotTheme(props: T, type: string) {\n    const { theme } = props;\n    if (isString(theme)) {\n      return deepMix({}, getGlobalTheme(theme), getTheme(type));\n    }\n    return deepMix({}, getGlobalTheme(), getTheme(type), theme);\n  }\n\n  /**\n   * 获取转化成 G2 的结构主题\n   * @param props\n   * @param type\n   */\n  public getTheme(props: T, type: string): any {\n    const plotG2Theme = convertToG2Theme(this.getPlotTheme(props, type));\n    const g2Theme = deepMix({}, G2DefaultTheme, plotG2Theme);\n    return g2Theme;\n  }\n\n  public getResponsiveTheme(type: string) {\n    return getResponsiveTheme(type) || getResponsiveTheme('default');\n  }\n}\n"]}