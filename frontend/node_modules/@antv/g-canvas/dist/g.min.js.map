{"version":3,"sources":["webpack://G/webpack/universalModuleDefinition","webpack://G/webpack/bootstrap","webpack://G/./node_modules/gl-matrix/esm/common.js","webpack://G/./node_modules/tslib/tslib.es6.js","webpack://G/../g-base/node_modules/@antv/gl-matrix/lib/gl-matrix/mat3.js","webpack://G/./src/util/util.ts","webpack://G/./src/shape/base.ts","webpack://G/../g-base/node_modules/@antv/gl-matrix/lib/gl-matrix/vec2.js","webpack://G/../src/util.ts","webpack://G/../src/line.ts","webpack://G/./src/shape/index.ts","webpack://G/../src/is-array.ts","webpack://G/./src/util/draw.ts","webpack://G/../src/is-array-like.ts","webpack://G/../src/is-type.ts","webpack://G/../src/is-function.ts","webpack://G/../src/is-nil.ts","webpack://G/../src/is-object.ts","webpack://G/../src/each.ts","webpack://G/../src/keys.ts","webpack://G/../src/is-match.ts","webpack://G/../src/is-object-like.ts","webpack://G/../src/find-index.ts","webpack://G/../src/pull.ts","webpack://G/../src/is-string.ts","webpack://G/../src/pull-at.ts","webpack://G/../src/group-by.ts","webpack://G/../src/parse-radius.ts","webpack://G/../src/clamp.ts","webpack://G/../src/is-number.ts","webpack://G/../src/is-integer.ts","webpack://G/../src/to-degree.ts","webpack://G/../src/to-integer.ts","webpack://G/../src/to-radian.ts","webpack://G/../src/values.ts","webpack://G/../src/is-odd.ts","webpack://G/../src/to-string.ts","webpack://G/../src/substitute.ts","webpack://G/../src/upper-first.ts","webpack://G/../src/is-prototype.ts","webpack://G/../src/mix.ts","webpack://G/../src/augment.ts","webpack://G/../src/clone.ts","webpack://G/../src/is-empty.ts","webpack://G/../src/is-equal.ts","webpack://G/../src/unique-id.ts","webpack://G/../src/pick.ts","webpack://G/../src/noop.ts","webpack://G/../src/cache.ts","webpack://G/../../src/util/path.ts","webpack://G/../../src/event/graph-event.ts","webpack://G/../g-base/node_modules/tslib/tslib.es6.js","webpack://G/../src/index.ts","webpack://G/../../src/util/util.ts","webpack://G/../../src/abstract/base.ts","webpack://G/../src/mat3.ts","webpack://G/../src/vec2.ts","webpack://G/../src/transform.ts","webpack://G/../../src/util/matrix.ts","webpack://G/../../src/abstract/element.ts","webpack://G/../../src/abstract/container.ts","webpack://G/../g-base/node_modules/d3-timer/src/timer.js","webpack://G/../g-base/node_modules/d3-ease/src/linear.js","webpack://G/../g-base/node_modules/d3-ease/src/quad.js","webpack://G/../g-base/node_modules/d3-ease/src/cubic.js","webpack://G/../g-base/node_modules/d3-ease/src/poly.js","webpack://G/../g-base/node_modules/d3-ease/src/sin.js","webpack://G/../g-base/node_modules/d3-ease/src/exp.js","webpack://G/../g-base/node_modules/d3-ease/src/circle.js","webpack://G/../g-base/node_modules/d3-ease/src/bounce.js","webpack://G/../g-base/node_modules/d3-ease/src/back.js","webpack://G/../g-base/node_modules/d3-ease/src/elastic.js","webpack://G/../g-base/node_modules/d3-color/src/define.js","webpack://G/../g-base/node_modules/d3-color/src/color.js","webpack://G/../g-base/node_modules/d3-interpolate/src/basis.js","webpack://G/../g-base/node_modules/d3-interpolate/src/constant.js","webpack://G/../g-base/node_modules/d3-interpolate/src/color.js","webpack://G/../g-base/node_modules/d3-interpolate/src/rgb.js","webpack://G/../g-base/node_modules/d3-interpolate/src/basisClosed.js","webpack://G/../g-base/node_modules/d3-interpolate/src/numberArray.js","webpack://G/../g-base/node_modules/d3-interpolate/src/array.js","webpack://G/../g-base/node_modules/d3-interpolate/src/date.js","webpack://G/../g-base/node_modules/d3-interpolate/src/number.js","webpack://G/../g-base/node_modules/d3-interpolate/src/object.js","webpack://G/../g-base/node_modules/d3-interpolate/src/string.js","webpack://G/../g-base/node_modules/d3-interpolate/src/value.js","webpack://G/../../src/animate/timeline.ts","webpack://G/../../src/util/color.ts","webpack://G/../../src/abstract/canvas.ts","webpack://G/../../src/abstract/group.ts","webpack://G/../../src/abstract/shape.ts","webpack://G/./src/util/arrow.ts","webpack://G/./src/util/in-stroke/line.ts","webpack://G/../src/contains.ts","webpack://G/../src/filter.ts","webpack://G/../src/difference.ts","webpack://G/../src/is-plain-object.ts","webpack://G/../src/find.ts","webpack://G/../src/first-value.ts","webpack://G/../src/flatten.ts","webpack://G/../src/flatten-deep.ts","webpack://G/../src/get-range.ts","webpack://G/../src/reduce.ts","webpack://G/../src/remove.ts","webpack://G/../src/sort-by.ts","webpack://G/../src/uniq.ts","webpack://G/../src/union.ts","webpack://G/../src/values-of-key.ts","webpack://G/../src/head.ts","webpack://G/../src/last.ts","webpack://G/../src/starts-with.ts","webpack://G/../src/ends-with.ts","webpack://G/../src/every.ts","webpack://G/../src/some.ts","webpack://G/../src/group-to-map.ts","webpack://G/../src/group.ts","webpack://G/../src/get-wrap-behavior.ts","webpack://G/../src/wrap-behavior.ts","webpack://G/../src/number2color.ts","webpack://G/../src/fixed-base.ts","webpack://G/../src/is-decimal.ts","webpack://G/../src/is-even.ts","webpack://G/../src/is-negative.ts","webpack://G/../src/is-number-equal.ts","webpack://G/../src/is-positive.ts","webpack://G/../src/max-by.ts","webpack://G/../src/min-by.ts","webpack://G/../src/mod.ts","webpack://G/../src/for-in.ts","webpack://G/../src/has.ts","webpack://G/../src/has-key.ts","webpack://G/../src/has-value.ts","webpack://G/../src/lower-case.ts","webpack://G/../src/lower-first.ts","webpack://G/../src/upper-case.ts","webpack://G/../src/get-type.ts","webpack://G/../src/is-arguments.ts","webpack://G/../src/is-boolean.ts","webpack://G/../src/is-date.ts","webpack://G/../src/is-error.ts","webpack://G/../src/is-finite.ts","webpack://G/../src/is-null.ts","webpack://G/../src/is-reg-exp.ts","webpack://G/../src/is-undefined.ts","webpack://G/../src/is-element.ts","webpack://G/../src/request-animation-frame.ts","webpack://G/../src/clear-animation-frame.ts","webpack://G/../src/debounce.ts","webpack://G/../src/memoize.ts","webpack://G/../src/deep-mix.ts","webpack://G/../src/extend.ts","webpack://G/../src/index-of.ts","webpack://G/../src/is-equal-with.ts","webpack://G/../src/map.ts","webpack://G/../src/map-values.ts","webpack://G/../src/get.ts","webpack://G/../src/set.ts","webpack://G/../src/throttle.ts","webpack://G/../src/to-array.ts","webpack://G/../src/identity.ts","webpack://G/../src/size.ts","webpack://G/../g-base/node_modules/@antv/gl-matrix/lib/gl-matrix/common.js","webpack://G/../../src/bbox/util.ts","webpack://G/../src/cubic.ts","webpack://G/./src/group.ts","webpack://G/./src/util/parse.ts","webpack://G/../../src/util/text.ts","webpack://G/../../src/util/offscreen.ts","webpack://G/../src/quadratic.ts","webpack://G/../src/bezier.ts","webpack://G/../src/get-arc-params.ts","webpack://G/../src/path-2-absolute.ts","webpack://G/./src/util/in-path/point-in-path.ts","webpack://G/./src/util/in-path/polygon.ts","webpack://G/./src/util/in-stroke/arc.ts","webpack://G/./src/util/in-stroke/polyline.ts","webpack://G/../g-base/node_modules/@antv/gl-matrix/lib/gl-matrix/vec3.js","webpack://G/./src/index.ts","webpack://G/./src/util/arc-params.ts","webpack://G/../../src/bbox/index.ts","webpack://G/../../src/bbox/register.ts","webpack://G/../../src/bbox/rect.ts","webpack://G/../../src/bbox/circle.ts","webpack://G/../../src/bbox/polyline.ts","webpack://G/../../src/bbox/polygon.ts","webpack://G/../../src/bbox/text.ts","webpack://G/../../src/bbox/path.ts","webpack://G/../src/arc.ts","webpack://G/../src/ellipse.ts","webpack://G/../src/path-2-segments.ts","webpack://G/../src/parse-path.ts","webpack://G/../../src/bbox/line.ts","webpack://G/../../src/bbox/ellipse.ts","webpack://G/./src/shape/circle.ts","webpack://G/./src/shape/ellipse.ts","webpack://G/./src/shape/image.ts","webpack://G/./src/shape/line.ts","webpack://G/./src/shape/marker.ts","webpack://G/../src/parse-path-string.ts","webpack://G/./src/shape/path.ts","webpack://G/./src/util/path.ts","webpack://G/./node_modules/gl-matrix/esm/mat3.js","webpack://G/./node_modules/gl-matrix/esm/vec3.js","webpack://G/./src/shape/polygon.ts","webpack://G/./src/shape/polyline.ts","webpack://G/../src/polyline.ts","webpack://G/../src/segments.ts","webpack://G/./src/shape/rect.ts","webpack://G/./src/util/in-stroke/rect.ts","webpack://G/./src/util/in-stroke/rect-radius.ts","webpack://G/./src/shape/text.ts","webpack://G/./src/types.ts","webpack://G/./src/interfaces.ts","webpack://G/./src/canvas.ts","webpack://G/./src/util/hit.ts","webpack://G/../../src/event/event-contoller.ts","webpack://G/../g-math/node_modules/gl-matrix/esm/common.js","webpack://G/../g-math/node_modules/gl-matrix/esm/vec2.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","EPSILON","ARRAY_TYPE","Float32Array","Array","RANDOM","Math","random","PI","hypot","y","arguments","length","sqrt","extendStatics","b","setPrototypeOf","__proto__","__extends","__","this","constructor","__assign","assign","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","push","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","k","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","default","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","sub","mul","undefined","out","glMatrix","fromMat4","clone","copy","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","identity","transpose","a01","a02","a12","invert","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","adjoint","determinant","multiply","translate","x","rotate","rad","sin","cos","scale","fromTranslation","fromRotation","fromScaling","fromMat2d","fromQuat","z","w","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b00","b02","b03","b04","b05","b06","b07","b08","b09","b10","projection","width","height","str","frob","pow","add","subtract","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","a0","a1","a2","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","abs","max","obj","newObj","_interopRequireWildcard","require","b12","b20","b22","devicePixelRatio","x1","y1","dx","dy","minX","minY","box1","box2","maxX","maxY","region1","region2","min","point1","point2","getDefaultAttrs","attrs","lineWidth","lineAppendWidth","strokeOpacity","fillOpacity","getShapeBase","Shape","getGroupBase","onCanvasChange","changeType","refreshElement","calculateBBox","type","getHitLineWidth","box","getBBoxMethod","bboxMethod","halfLineWidth","isFill","isClipShape","isStroke","_applyClip","context","clip","save","applyAttrsToContext","createPath","restore","_afterDraw","draw","region","getClip","bbox","getMergedRegion","getCanvasBBox","intersectRect","drawPath","canvas","getCanvas","viewRange","getViewRange","skipDraw","strokeAndFill","afterDrawPath","fill","stroke","opacity","isNil","globalAlpha","isInShape","refX","refY","isInStrokeOrPath","AbstractShape","ShapeBase","forEach","sqrLen","sqrDist","dist","div","len","divide","ceil","floor","round","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","dot","cross","lerp","ax","ay","transformMat2","transformMat2d","transformMat3","transformMat4","p0","p1","sinC","cosC","angle","len1","len2","cosine","acos","vec","stride","offset","count","fn","arg","minNum","array","xArr","yArr","pointAt","pointDistance","pointToLine","vec2","tangentAngle","SHAPE_ATTRS_MAP","getRefreshRegion","element","destroyed","cacheBox","validCache","validBBox","mergeRegion","attr","transform","setLineDash","isArray","parseStyle","children","child","shape","arcParamsCache","path","startArrow","endArrow","currentPoint","startMovePoint","beginPath","params","command","tangent","getStartTangent","ArrowUtil","getShortenOffset","getEndTangent","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","arcParams","cx","cy","rx","ry","startAngle","endAngle","xRotation","sweepFlag","ellipse","scaleX","scaleY","arc","closePath","_cacheCanvasBBox","elements","minXArr","minYArr","maxXArr","maxYArr","each","el","viewRegion","rst","default_1","dots","res","points","Base","Element","repeat","taskHead","taskTail","group","Container","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","_next","timer","callback","delay","time","restart","wake","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","linear","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","stop","polyIn","custom","exponent","polyOut","polyInOut","pi","halfPi","sinIn","sinOut","sinInOut","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","bounceInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","asin","amplitude","period","elasticOut","elasticInOut","extend","parent","definition","Color","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","NaN","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","isNaN","toString","h","Hsl","hslConvert","hsl2rgb","m1","m2","basis","v0","v1","v2","v3","t3","channels","displayable","formatHsl","brighter","darker","gamma","nogamma","exponential","constant","rgbGamma","start","end","colorRgb","rgbSpline","spline","colors","values","slice","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","source","am","bm","bs","bi","lastIndex","index","number","one","zero","join","string","date","numberArray","valueOf","update","duration","animation","easing","elapsed","ratio","cPathPoint","cProps","Timeline","_this","Canvas","atan2","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","arrowAttrs","restAttrs","arrowStroke","arrowLineWidth","arrowFill","halfWidth","arr","base","num","precision","maxData","data","memoized","superObj","func","setMatrixArrayType","toRadian","degree","startArrowShape","endArrowShape","cubicAt","onet","Group","getChildren","drawChildren","AbstractGroup","regexLG","regexRG","regexPR","regexColorStop","addStop","steps","gradient","match","item","itemArr","split","addColorStop","parseLineGradient","gradientStr","parseFloat","getBBox","tanTheta","tanTheta2","createLinearGradient","parseRadialGradient","fx","fy","fr","createRadialGradient","parsePattern","patternStr","pattern","img","onload","createPattern","Image","crossOrigin","src","complete","isString","radius","r1","r2","r3","r4","lineCount","offscreen_1","getOffScreenContext","text","util_1","quadraticAt","vRatio","u","pathArray","parse_path_string_1","ctx","isPointInPath","dcmp","onSegment","p2","isHit","point","isClose","first","last","az","bx","by","bz","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","tempA","tempB","pkg","version","Event","vMag","vAngle","startPoint","arcFlag","xp","yp","lambda","diff","cxp","cyp","theta","dTheta","isSamePoint","register_1","register","util_2","text_1","textAlign","segments","nextParams","prePoint","startTangent","endTangent","lastStartMovePointIndex","segment","absDistance","Circle","ellipseDistance","squareX","squareY","halfLineWith","Ellipse","isCanvas","dom","HTMLElement","nodeName","toUpperCase","initAttrs","_setImage","isOnlyHitBox","_afterLoading","Number","getAttribute","onAttrChange","originValue","sx","sy","swidth","sheight","drawImage","ImageShape","setArrow","addStartArrow","addEndArrow","startArrowDistance","endArrowDistance","getTotalLength","getPoint","Line","Symbols","circle","square","diamond","triangle","diffY","_resetParamsCache","_getR","_getPath","method","symbol","isFunction","Marker","console","warn","paramsCache","isInPolygons","polygons","_setPathArr","hasArc","getSegments","isPointInStroke","extractResutl","extractPolygons","polylines","totalLength","_calculateCurve","_setTcache","subt","tCache","curve","seg","nextSeg","pathToCurve","segmentT","segmentL","segmentN","tempLength","endPoint","cmd","inBox","mat3","vec3","PathUtil","mag","Polygon","_resetCache","PolyLine","analyzePoints","from","to","rect","Rect","fontSize","fontFamily","fontStyle","fontWeight","fontVariant","textBaseline","_assembleFont","_setText","font","assembleFont","textArr","startsWith","_getSpaceingY","lineHeight","_drawTextArr","subY","spaceingY","getTextHeight","subText","fillText","strokeText","_drawText","Text","getDefaultCfg","cfg","getPixelRatio","pixelRatio","initEvents","eventController","init","createDom","document","createElement","getContext","setDOMSize","clear","_clearFrame","clearRect","getShape","_getRefreshRegion","mergeView","drawFrame","clearAnimationFrame","_startDraw","_drawAll","_drawRegion","destroy","AbstractCanvas","getRefXY","totalMatrix","getTotalMatrix","matrix","invertMatrix","multiplyVec2","preTest","isAllowCapture","isInView","clipShape","isClipped","cacheCanvasBBox","container","isGroup","curShape","eventObj","isOverEvent","clientX","clientY"],"mappings":"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","file":"g.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"G\"] = factory();\n\telse\n\t\troot[\"G\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 48);\n","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sub = exports.mul = undefined;\nexports.create = create;\nexports.fromMat4 = fromMat4;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromMat2d = fromMat2d;\nexports.fromQuat = fromQuat;\nexports.normalFromMat4 = normalFromMat4;\nexports.projection = projection;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20;\n\n  // Calculate the determinant\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n};\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat3} out\n */\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat3} out\n */\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n\n  return out;\n}\n\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n  return out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nfunction str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nfunction frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;","export function getPixelRatio() {\n  return window ? window.devicePixelRatio : 1;\n}\n\n/**\n * 两点之间的距离\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 结束点 x\n * @param {number} y2 结束点 y\n */\nexport function distance(x1: number, y1: number, x2: number, y2: number) {\n  const dx = x1 - x2;\n  const dy = y1 - y2;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/**\n * 是否在包围盒内\n * @param {number} minX   包围盒开始的点 x\n * @param {number} minY   包围盒开始的点 y\n * @param {number} width  宽度\n * @param {number} height 高度\n * @param {[type]} x      检测点的 x\n * @param {[type]} y      监测点的 y\n */\nexport function inBox(minX: number, minY: number, width: number, height: number, x, y) {\n  return x >= minX && x <= minX + width && y >= minY && y <= minY + height;\n}\n\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n// 合并两个区域\nexport function mergeRegion(region1, region2) {\n  if (!region1 || !region2) {\n    return region1 || region2;\n  }\n  return {\n    minX: Math.min(region1.minX, region2.minX),\n    minY: Math.min(region1.minY, region2.minY),\n    maxX: Math.max(region1.maxX, region2.maxX),\n    maxY: Math.max(region1.maxY, region2.maxY),\n  };\n}\n\n/**\n * 判断两个点是否重合，点坐标的格式为 [x, y]\n * @param {Array} point1 第一个点\n * @param {Array} point2 第二个点\n */\nexport function isSamePoint(point1, point2) {\n  return point1[0] === point2[0] && point1[1] === point2[1];\n}\n\nexport { default as isNil } from '@antv/util/lib/is-nil';\nexport { default as isString } from '@antv/util/lib/is-string';\nexport { default as isFunction } from '@antv/util/lib/is-function';\nexport { default as isArray } from '@antv/util/lib/is-array';\nexport { default as each } from '@antv/util/lib/each';\nexport { default as toRadian } from '@antv/util/lib/to-radian';\nexport { default as mod } from '@antv/util/lib/mod';\nexport { default as isNumberEqual } from '@antv/util/lib/is-number-equal';\nexport { default as requestAnimationFrame } from '@antv/util/lib/request-animation-frame';\nexport { default as clearAnimationFrame } from '@antv/util/lib/clear-animation-frame';\n","import { AbstractShape } from '@antv/g-base';\nimport { ChangeType, BBox } from '@antv/g-base/lib/types';\nimport { isNil, intersectRect } from '../util/util';\nimport { applyAttrsToContext, refreshElement, getMergedRegion } from '../util/draw';\nimport { getBBoxMethod } from '@antv/g-base/lib/bbox/index';\nimport { Region } from '../types';\nimport * as Shape from './index';\nimport Group from '../group';\n\nclass ShapeBase extends AbstractShape {\n  getDefaultAttrs() {\n    const attrs = super.getDefaultAttrs();\n    // 设置默认值\n    return {\n      ...attrs,\n      lineWidth: 1,\n      lineAppendWidth: 0,\n      strokeOpacity: 1,\n      fillOpacity: 1,\n    };\n  }\n\n  getShapeBase() {\n    return Shape;\n  }\n\n  getGroupBase() {\n    return Group;\n  }\n\n  /**\n   * 一些方法调用会引起画布变化\n   * @param {ChangeType} changeType 改变的类型\n   */\n  onCanvasChange(changeType: ChangeType) {\n    refreshElement(this, changeType);\n  }\n\n  calculateBBox(): BBox {\n    const type = this.get('type');\n    const lineWidth = this.getHitLineWidth();\n    // const attrs = this.attr();\n    const bboxMethod = getBBoxMethod(type);\n    const box = bboxMethod(this);\n    const halfLineWidth = lineWidth / 2;\n    const minX = box.x - halfLineWidth;\n    const minY = box.y - halfLineWidth;\n    const maxX = box.x + box.width + halfLineWidth;\n    const maxY = box.y + box.height + halfLineWidth;\n    return {\n      x: minX,\n      minX,\n      y: minY,\n      minY,\n      width: box.width + lineWidth,\n      height: box.height + lineWidth,\n      maxX,\n      maxY,\n    };\n  }\n\n  isFill() {\n    return !!this.attrs['fill'] || this.isClipShape();\n  }\n\n  isStroke() {\n    return !!this.attrs['stroke'];\n  }\n\n  // 同 shape 中的方法重复了\n  _applyClip(context, clip: ShapeBase) {\n    if (clip) {\n      context.save();\n      // 将 clip 的属性挂载到 context 上\n      applyAttrsToContext(context, clip);\n      // 绘制 clip 路径\n      clip.createPath(context);\n      context.restore();\n      // 裁剪\n      context.clip();\n      clip._afterDraw();\n    }\n  }\n\n  // 绘制图形时需要考虑 region 限制\n  draw(context: CanvasRenderingContext2D, region?: Region) {\n    const clip = this.getClip();\n    // 如果指定了区域，当与指定区域相交时，才会触发渲染\n    if (region) {\n      // 是否相交需要考虑 clip 的包围盒\n      const bbox = clip ? getMergedRegion([this, clip]) : this.getCanvasBBox();\n      if (!intersectRect(region, bbox)) {\n        return;\n      }\n    }\n    context.save();\n    // 先将 attrs 应用到上下文中，再设置 clip。因为 clip 应该被当前元素的 matrix 所影响\n    applyAttrsToContext(context, this);\n    this._applyClip(context, this.getClip() as ShapeBase);\n    this.drawPath(context);\n    context.restore();\n    this._afterDraw();\n  }\n\n  _afterDraw() {\n    const bbox = this.getCanvasBBox();\n    const canvas = this.getCanvas();\n    // 绘制的时候缓存包围盒\n    this.set('cacheCanvasBBox', bbox);\n    if (canvas) {\n      // @ts-ignore\n      const viewRange = canvas.getViewRange();\n      this.set('isInView', intersectRect(bbox, viewRange));\n    }\n    // 绘制后消除标记\n    this.set('hasChanged', false);\n  }\n\n  skipDraw() {\n    this.set('cacheCanvasBBox', null);\n    this.set('isInView', null);\n    this.set('hasChanged', false);\n  }\n\n  /**\n   * 绘制图形的路径\n   * @param {CanvasRenderingContext2D} context 上下文\n   */\n  drawPath(context: CanvasRenderingContext2D) {\n    this.createPath(context);\n    this.strokeAndFill(context);\n    this.afterDrawPath(context);\n  }\n\n  /**\n   * @protected\n   * 填充图形\n   * @param {CanvasRenderingContext2D} context context 上下文\n   */\n  fill(context: CanvasRenderingContext2D) {\n    context.fill();\n  }\n\n  /**\n   * @protected\n   * 绘制图形边框\n   * @param {CanvasRenderingContext2D} context context 上下文\n   */\n  stroke(context: CanvasRenderingContext2D) {\n    context.stroke();\n  }\n\n  // 绘制或者填充\n  strokeAndFill(context) {\n    const { lineWidth, opacity, strokeOpacity, fillOpacity } = this.attrs;\n\n    if (this.isFill()) {\n      if (!isNil(fillOpacity) && fillOpacity !== 1) {\n        context.globalAlpha = fillOpacity;\n        this.fill(context);\n        context.globalAlpha = opacity;\n      } else {\n        this.fill(context);\n      }\n    }\n\n    if (this.isStroke()) {\n      if (lineWidth > 0) {\n        if (!isNil(strokeOpacity) && strokeOpacity !== 1) {\n          context.globalAlpha = strokeOpacity;\n        }\n        this.stroke(context);\n      }\n    }\n    this.afterDrawPath(context);\n  }\n\n  /**\n   * @protected\n   * 绘制图形的路径\n   * @param {CanvasRenderingContext2D} context 上下文\n   */\n  createPath(context: CanvasRenderingContext2D) {}\n\n  /**\n   * 绘制完成 path 后的操作\n   * @param {CanvasRenderingContext2D} context 上下文\n   */\n  afterDrawPath(context: CanvasRenderingContext2D) {}\n\n  isInShape(refX: number, refY: number): boolean {\n    // return HitUtil.isHitShape(this, refX, refY);\n    const isStroke = this.isStroke();\n    const isFill = this.isFill();\n    const lineWidth = this.getHitLineWidth();\n    return this.isInStrokeOrPath(refX, refY, isStroke, isFill, lineWidth);\n  }\n\n  // 之所以不拆成 isInStroke 和 isInPath 在于两者存在一些共同的计算\n  isInStrokeOrPath(x, y, isStroke, isFill, lineWidth) {\n    return false;\n  }\n\n  /**\n   * 获取线拾取的宽度\n   * @returns {number} 线的拾取宽度\n   */\n  getHitLineWidth() {\n    if (!this.isStroke()) {\n      return 0;\n    }\n    const attrs = this.attrs;\n    return attrs['lineWidth'] + attrs['lineAppendWidth'];\n  }\n}\n\nexport default ShapeBase;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = exports.len = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat2 = transformMat2;\nexports.transformMat2d = transformMat2d;\nexports.transformMat3 = transformMat3;\nexports.transformMat4 = transformMat4;\nexports.rotate = rotate;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n  return out;\n}\n\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\nfunction fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to ceil\n * @returns {vec2} out\n */\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to floor\n * @returns {vec2} out\n */\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to round\n * @returns {vec2} out\n */\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {vec2} a The vec2 point to rotate\n * @param {vec2} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec2} out\n */\nfunction rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c);\n\n  //perform rotation and translate to correct position\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n\n  return out;\n}\n\n/**\n * Get the angle between two 2D vectors\n * @param {vec2} a The first operand\n * @param {vec2} b The second operand\n * @returns {Number} The angle in radians\n */\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n\n  var len1 = x1 * x1 + y1 * y1;\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nfunction str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n\n/**\n * Alias for {@link vec2.length}\n * @function\n */\nvar len = exports.len = length;\n\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;\n\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\nvar div = exports.div = divide;\n\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\nvar dist = exports.dist = distance;\n\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\nvar sqrDist = exports.sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\nvar sqrLen = exports.sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvar forEach = exports.forEach = function () {\n  var vec = create();\n\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction minNum(array) {\n    return Math.min.apply(null, array);\n}\nfunction maxNum(array) {\n    return Math.max.apply(null, array);\n}\n/**\n * 两点之间的距离\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 结束点 x\n * @param {number} y2 结束点 y\n * @return {number} 距离\n */\nfunction distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nexports.distance = distance;\nfunction isNumberEqual(v1, v2) {\n    return Math.abs(v1 - v2) < 0.001;\n}\nexports.isNumberEqual = isNumberEqual;\nfunction getBBoxByArray(xArr, yArr) {\n    var minX = minNum(xArr);\n    var minY = minNum(yArr);\n    var maxX = maxNum(xArr);\n    var maxY = maxNum(yArr);\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nexports.getBBoxByArray = getBBoxByArray;\nfunction getBBoxRange(x1, y1, x2, y2) {\n    return {\n        minX: minNum([x1, x2]),\n        maxX: maxNum([x1, x2]),\n        minY: minNum([y1, y2]),\n        maxY: maxNum([y1, y2]),\n    };\n}\nexports.getBBoxRange = getBBoxRange;\nfunction piMod(angle) {\n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\nexports.piMod = piMod;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar vec2 = require(\"gl-matrix/vec2\");\nexports.default = {\n    /**\n     * 计算线段的包围盒\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @return {object} 包围盒对象\n     */\n    box: function (x1, y1, x2, y2) {\n        return util_1.getBBoxByArray([x1, x2], [y1, y2]);\n    },\n    /**\n     * 线段的长度\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @return {number} 距离\n     */\n    length: function (x1, y1, x2, y2) {\n        return util_1.distance(x1, y1, x2, y2);\n    },\n    /**\n     * 根据比例获取点\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @param {number} t 指定比例\n     * @return {object} 包含 x, y 的点\n     */\n    pointAt: function (x1, y1, x2, y2, t) {\n        return {\n            x: (1 - t) * x1 + t * x2,\n            y: (1 - t) * y1 + t * y2,\n        };\n    },\n    /**\n     * 点到线段的距离\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @param {number} x  测试点 x\n     * @param {number} y  测试点 y\n     * @return {number} 距离\n     */\n    pointDistance: function (x1, y1, x2, y2, x, y) {\n        // 投影距离 x1, y1 的向量，假设 p, p1, p2 三个点，投影点为 a\n        // p1a = p1p.p1p2/|p1p2| * (p1p 的单位向量)\n        var cross = (x2 - x1) * (x - x1) + (y2 - y1) * (y - y1);\n        if (cross < 0) {\n            return util_1.distance(x1, y1, x, y);\n        }\n        var lengthSquare = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n        if (cross > lengthSquare) {\n            return util_1.distance(x2, y2, x, y);\n        }\n        return this.pointToLine(x1, y1, x2, y2, x, y);\n    },\n    /**\n     * 点到直线的距离，而不是点到线段的距离\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @param {number} x  测试点 x\n     * @param {number} y  测试点 y\n     * @return {number} 距离\n     */\n    pointToLine: function (x1, y1, x2, y2, x, y) {\n        var d = [x2 - x1, y2 - y1];\n        // 如果端点相等，则判定点到点的距离\n        if (vec2.exactEquals(d, [0, 0])) {\n            return Math.sqrt((x - x1) * (x - x1) + (y - y1) * (y - y1));\n        }\n        var u = [-d[1], d[0]];\n        vec2.normalize(u, u);\n        var a = [x - x1, y - y1];\n        return Math.abs(vec2.dot(a, u));\n    },\n    /**\n     * 线段的角度\n     * @param {number} x1 起始点 x\n     * @param {number} y1 起始点 y\n     * @param {number} x2 结束点 x\n     * @param {number} y2 结束点 y\n     * @return {number} 导数\n     */\n    tangentAngle: function (x1, y1, x2, y2) {\n        return Math.atan2(y2 - y1, x2 - x1);\n    },\n};\n//# sourceMappingURL=line.js.map","export { default as Base } from './base';\nexport { default as Circle } from './circle';\nexport { default as Ellipse } from './ellipse';\nexport { default as Image } from './image';\nexport { default as Line } from './line';\nexport { default as Marker } from './marker';\nexport { default as Path } from './path';\nexport { default as Polygon } from './polygon';\nexport { default as Polyline } from './polyline';\nexport { default as Rect } from './rect';\nexport { default as Text } from './text';\n","import isType from './is-type';\nexport default (function (value) {\n    return Array.isArray ?\n        Array.isArray(value) :\n        isType(value, 'Array');\n});\n//# sourceMappingURL=is-array.js.map","import { each, isArray } from '@antv/util';\nimport { IElement } from '../interfaces';\nimport { Region } from '../types';\nimport { parseStyle } from './parse';\nimport getArcParams from './arc-params';\nimport { mergeRegion, intersectRect } from './util';\nimport * as ArrowUtil from '../util/arrow';\n\nconst SHAPE_ATTRS_MAP = {\n  fill: 'fillStyle',\n  stroke: 'strokeStyle',\n  opacity: 'globalAlpha',\n};\n\nexport function applyAttrsToContext(context: CanvasRenderingContext2D, element: IElement) {\n  const attrs = element.attr();\n  for (const k in attrs) {\n    let v = attrs[k];\n    // 转换一下不与 canvas 兼容的属性名\n    const name = SHAPE_ATTRS_MAP[k] ? SHAPE_ATTRS_MAP[k] : k;\n    if (name === 'matrix' && v) {\n      // 设置矩阵\n      context.transform(v[0], v[1], v[3], v[4], v[6], v[7]);\n    } else if (name === 'lineDash' && context.setLineDash) {\n      // 设置虚线，只支持数组形式，非数组形式不做任何操作\n      isArray(v) && context.setLineDash(v);\n    } else {\n      if (name === 'strokeStyle' || name === 'fillStyle') {\n        // 如果存在渐变、pattern 这个开销有些大\n        // 可以考虑缓存机制，通过 hasUpdate 来避免一些运算\n        v = parseStyle(context, element, v);\n      } else if (name === 'globalAlpha') {\n        // opacity 效果可以叠加，子元素的 opacity 需要与父元素 opacity 相乘\n        v = v * context.globalAlpha;\n      }\n      context[name] = v;\n    }\n  }\n}\n\nexport function drawChildren(context: CanvasRenderingContext2D, children: IElement[], region?: Region) {\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i] as IElement;\n    if (child.get('visible')) {\n      child.draw(context, region);\n    } else {\n      child.skipDraw();\n    }\n  }\n}\n\n// 绘制 path\nexport function drawPath(shape, context, attrs, arcParamsCache) {\n  const { path, startArrow, endArrow } = attrs;\n  let currentPoint = [0, 0]; // 当前图形\n  let startMovePoint = [0, 0]; // 开始 M 的点，可能会有多个\n  let distance = {\n    dx: 0,\n    dy: 0,\n  };\n  context.beginPath();\n  for (let i = 0; i < path.length; i++) {\n    const params = path[i];\n    const command = params[0];\n    if (i === 0 && startArrow && startArrow.d) {\n      const tangent = shape.getStartTangent();\n      distance = ArrowUtil.getShortenOffset(tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1], startArrow.d);\n    } else if (i === path.length - 2 && path[i + 1][0] === 'Z' && endArrow && endArrow.d) {\n      // 为了防止结尾为 Z 的 segment 缩短不起效，需要取最后两个 segment 特殊处理\n      const lastPath = path[i + 1];\n      if (lastPath[0] === 'Z') {\n        const tangent = shape.getEndTangent();\n        distance = ArrowUtil.getShortenOffset(tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1], endArrow.d);\n      }\n    } else if (i === path.length - 1 && endArrow && endArrow.d) {\n      if (path[0] !== 'Z') {\n        const tangent = shape.getEndTangent();\n        distance = ArrowUtil.getShortenOffset(tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1], endArrow.d);\n      }\n    }\n\n    const { dx, dy } = distance;\n    // V,H,S,T 都在前面被转换成标准形式\n    switch (command) {\n      case 'M':\n        context.moveTo(params[1] - dx, params[2] - dy);\n        startMovePoint = [params[1], params[2]];\n        break;\n      case 'L':\n        context.lineTo(params[1] - dx, params[2] - dy);\n        break;\n      case 'Q':\n        context.quadraticCurveTo(params[1], params[2], params[3] - dx, params[4] - dy);\n        break;\n      case 'C':\n        context.bezierCurveTo(params[1], params[2], params[3], params[4], params[5] - dx, params[6] - dy);\n        break;\n      case 'A': {\n        let arcParams;\n        // 为了加速绘制，可以提供参数的缓存，各个图形自己缓存\n        if (arcParamsCache) {\n          arcParams = arcParamsCache[i];\n          if (!arcParams) {\n            arcParams = getArcParams(currentPoint, params);\n            arcParamsCache[i] = arcParams;\n          }\n        } else {\n          arcParams = getArcParams(currentPoint, params);\n        }\n        const { cx, cy, rx, ry, startAngle, endAngle, xRotation, sweepFlag } = arcParams;\n        // 直接使用椭圆的 api\n        if (context.ellipse) {\n          context.ellipse(cx, cy, rx, ry, xRotation, startAngle, endAngle, 1 - sweepFlag);\n        } else {\n          const r = rx > ry ? rx : ry;\n          const scaleX = rx > ry ? 1 : rx / ry;\n          const scaleY = rx > ry ? ry / rx : 1;\n          context.translate(cx, cy);\n          context.rotate(xRotation);\n          context.scale(scaleX, scaleY);\n          context.arc(0, 0, r, startAngle, endAngle, 1 - sweepFlag);\n          context.scale(1 / scaleX, 1 / scaleY);\n          context.rotate(-xRotation);\n          context.translate(-cx, -cy);\n        }\n        break;\n      }\n      case 'Z':\n        context.closePath();\n        break;\n      default:\n        break;\n    }\n\n    // 有了 Z 后，当前节点从开始 M 的点开始\n    if (command === 'Z') {\n      currentPoint = startMovePoint;\n    } else {\n      const len = params.length;\n      currentPoint = [params[len - 2], params[len - 1]];\n    }\n  }\n}\n\n// 刷新图形元素(Shape 或者 Group)\nexport function refreshElement(element, changeType) {\n  const canvas = element.get('canvas');\n  // 只有存在于 canvas 上时生效\n  if (canvas) {\n    if (changeType === 'remove') {\n      // 一旦 remove，则无法在 element 上拿到包围盒\n      // destroy 后所有属性都拿不到，所以需要暂存一下\n      // 这是一段 hack 的代码\n      element._cacheCanvasBBox = element.get('cacheCanvasBBox');\n    }\n    // 防止反复刷新\n    if (!element.get('hasChanged')) {\n      // 本来只有局部渲染模式下，才需要记录更新的元素队列\n      // if (canvas.get('localRefresh')) {\n      //   canvas.refreshElement(element, changeType, canvas);\n      // }\n      // 但对于 https://github.com/antvis/g/issues/422 的场景，全局渲染的模式下也需要记录更新的元素队列\n      canvas.refreshElement(element, changeType, canvas);\n      if (canvas.get('autoDraw')) {\n        canvas.draw();\n      }\n      element.set('hasChanged', true);\n    }\n  }\n}\n\nexport function getRefreshRegion(element) {\n  let region;\n  if (!element.destroyed) {\n    const cacheBox = element.get('cacheCanvasBBox');\n    const validCache = cacheBox && !!(cacheBox.width && cacheBox.height);\n    const bbox = element.getCanvasBBox();\n    const validBBox = bbox && !!(bbox.width && bbox.height);\n    // 是否是有效 bbox 判定，一些 NaN 或者 宽高为 0 的情况过滤掉\n    if (validCache && validBBox) {\n      region = mergeRegion(cacheBox, bbox);\n    } else if (validCache) {\n      region = cacheBox;\n    } else if (validBBox) {\n      region = bbox;\n    }\n  } else {\n    // 因为元素已经销毁所以无法获取到缓存的包围盒\n    region = element['_cacheCanvasBBox'];\n  }\n  return region;\n}\n\nexport function getMergedRegion(elements): Region {\n  if (!elements.length) {\n    return null;\n  }\n  const minXArr = [];\n  const minYArr = [];\n  const maxXArr = [];\n  const maxYArr = [];\n  each(elements, (el: IElement) => {\n    const region = getRefreshRegion(el);\n    if (region) {\n      minXArr.push(region.minX);\n      minYArr.push(region.minY);\n      maxXArr.push(region.maxX);\n      maxYArr.push(region.maxY);\n    }\n  });\n  return {\n    minX: Math.min.apply(null, minXArr),\n    minY: Math.min.apply(null, minYArr),\n    maxX: Math.max.apply(null, maxXArr),\n    maxY: Math.max.apply(null, maxYArr),\n  };\n}\n\nexport function mergeView(region, viewRegion) {\n  if (!region || !viewRegion) {\n    return null;\n  }\n  // 不相交，则直接返回 null\n  if (!intersectRect(region, viewRegion)) {\n    return null;\n  }\n  return {\n    minX: Math.max(region.minX, viewRegion.minX),\n    minY: Math.max(region.minY, viewRegion.minY),\n    maxX: Math.min(region.maxX, viewRegion.maxX),\n    maxY: Math.min(region.maxY, viewRegion.maxY),\n  };\n}\n","var isArrayLike = function (value) {\n    /**\n     * isArrayLike([1, 2, 3]) => true\n     * isArrayLike(document.body.children) => true\n     * isArrayLike('abc') => true\n     * isArrayLike(Function) => false\n     */\n    return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\nexport default isArrayLike;\n//# sourceMappingURL=is-array-like.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexports.default = isType;\n//# sourceMappingURL=is-type.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * 是否为函数\n * @param  {*} fn 对象\n * @return {Boolean}  是否函数\n */\nvar is_type_1 = require(\"./is-type\");\nexports.default = (function (value) {\n    return is_type_1.default(value, 'Function');\n});\n//# sourceMappingURL=is-function.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexports.default = isNil;\n//# sourceMappingURL=is-nil.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (function (value) {\n    /**\n     * isObject({}) => true\n     * isObject([1, 2, 3]) => true\n     * isObject(Function) => true\n     * isObject(null) => false\n     */\n    var type = typeof value;\n    return value !== null && type === 'object' || type === 'function';\n});\n//# sourceMappingURL=is-object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_array_1 = require(\"./is-array\");\nvar is_object_1 = require(\"./is-object\");\nfunction each(elements, func) {\n    if (!elements) {\n        return;\n    }\n    var rst;\n    if (is_array_1.default(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n            rst = func(elements[i], i);\n            if (rst === false) {\n                break;\n            }\n        }\n    }\n    else if (is_object_1.default(elements)) {\n        for (var k in elements) {\n            if (elements.hasOwnProperty(k)) {\n                rst = func(elements[k], k);\n                if (rst === false) {\n                    break;\n                }\n            }\n        }\n    }\n}\nexports.default = each;\n//# sourceMappingURL=each.js.map","import each from './each';\nimport isFunction from './is-function';\nvar keys = Object.keys ? function (obj) { return Object.keys(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(key);\n        }\n    });\n    return result;\n};\nexport default keys;\n//# sourceMappingURL=keys.js.map","import isNil from './is-nil';\nimport keys from './keys';\nfunction isMatch(obj, attrs) {\n    var _keys = keys(attrs);\n    var length = _keys.length;\n    if (isNil(obj))\n        return !length;\n    for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isMatch;\n//# sourceMappingURL=is-match.js.map","var isObjectLike = function (value) {\n    /**\n     * isObjectLike({}) => true\n     * isObjectLike([1, 2, 3]) => true\n     * isObjectLike(Function) => false\n     * isObjectLike(null) => false\n     */\n    return typeof value === 'object' && value !== null;\n};\nexport default isObjectLike;\n//# sourceMappingURL=is-object-like.js.map","function findIndex(arr, predicate, fromIndex) {\n    if (fromIndex === void 0) { fromIndex = 0; }\n    for (var i = fromIndex; i < arr.length; i++) {\n        if (predicate(arr[i], i)) {\n            // 找到终止循环\n            return i;\n        }\n    }\n    return -1;\n}\nexport default findIndex;\n//# sourceMappingURL=find-index.js.map","var arrPrototype = Array.prototype;\nvar splice = arrPrototype.splice;\nvar indexOf = arrPrototype.indexOf;\nvar pull = function (arr) {\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        var fromIndex = -1;\n        while ((fromIndex = indexOf.call(arr, value)) > -1) {\n            splice.call(arr, fromIndex, 1);\n        }\n    }\n    return arr;\n};\nexport default pull;\n//# sourceMappingURL=pull.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_type_1 = require(\"./is-type\");\nexports.default = (function (str) {\n    return is_type_1.default(str, 'String');\n});\n//# sourceMappingURL=is-string.js.map","import isArrayLike from './is-array-like';\nvar splice = Array.prototype.splice;\nvar pullAt = function pullAt(arr, indexes) {\n    if (!isArrayLike(arr)) {\n        return [];\n    }\n    var length = arr ? indexes.length : 0;\n    var last = length - 1;\n    while (length--) {\n        var previous = void 0;\n        var index = indexes[length];\n        if (length === last || index !== previous) {\n            previous = index;\n            splice.call(arr, index, 1);\n        }\n    }\n    return arr;\n};\nexport default pullAt;\n//# sourceMappingURL=pull-at.js.map","import isArray from './is-array';\nimport isFunction from './is-function';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction groupBy(data, condition) {\n    if (!condition || !isArray(data)) {\n        return {};\n    }\n    var result = {};\n    // 兼容方法和 字符串的写法\n    var predicate = isFunction(condition) ? condition : function (item) { return item[condition]; };\n    var key;\n    for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        key = predicate(item);\n        if (hasOwnProperty.call(result, key)) {\n            result[key].push(item);\n        }\n        else {\n            result[key] = [item];\n        }\n    }\n    return result;\n}\nexport default groupBy;\n//# sourceMappingURL=group-by.js.map","import isArray from './is-array';\nfunction parseRadius(radius) {\n    var r1 = 0, r2 = 0, r3 = 0, r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return {\n        r1: r1,\n        r2: r2,\n        r3: r3,\n        r4: r4\n    };\n}\nexport default parseRadius;\n//# sourceMappingURL=parse-radius.js.map","var clamp = function (a, min, max) {\n    if (a < min) {\n        return min;\n    }\n    else if (a > max) {\n        return max;\n    }\n    return a;\n};\nexport default clamp;\n//# sourceMappingURL=clamp.js.map","/**\n * 判断是否数字\n * @return {Boolean} 是否数字\n */\nimport isType from './is-type';\nvar isNumber = function (value) {\n    return isType(value, 'Number');\n};\nexport default isNumber;\n//# sourceMappingURL=is-number.js.map","import isNumber from './is-number';\nvar isInteger = Number.isInteger ? Number.isInteger : function (num) {\n    return isNumber(num) && num % 1 === 0;\n};\nexport default isInteger;\n//# sourceMappingURL=is-integer.js.map","var DEGREE = 180 / Math.PI;\nvar toDegree = function (radian) {\n    return DEGREE * radian;\n};\nexport default toDegree;\n//# sourceMappingURL=to-degree.js.map","export default parseInt;\n//# sourceMappingURL=to-integer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RADIAN = Math.PI / 180;\nvar toRadian = function (degree) {\n    return RADIAN * degree;\n};\nexports.default = toRadian;\n//# sourceMappingURL=to-radian.js.map","import each from './each';\nimport isFunction from './is-function';\n// @ts-ignore\nvar values = Object.values ? function (obj) { return Object.values(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(value);\n        }\n    });\n    return result;\n};\nexport default values;\n//# sourceMappingURL=values.js.map","import isNumber from './is-number';\nvar isOdd = function (num) {\n    return isNumber(num) && num % 2 !== 0;\n};\nexport default isOdd;\n//# sourceMappingURL=is-odd.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_nil_1 = require(\"./is-nil\");\nexports.default = (function (value) {\n    if (is_nil_1.default(value))\n        return '';\n    return value.toString();\n});\n//# sourceMappingURL=to-string.js.map","function substitute(str, o) {\n    if (!str || !o) {\n        return str;\n    }\n    return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n        if (match.charAt(0) === '\\\\') {\n            return match.slice(1);\n        }\n        return (o[name] === undefined) ? '' : o[name];\n    });\n}\nexport default substitute;\n//# sourceMappingURL=substitute.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar to_string_1 = require(\"./to-string\");\nvar upperFirst = function (value) {\n    var str = to_string_1.default(value);\n    return str.charAt(0).toUpperCase() + str.substring(1);\n};\nexports.default = upperFirst;\n//# sourceMappingURL=upper-first.js.map","var objectProto = Object.prototype;\nvar isPrototype = function (value) {\n    var Ctor = value && value.constructor;\n    var proto = (typeof Ctor === 'function' && Ctor.prototype) || objectProto;\n    return value === proto;\n};\nexport default isPrototype;\n//# sourceMappingURL=is-prototype.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// FIXME: Mutable param should be forbidden in static lang.\nfunction _mix(dist, obj) {\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n            dist[key] = obj[key];\n        }\n    }\n}\nfunction mix(dist, src1, src2, src3) {\n    if (src1)\n        _mix(dist, src1);\n    if (src2)\n        _mix(dist, src2);\n    if (src3)\n        _mix(dist, src3);\n    return dist;\n}\nexports.default = mix;\n//# sourceMappingURL=mix.js.map","import mix from './mix';\nimport isFunction from './is-function';\nvar augment = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var c = args[0];\n    for (var i = 1; i < args.length; i++) {\n        var obj = args[i];\n        if (isFunction(obj)) {\n            obj = obj.prototype;\n        }\n        mix(c.prototype, obj);\n    }\n};\nexport default augment;\n//# sourceMappingURL=augment.js.map","import isArray from './is-array';\nvar clone = function (obj) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n    var rst;\n    if (isArray(obj)) {\n        rst = [];\n        for (var i = 0, l = obj.length; i < l; i++) {\n            if (typeof obj[i] === 'object' && obj[i] != null) {\n                rst[i] = clone(obj[i]);\n            }\n            else {\n                rst[i] = obj[i];\n            }\n        }\n    }\n    else {\n        rst = {};\n        for (var k in obj) {\n            if (typeof obj[k] === 'object' && obj[k] != null) {\n                rst[k] = clone(obj[k]);\n            }\n            else {\n                rst[k] = obj[k];\n            }\n        }\n    }\n    return rst;\n};\nexport default clone;\n//# sourceMappingURL=clone.js.map","import isNil from './is-nil';\nimport isArrayLike from './is-array-like';\nimport getType from './get-type';\nimport isPrototype from './is-prototype';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isEmpty(value) {\n    /**\n     * isEmpty(null) => true\n     * isEmpty() => true\n     * isEmpty(true) => true\n     * isEmpty(1) => true\n     * isEmpty([1, 2, 3]) => false\n     * isEmpty('abc') => false\n     * isEmpty({ a: 1 }) => false\n     */\n    if (isNil(value)) {\n        return true;\n    }\n    if (isArrayLike(value)) {\n        return !value.length;\n    }\n    var type = getType(value);\n    if (type === 'Map' || type === 'Set') {\n        return !value.size;\n    }\n    if (isPrototype(value)) {\n        return !Object.keys(value).length;\n    }\n    for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isEmpty;\n//# sourceMappingURL=is-empty.js.map","import isObjectLike from './is-object-like';\nimport isArrayLike from './is-array-like';\nimport isString from './is-string';\nvar isEqual = function (value, other) {\n    if (value === other) {\n        return true;\n    }\n    if (!value || !other) {\n        return false;\n    }\n    if (isString(value) || isString(other)) {\n        return false;\n    }\n    if (isArrayLike(value) || isArrayLike(other)) {\n        if (value.length !== other.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < value.length; i++) {\n            rst = isEqual(value[i], other[i]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    if (isObjectLike(value) || isObjectLike(other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n        if (valueKeys.length !== otherKeys.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < valueKeys.length; i++) {\n            rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    return false;\n};\nexport default isEqual;\n//# sourceMappingURL=is-equal.js.map","var map = {};\nexport default (function (prefix) {\n    prefix = prefix || 'g';\n    if (!map[prefix]) {\n        map[prefix] = 1;\n    }\n    else {\n        map[prefix] += 1;\n    }\n    return prefix + map[prefix];\n});\n//# sourceMappingURL=unique-id.js.map","import each from './each';\nimport isPlainObject from './is-plain-object';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport default (function (object, keys) {\n    if (object === null || !isPlainObject(object)) {\n        return {};\n    }\n    var result = {};\n    each(keys, function (key) {\n        if (hasOwnProperty.call(object, key)) {\n            result[key] = object[key];\n        }\n    });\n    return result;\n});\n//# sourceMappingURL=pick.js.map","export default (function () { });\n//# sourceMappingURL=noop.js.map","/**\n * k-v 存储\n */\nvar default_1 = /** @class */ (function () {\n    function default_1() {\n        this.map = {};\n    }\n    default_1.prototype.has = function (key) {\n        return this.map[key] !== undefined;\n    };\n    default_1.prototype.get = function (key, def) {\n        var v = this.map[key];\n        return v === undefined ? def : v;\n    };\n    default_1.prototype.set = function (key, value) {\n        this.map[key] = value;\n    };\n    default_1.prototype.clear = function () {\n        this.map = {};\n    };\n    default_1.prototype.delete = function (key) {\n        delete this.map[key];\n    };\n    default_1.prototype.size = function () {\n        return Object.keys(this.map).length;\n    };\n    return default_1;\n}());\nexport default default_1;\n//# sourceMappingURL=cache.js.map","import { each, isArray } from '@antv/util';\nvar SPACES = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp(\"([a-z])[\" + SPACES + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + SPACES + \"]*,?[\" + SPACES + \"]*)+)\", 'ig');\nvar PATH_VALUES = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + SPACES + \"]*,?[\" + SPACES + \"]*\", 'ig');\n// Parse given path string into an array of arrays of path segments\nvar parsePathString = function (pathString) {\n    if (!pathString) {\n        return null;\n    }\n    if (isArray(pathString)) {\n        return pathString;\n    }\n    var paramCounts = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0,\n    };\n    var data = [];\n    String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n        var params = [];\n        var name = b.toLowerCase();\n        c.replace(PATH_VALUES, function (a, b) {\n            b && params.push(+b);\n        });\n        if (name === 'm' && params.length > 2) {\n            data.push([b].concat(params.splice(0, 2)));\n            name = 'l';\n            b = b === 'm' ? 'l' : 'L';\n        }\n        if (name === 'o' && params.length === 1) {\n            data.push([b, params[0]]);\n        }\n        if (name === 'r') {\n            data.push([b].concat(params));\n        }\n        else {\n            while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        }\n        return pathString;\n    });\n    return data;\n};\n// http://schepers.cc/getting-to-the-point\nvar catmullRomToBezier = function (crp, z) {\n    var d = [];\n    // @ts-ignore\n    for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n        var p = [\n            {\n                x: +crp[i - 2],\n                y: +crp[i - 1],\n            },\n            {\n                x: +crp[i],\n                y: +crp[i + 1],\n            },\n            {\n                x: +crp[i + 2],\n                y: +crp[i + 3],\n            },\n            {\n                x: +crp[i + 4],\n                y: +crp[i + 5],\n            },\n        ];\n        if (z) {\n            if (!i) {\n                p[0] = {\n                    x: +crp[iLen - 2],\n                    y: +crp[iLen - 1],\n                };\n            }\n            else if (iLen - 4 === i) {\n                p[3] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n            }\n            else if (iLen - 2 === i) {\n                p[2] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n                p[3] = {\n                    x: +crp[2],\n                    y: +crp[3],\n                };\n            }\n        }\n        else {\n            if (iLen - 4 === i) {\n                p[3] = p[2];\n            }\n            else if (!i) {\n                p[0] = {\n                    x: +crp[i],\n                    y: +crp[i + 1],\n                };\n            }\n        }\n        d.push([\n            'C',\n            (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n            (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n            (p[1].x + 6 * p[2].x - p[3].x) / 6,\n            (p[1].y + 6 * p[2].y - p[3].y) / 6,\n            p[2].x,\n            p[2].y,\n        ]);\n    }\n    return d;\n};\nvar ellipsePath = function (x, y, rx, ry, a) {\n    var res = [];\n    if (a === null && ry === null) {\n        ry = rx;\n    }\n    x = +x;\n    y = +y;\n    rx = +rx;\n    ry = +ry;\n    if (a !== null) {\n        var rad = Math.PI / 180;\n        var x1 = x + rx * Math.cos(-ry * rad);\n        var x2 = x + rx * Math.cos(-a * rad);\n        var y1 = y + rx * Math.sin(-ry * rad);\n        var y2 = y + rx * Math.sin(-a * rad);\n        res = [\n            ['M', x1, y1],\n            ['A', rx, rx, 0, +(a - ry > 180), 0, x2, y2],\n        ];\n    }\n    else {\n        res = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n    }\n    return res;\n};\nvar pathToAbsolute = function (pathArray) {\n    pathArray = parsePathString(pathArray);\n    if (!pathArray || !pathArray.length) {\n        return [['M', 0, 0]];\n    }\n    var res = [];\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    var start = 0;\n    var pa0;\n    var dots;\n    if (pathArray[0][0] === 'M') {\n        x = +pathArray[0][1];\n        y = +pathArray[0][2];\n        mx = x;\n        my = y;\n        start++;\n        res[0] = ['M', x, y];\n    }\n    var crz = pathArray.length === 3 &&\n        pathArray[0][0] === 'M' &&\n        pathArray[1][0].toUpperCase() === 'R' &&\n        pathArray[2][0].toUpperCase() === 'Z';\n    for (var r = void 0, pa = void 0, i = start, ii = pathArray.length; i < ii; i++) {\n        res.push((r = []));\n        pa = pathArray[i];\n        pa0 = pa[0];\n        if (pa0 !== pa0.toUpperCase()) {\n            r[0] = pa0.toUpperCase();\n            switch (r[0]) {\n                case 'A':\n                    r[1] = pa[1];\n                    r[2] = pa[2];\n                    r[3] = pa[3];\n                    r[4] = pa[4];\n                    r[5] = pa[5];\n                    r[6] = +pa[6] + x;\n                    r[7] = +pa[7] + y;\n                    break;\n                case 'V':\n                    r[1] = +pa[1] + y;\n                    break;\n                case 'H':\n                    r[1] = +pa[1] + x;\n                    break;\n                case 'R':\n                    dots = [x, y].concat(pa.slice(1));\n                    for (var j = 2, jj = dots.length; j < jj; j++) {\n                        dots[j] = +dots[j] + x;\n                        dots[++j] = +dots[j] + y;\n                    }\n                    res.pop();\n                    res = res.concat(catmullRomToBezier(dots, crz));\n                    break;\n                case 'O':\n                    res.pop();\n                    dots = ellipsePath(x, y, pa[1], pa[2]);\n                    dots.push(dots[0]);\n                    res = res.concat(dots);\n                    break;\n                case 'U':\n                    res.pop();\n                    res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                    r = ['U'].concat(res[res.length - 1].slice(-2));\n                    break;\n                case 'M':\n                    mx = +pa[1] + x;\n                    my = +pa[2] + y;\n                    break; // for lint\n                default:\n                    for (var j = 1, jj = pa.length; j < jj; j++) {\n                        r[j] = +pa[j] + (j % 2 ? x : y);\n                    }\n            }\n        }\n        else if (pa0 === 'R') {\n            dots = [x, y].concat(pa.slice(1));\n            res.pop();\n            res = res.concat(catmullRomToBezier(dots, crz));\n            r = ['R'].concat(pa.slice(-2));\n        }\n        else if (pa0 === 'O') {\n            res.pop();\n            dots = ellipsePath(x, y, pa[1], pa[2]);\n            dots.push(dots[0]);\n            res = res.concat(dots);\n        }\n        else if (pa0 === 'U') {\n            res.pop();\n            res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n            r = ['U'].concat(res[res.length - 1].slice(-2));\n        }\n        else {\n            for (var k = 0, kk = pa.length; k < kk; k++) {\n                r[k] = pa[k];\n            }\n        }\n        pa0 = pa0.toUpperCase();\n        if (pa0 !== 'O') {\n            switch (r[0]) {\n                case 'Z':\n                    x = +mx;\n                    y = +my;\n                    break;\n                case 'H':\n                    x = r[1];\n                    break;\n                case 'V':\n                    y = r[1];\n                    break;\n                case 'M':\n                    mx = r[r.length - 2];\n                    my = r[r.length - 1];\n                    break; // for lint\n                default:\n                    x = r[r.length - 2];\n                    y = r[r.length - 1];\n            }\n        }\n    }\n    return res;\n};\nvar l2c = function (x1, y1, x2, y2) {\n    return [x1, y1, x2, y2, x2, y2];\n};\nvar q2c = function (x1, y1, ax, ay, x2, y2) {\n    var _13 = 1 / 3;\n    var _23 = 2 / 3;\n    return [_13 * x1 + _23 * ax, _13 * y1 + _23 * ay, _13 * x2 + _23 * ax, _13 * y2 + _23 * ay, x2, y2];\n};\nvar a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n    // for more information of where this math came from visit:\n    // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n    if (rx === ry) {\n        rx += 1;\n    }\n    var _120 = (Math.PI * 120) / 180;\n    var rad = (Math.PI / 180) * (+angle || 0);\n    var res = [];\n    var xy;\n    var f1;\n    var f2;\n    var cx;\n    var cy;\n    var rotate = function (x, y, rad) {\n        var X = x * Math.cos(rad) - y * Math.sin(rad);\n        var Y = x * Math.sin(rad) + y * Math.cos(rad);\n        return {\n            x: X,\n            y: Y,\n        };\n    };\n    if (!recursive) {\n        xy = rotate(x1, y1, -rad);\n        x1 = xy.x;\n        y1 = xy.y;\n        xy = rotate(x2, y2, -rad);\n        x2 = xy.x;\n        y2 = xy.y;\n        if (x1 === x2 && y1 === y2) {\n            // 若弧的起始点和终点重叠则错开一点\n            x2 += 1;\n            y2 += 1;\n        }\n        // const cos = Math.cos(Math.PI / 180 * angle);\n        // const sin = Math.sin(Math.PI / 180 * angle);\n        var x = (x1 - x2) / 2;\n        var y = (y1 - y2) / 2;\n        var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n        if (h > 1) {\n            h = Math.sqrt(h);\n            rx = h * rx;\n            ry = h * ry;\n        }\n        var rx2 = rx * rx;\n        var ry2 = ry * ry;\n        var k = (large_arc_flag === sweep_flag ? -1 : 1) *\n            Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n        cx = (k * rx * y) / ry + (x1 + x2) / 2;\n        cy = (k * -ry * x) / rx + (y1 + y2) / 2;\n        // @ts-ignore\n        f1 = Math.asin(((y1 - cy) / ry).toFixed(9));\n        // @ts-ignore\n        f2 = Math.asin(((y2 - cy) / ry).toFixed(9));\n        f1 = x1 < cx ? Math.PI - f1 : f1;\n        f2 = x2 < cx ? Math.PI - f2 : f2;\n        f1 < 0 && (f1 = Math.PI * 2 + f1);\n        f2 < 0 && (f2 = Math.PI * 2 + f2);\n        if (sweep_flag && f1 > f2) {\n            f1 = f1 - Math.PI * 2;\n        }\n        if (!sweep_flag && f2 > f1) {\n            f2 = f2 - Math.PI * 2;\n        }\n    }\n    else {\n        f1 = recursive[0];\n        f2 = recursive[1];\n        cx = recursive[2];\n        cy = recursive[3];\n    }\n    var df = f2 - f1;\n    if (Math.abs(df) > _120) {\n        var f2old = f2;\n        var x2old = x2;\n        var y2old = y2;\n        f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n        x2 = cx + rx * Math.cos(f2);\n        y2 = cy + ry * Math.sin(f2);\n        res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n    }\n    df = f2 - f1;\n    var c1 = Math.cos(f1);\n    var s1 = Math.sin(f1);\n    var c2 = Math.cos(f2);\n    var s2 = Math.sin(f2);\n    var t = Math.tan(df / 4);\n    var hx = (4 / 3) * rx * t;\n    var hy = (4 / 3) * ry * t;\n    var m1 = [x1, y1];\n    var m2 = [x1 + hx * s1, y1 - hy * c1];\n    var m3 = [x2 + hx * s2, y2 - hy * c2];\n    var m4 = [x2, y2];\n    m2[0] = 2 * m1[0] - m2[0];\n    m2[1] = 2 * m1[1] - m2[1];\n    if (recursive) {\n        return [m2, m3, m4].concat(res);\n    }\n    res = [m2, m3, m4]\n        .concat(res)\n        .join()\n        .split(',');\n    var newres = [];\n    for (var i = 0, ii = res.length; i < ii; i++) {\n        newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n    return newres;\n};\nvar pathToCurve = function (path, path2) {\n    var p = pathToAbsolute(path);\n    var p2 = path2 && pathToAbsolute(path2);\n    var attrs = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var attrs2 = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var pcoms1 = []; // path commands of original path p\n    var pcoms2 = []; // path commands of original path p2\n    var pfirst = ''; // temporary holder for original path command\n    var pcom = ''; // holder for previous path command of original path\n    var ii;\n    var processPath = function (path, d, pcom) {\n        var nx;\n        var ny;\n        if (!path) {\n            return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n        }\n        !(path[0] in\n            {\n                T: 1,\n                Q: 1,\n            }) && (d.qx = d.qy = null);\n        switch (path[0]) {\n            case 'M':\n                d.X = path[1];\n                d.Y = path[2];\n                break;\n            case 'A':\n                path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                break;\n            case 'S':\n                if (pcom === 'C' || pcom === 'S') {\n                    // In \"S\" case we have to take into account, if the previous command is C/S.\n                    nx = d.x * 2 - d.bx; // And reflect the previous\n                    ny = d.y * 2 - d.by; // command's control point relative to the current point.\n                }\n                else {\n                    // or some else or nothing\n                    nx = d.x;\n                    ny = d.y;\n                }\n                path = ['C', nx, ny].concat(path.slice(1));\n                break;\n            case 'T':\n                if (pcom === 'Q' || pcom === 'T') {\n                    // In \"T\" case we have to take into account, if the previous command is Q/T.\n                    d.qx = d.x * 2 - d.qx; // And make a reflection similar\n                    d.qy = d.y * 2 - d.qy; // to case \"S\".\n                }\n                else {\n                    // or something else or nothing\n                    d.qx = d.x;\n                    d.qy = d.y;\n                }\n                path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                break;\n            case 'Q':\n                d.qx = path[1];\n                d.qy = path[2];\n                path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                break;\n            case 'L':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], path[2]));\n                break;\n            case 'H':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], d.y));\n                break;\n            case 'V':\n                path = ['C'].concat(l2c(d.x, d.y, d.x, path[1]));\n                break;\n            case 'Z':\n                path = ['C'].concat(l2c(d.x, d.y, d.X, d.Y));\n                break;\n            default:\n                break;\n        }\n        return path;\n    };\n    var fixArc = function (pp, i) {\n        if (pp[i].length > 7) {\n            pp[i].shift();\n            var pi = pp[i];\n            while (pi.length) {\n                pcoms1[i] = 'A'; // if created multiple C:s, their original seg is saved\n                p2 && (pcoms2[i] = 'A'); // the same as above\n                pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n            }\n            pp.splice(i, 1);\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    var fixM = function (path1, path2, a1, a2, i) {\n        if (path1 && path2 && path1[i][0] === 'M' && path2[i][0] !== 'M') {\n            path2.splice(i, 0, ['M', a2.x, a2.y]);\n            a1.bx = 0;\n            a1.by = 0;\n            a1.x = path1[i][1];\n            a1.y = path1[i][2];\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    ii = Math.max(p.length, (p2 && p2.length) || 0);\n    for (var i = 0; i < ii; i++) {\n        p[i] && (pfirst = p[i][0]); // save current path command\n        if (pfirst !== 'C') {\n            // C is not saved yet, because it may be result of conversion\n            pcoms1[i] = pfirst; // Save current path command\n            i && (pcom = pcoms1[i - 1]); // Get previous path command pcom\n        }\n        p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n        if (pcoms1[i] !== 'A' && pfirst === 'C')\n            pcoms1[i] = 'C'; // A is the only command\n        // which may produce multiple C:s\n        // so we have to make sure that C is also C in original path\n        fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n        if (p2) {\n            // the same procedures is done to p2\n            p2[i] && (pfirst = p2[i][0]);\n            if (pfirst !== 'C') {\n                pcoms2[i] = pfirst;\n                i && (pcom = pcoms2[i - 1]);\n            }\n            p2[i] = processPath(p2[i], attrs2, pcom);\n            if (pcoms2[i] !== 'A' && pfirst === 'C') {\n                pcoms2[i] = 'C';\n            }\n            fixArc(p2, i);\n        }\n        fixM(p, p2, attrs, attrs2, i);\n        fixM(p2, p, attrs2, attrs, i);\n        var seg = p[i];\n        var seg2 = p2 && p2[i];\n        var seglen = seg.length;\n        var seg2len = p2 && seg2.length;\n        attrs.x = seg[seglen - 2];\n        attrs.y = seg[seglen - 1];\n        attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n        attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n        attrs2.bx = p2 && (parseFloat(seg2[seg2len - 4]) || attrs2.x);\n        attrs2.by = p2 && (parseFloat(seg2[seg2len - 3]) || attrs2.y);\n        attrs2.x = p2 && seg2[seg2len - 2];\n        attrs2.y = p2 && seg2[seg2len - 1];\n    }\n    return p2 ? [p, p2] : p;\n};\nvar p2s = /,?([a-z]),?/gi;\nvar parsePathArray = function (path) {\n    return path.join(',').replace(p2s, '$1');\n};\nvar base3 = function (t, p1, p2, p3, p4) {\n    var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4;\n    var t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n    return t * t2 - 3 * p1 + 3 * p2;\n};\nvar bezlen = function (x1, y1, x2, y2, x3, y3, x4, y4, z) {\n    if (z === null) {\n        z = 1;\n    }\n    z = z > 1 ? 1 : z < 0 ? 0 : z;\n    var z2 = z / 2;\n    var n = 12;\n    var Tvalues = [\n        -0.1252,\n        0.1252,\n        -0.3678,\n        0.3678,\n        -0.5873,\n        0.5873,\n        -0.7699,\n        0.7699,\n        -0.9041,\n        0.9041,\n        -0.9816,\n        0.9816,\n    ];\n    var Cvalues = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472];\n    var sum = 0;\n    for (var i = 0; i < n; i++) {\n        var ct = z2 * Tvalues[i] + z2;\n        var xbase = base3(ct, x1, x2, x3, x4);\n        var ybase = base3(ct, y1, y2, y3, y4);\n        var comb = xbase * xbase + ybase * ybase;\n        sum += Cvalues[i] * Math.sqrt(comb);\n    }\n    return z2 * sum;\n};\nvar curveDim = function (x0, y0, x1, y1, x2, y2, x3, y3) {\n    var tvalues = [];\n    var bounds = [[], []];\n    var a;\n    var b;\n    var c;\n    var t;\n    for (var i = 0; i < 2; ++i) {\n        if (i === 0) {\n            b = 6 * x0 - 12 * x1 + 6 * x2;\n            a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n            c = 3 * x1 - 3 * x0;\n        }\n        else {\n            b = 6 * y0 - 12 * y1 + 6 * y2;\n            a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n            c = 3 * y1 - 3 * y0;\n        }\n        if (Math.abs(a) < 1e-12) {\n            if (Math.abs(b) < 1e-12) {\n                continue;\n            }\n            t = -c / b;\n            if (t > 0 && t < 1) {\n                tvalues.push(t);\n            }\n            continue;\n        }\n        var b2ac = b * b - 4 * c * a;\n        var sqrtb2ac = Math.sqrt(b2ac);\n        if (b2ac < 0) {\n            continue;\n        }\n        var t1 = (-b + sqrtb2ac) / (2 * a);\n        if (t1 > 0 && t1 < 1) {\n            tvalues.push(t1);\n        }\n        var t2 = (-b - sqrtb2ac) / (2 * a);\n        if (t2 > 0 && t2 < 1) {\n            tvalues.push(t2);\n        }\n    }\n    var j = tvalues.length;\n    var jlen = j;\n    var mt;\n    while (j--) {\n        t = tvalues[j];\n        mt = 1 - t;\n        bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n        bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n    }\n    bounds[0][jlen] = x0;\n    bounds[1][jlen] = y0;\n    bounds[0][jlen + 1] = x3;\n    bounds[1][jlen + 1] = y3;\n    bounds[0].length = bounds[1].length = jlen + 2;\n    return {\n        min: {\n            x: Math.min.apply(0, bounds[0]),\n            y: Math.min.apply(0, bounds[1]),\n        },\n        max: {\n            x: Math.max.apply(0, bounds[0]),\n            y: Math.max.apply(0, bounds[1]),\n        },\n    };\n};\nvar intersect = function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    if (Math.max(x1, x2) < Math.min(x3, x4) ||\n        Math.min(x1, x2) > Math.max(x3, x4) ||\n        Math.max(y1, y2) < Math.min(y3, y4) ||\n        Math.min(y1, y2) > Math.max(y3, y4)) {\n        return;\n    }\n    var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4);\n    var ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4);\n    var denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    if (!denominator) {\n        return;\n    }\n    var px = nx / denominator;\n    var py = ny / denominator;\n    var px2 = +px.toFixed(2);\n    var py2 = +py.toFixed(2);\n    if (px2 < +Math.min(x1, x2).toFixed(2) ||\n        px2 > +Math.max(x1, x2).toFixed(2) ||\n        px2 < +Math.min(x3, x4).toFixed(2) ||\n        px2 > +Math.max(x3, x4).toFixed(2) ||\n        py2 < +Math.min(y1, y2).toFixed(2) ||\n        py2 > +Math.max(y1, y2).toFixed(2) ||\n        py2 < +Math.min(y3, y4).toFixed(2) ||\n        py2 > +Math.max(y3, y4).toFixed(2)) {\n        return;\n    }\n    return {\n        x: px,\n        y: py,\n    };\n};\nvar isPointInsideBBox = function (bbox, x, y) {\n    return x >= bbox.x && x <= bbox.x + bbox.width && y >= bbox.y && y <= bbox.y + bbox.height;\n};\nvar rectPath = function (x, y, w, h, r) {\n    if (r) {\n        return [\n            ['M', +x + +r, y],\n            ['l', w - r * 2, 0],\n            ['a', r, r, 0, 0, 1, r, r],\n            ['l', 0, h - r * 2],\n            ['a', r, r, 0, 0, 1, -r, r],\n            ['l', r * 2 - w, 0],\n            ['a', r, r, 0, 0, 1, -r, -r],\n            ['l', 0, r * 2 - h],\n            ['a', r, r, 0, 0, 1, r, -r],\n            ['z'],\n        ];\n    }\n    var res = [['M', x, y], ['l', w, 0], ['l', 0, h], ['l', -w, 0], ['z']];\n    // @ts-ignore\n    res.parsePathArray = parsePathArray;\n    return res;\n};\nvar box = function (x, y, width, height) {\n    if (x === null) {\n        x = y = width = height = 0;\n    }\n    if (y === null) {\n        y = x.y;\n        width = x.width;\n        height = x.height;\n        x = x.x;\n    }\n    return {\n        x: x,\n        y: y,\n        width: width,\n        w: width,\n        height: height,\n        h: height,\n        x2: x + width,\n        y2: y + height,\n        cx: x + width / 2,\n        cy: y + height / 2,\n        r1: Math.min(width, height) / 2,\n        r2: Math.max(width, height) / 2,\n        r0: Math.sqrt(width * width + height * height) / 2,\n        path: rectPath(x, y, width, height),\n        vb: [x, y, width, height].join(' '),\n    };\n};\nvar isBBoxIntersect = function (bbox1, bbox2) {\n    bbox1 = box(bbox1);\n    bbox2 = box(bbox2);\n    return (isPointInsideBBox(bbox2, bbox1.x, bbox1.y) ||\n        isPointInsideBBox(bbox2, bbox1.x2, bbox1.y) ||\n        isPointInsideBBox(bbox2, bbox1.x, bbox1.y2) ||\n        isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2) ||\n        isPointInsideBBox(bbox1, bbox2.x, bbox2.y) ||\n        isPointInsideBBox(bbox1, bbox2.x2, bbox2.y) ||\n        isPointInsideBBox(bbox1, bbox2.x, bbox2.y2) ||\n        isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2) ||\n        (((bbox1.x < bbox2.x2 && bbox1.x > bbox2.x) || (bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)) &&\n            ((bbox1.y < bbox2.y2 && bbox1.y > bbox2.y) || (bbox2.y < bbox1.y2 && bbox2.y > bbox1.y))));\n};\nvar bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n    if (!isArray(p1x)) {\n        p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n    }\n    var bbox = curveDim.apply(null, p1x);\n    return box(bbox.min.x, bbox.min.y, bbox.max.x - bbox.min.x, bbox.max.y - bbox.min.y);\n};\nvar findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n    var t1 = 1 - t;\n    var t13 = Math.pow(t1, 3);\n    var t12 = Math.pow(t1, 2);\n    var t2 = t * t;\n    var t3 = t2 * t;\n    var x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x;\n    var y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n    var mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x);\n    var my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y);\n    var nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x);\n    var ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y);\n    var ax = t1 * p1x + t * c1x;\n    var ay = t1 * p1y + t * c1y;\n    var cx = t1 * c2x + t * p2x;\n    var cy = t1 * c2y + t * p2y;\n    var alpha = 90 - (Math.atan2(mx - nx, my - ny) * 180) / Math.PI;\n    // (mx > nx || my < ny) && (alpha += 180);\n    return {\n        x: x,\n        y: y,\n        m: {\n            x: mx,\n            y: my,\n        },\n        n: {\n            x: nx,\n            y: ny,\n        },\n        start: {\n            x: ax,\n            y: ay,\n        },\n        end: {\n            x: cx,\n            y: cy,\n        },\n        alpha: alpha,\n    };\n};\nvar interHelper = function (bez1, bez2, justCount) {\n    var bbox1 = bezierBBox(bez1);\n    var bbox2 = bezierBBox(bez2);\n    if (!isBBoxIntersect(bbox1, bbox2)) {\n        return justCount ? 0 : [];\n    }\n    var l1 = bezlen.apply(0, bez1);\n    var l2 = bezlen.apply(0, bez2);\n    var n1 = ~~(l1 / 8);\n    var n2 = ~~(l2 / 8);\n    var dots1 = [];\n    var dots2 = [];\n    var xy = {};\n    var res = justCount ? 0 : [];\n    for (var i = 0; i < n1 + 1; i++) {\n        var d = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n        dots1.push({\n            x: d.x,\n            y: d.y,\n            t: i / n1,\n        });\n    }\n    for (var i = 0; i < n2 + 1; i++) {\n        var d = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n        dots2.push({\n            x: d.x,\n            y: d.y,\n            t: i / n2,\n        });\n    }\n    for (var i = 0; i < n1; i++) {\n        for (var j = 0; j < n2; j++) {\n            var di = dots1[i];\n            var di1 = dots1[i + 1];\n            var dj = dots2[j];\n            var dj1 = dots2[j + 1];\n            var ci = Math.abs(di1.x - di.x) < 0.001 ? 'y' : 'x';\n            var cj = Math.abs(dj1.x - dj.x) < 0.001 ? 'y' : 'x';\n            var is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n            if (is) {\n                if (xy[is.x.toFixed(4)] === is.y.toFixed(4)) {\n                    continue;\n                }\n                xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                var t1 = di.t + Math.abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t);\n                var t2 = dj.t + Math.abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n                    if (justCount) {\n                        // @ts-ignore\n                        res += 1;\n                    }\n                    else {\n                        // @ts-ignore\n                        res.push({\n                            x: is.x,\n                            y: is.y,\n                            t1: t1,\n                            t2: t2,\n                        });\n                    }\n                }\n            }\n        }\n    }\n    return res;\n};\nvar interPathHelper = function (path1, path2, justCount) {\n    path1 = pathToCurve(path1);\n    path2 = pathToCurve(path2);\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    var x1m;\n    var y1m;\n    var x2m;\n    var y2m;\n    var bez1;\n    var bez2;\n    var res = justCount ? 0 : [];\n    for (var i = 0, ii = path1.length; i < ii; i++) {\n        var pi = path1[i];\n        if (pi[0] === 'M') {\n            x1 = x1m = pi[1];\n            y1 = y1m = pi[2];\n        }\n        else {\n            if (pi[0] === 'C') {\n                bez1 = [x1, y1].concat(pi.slice(1));\n                x1 = bez1[6];\n                y1 = bez1[7];\n            }\n            else {\n                bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                x1 = x1m;\n                y1 = y1m;\n            }\n            for (var j = 0, jj = path2.length; j < jj; j++) {\n                var pj = path2[j];\n                if (pj[0] === 'M') {\n                    x2 = x2m = pj[1];\n                    y2 = y2m = pj[2];\n                }\n                else {\n                    if (pj[0] === 'C') {\n                        bez2 = [x2, y2].concat(pj.slice(1));\n                        x2 = bez2[6];\n                        y2 = bez2[7];\n                    }\n                    else {\n                        bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                        x2 = x2m;\n                        y2 = y2m;\n                    }\n                    var intr = interHelper(bez1, bez2, justCount);\n                    if (justCount) {\n                        // @ts-ignore\n                        res += intr;\n                    }\n                    else {\n                        // @ts-ignore\n                        for (var k = 0, kk = intr.length; k < kk; k++) {\n                            intr[k].segment1 = i;\n                            intr[k].segment2 = j;\n                            intr[k].bez1 = bez1;\n                            intr[k].bez2 = bez2;\n                        }\n                        // @ts-ignore\n                        res = res.concat(intr);\n                    }\n                }\n            }\n        }\n    }\n    return res;\n};\nvar intersection = function (path1, path2) {\n    return interPathHelper(path1, path2);\n};\nfunction decasteljau(points, t) {\n    var left = [];\n    var right = [];\n    function recurse(points, t) {\n        if (points.length === 1) {\n            left.push(points[0]);\n            right.push(points[0]);\n        }\n        else {\n            var middlePoints = [];\n            for (var i = 0; i < points.length - 1; i++) {\n                if (i === 0) {\n                    left.push(points[0]);\n                }\n                if (i === points.length - 2) {\n                    right.push(points[i + 1]);\n                }\n                middlePoints[i] = [\n                    (1 - t) * points[i][0] + t * points[i + 1][0],\n                    (1 - t) * points[i][1] + t * points[i + 1][1],\n                ];\n            }\n            recurse(middlePoints, t);\n        }\n    }\n    if (points.length) {\n        recurse(points, t);\n    }\n    return { left: left, right: right.reverse() };\n}\nfunction splitCurve(start, end, count) {\n    var points = [[start[1], start[2]]];\n    count = count || 2;\n    var segments = [];\n    if (end[0] === 'A') {\n        points.push(end[6]);\n        points.push(end[7]);\n    }\n    else if (end[0] === 'C') {\n        points.push([end[1], end[2]]);\n        points.push([end[3], end[4]]);\n        points.push([end[5], end[6]]);\n    }\n    else if (end[0] === 'S' || end[0] === 'Q') {\n        points.push([end[1], end[2]]);\n        points.push([end[3], end[4]]);\n    }\n    else {\n        points.push([end[1], end[2]]);\n    }\n    var leftSegments = points;\n    var t = 1 / count;\n    for (var i = 0; i < count - 1; i++) {\n        var rt = t / (1 - t * i);\n        var split = decasteljau(leftSegments, rt);\n        segments.push(split.left);\n        leftSegments = split.right;\n    }\n    segments.push(leftSegments);\n    var result = segments.map(function (segment) {\n        var cmd = [];\n        if (segment.length === 4) {\n            cmd.push('C');\n            cmd = cmd.concat(segment[2]);\n        }\n        if (segment.length >= 3) {\n            if (segment.length === 3) {\n                cmd.push('Q');\n            }\n            cmd = cmd.concat(segment[1]);\n        }\n        if (segment.length === 2) {\n            cmd.push('L');\n        }\n        cmd = cmd.concat(segment[segment.length - 1]);\n        return cmd;\n    });\n    return result;\n}\nvar splitSegment = function (start, end, count) {\n    if (count === 1) {\n        return [[].concat(start)];\n    }\n    var segments = [];\n    if (end[0] === 'L' || end[0] === 'C' || end[0] === 'Q') {\n        segments = segments.concat(splitCurve(start, end, count));\n    }\n    else {\n        var temp = [].concat(start);\n        if (temp[0] === 'M') {\n            temp[0] = 'L';\n        }\n        for (var i = 0; i <= count - 1; i++) {\n            segments.push(temp);\n        }\n    }\n    return segments;\n};\nvar fillPath = function (source, target) {\n    if (source.length === 1) {\n        return source;\n    }\n    var sourceLen = source.length - 1;\n    var targetLen = target.length - 1;\n    var ratio = sourceLen / targetLen;\n    var segmentsToFill = [];\n    if (source.length === 1 && source[0][0] === 'M') {\n        for (var i = 0; i < targetLen - sourceLen; i++) {\n            source.push(source[0]);\n        }\n        return source;\n    }\n    for (var i = 0; i < targetLen; i++) {\n        var index = Math.floor(ratio * i);\n        segmentsToFill[index] = (segmentsToFill[index] || 0) + 1;\n    }\n    var filled = segmentsToFill.reduce(function (filled, count, i) {\n        if (i === sourceLen) {\n            return filled.concat(source[sourceLen]);\n        }\n        return filled.concat(splitSegment(source[i], source[i + 1], count));\n    }, []);\n    filled.unshift(source[0]);\n    if (target[targetLen] === 'Z' || target[targetLen] === 'z') {\n        filled.push('Z');\n    }\n    return filled;\n};\nvar isEqual = function (obj1, obj2) {\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    var result = true;\n    each(obj1, function (item, i) {\n        if (item !== obj2[i]) {\n            result = false;\n            return false;\n        }\n    });\n    return result;\n};\nfunction getMinDiff(del, add, modify) {\n    var type = null;\n    var min = modify;\n    if (add < min) {\n        min = add;\n        type = 'add';\n    }\n    if (del < min) {\n        min = del;\n        type = 'del';\n    }\n    return {\n        type: type,\n        min: min,\n    };\n}\n/*\n * https://en.wikipedia.org/wiki/Levenshtein_distance\n * 计算两条path的编辑距离\n */\nvar levenshteinDistance = function (source, target) {\n    var sourceLen = source.length;\n    var targetLen = target.length;\n    var sourceSegment;\n    var targetSegment;\n    var temp = 0;\n    if (sourceLen === 0 || targetLen === 0) {\n        return null;\n    }\n    var dist = [];\n    for (var i = 0; i <= sourceLen; i++) {\n        dist[i] = [];\n        dist[i][0] = { min: i };\n    }\n    for (var j = 0; j <= targetLen; j++) {\n        dist[0][j] = { min: j };\n    }\n    for (var i = 1; i <= sourceLen; i++) {\n        sourceSegment = source[i - 1];\n        for (var j = 1; j <= targetLen; j++) {\n            targetSegment = target[j - 1];\n            if (isEqual(sourceSegment, targetSegment)) {\n                temp = 0;\n            }\n            else {\n                temp = 1;\n            }\n            var del = dist[i - 1][j].min + 1;\n            var add = dist[i][j - 1].min + 1;\n            var modify = dist[i - 1][j - 1].min + temp;\n            dist[i][j] = getMinDiff(del, add, modify);\n        }\n    }\n    return dist;\n};\nvar fillPathByDiff = function (source, target) {\n    var diffMatrix = levenshteinDistance(source, target);\n    var sourceLen = source.length;\n    var targetLen = target.length;\n    var changes = [];\n    var index = 1;\n    var minPos = 1;\n    // 如果source和target不是完全不相等\n    if (diffMatrix[sourceLen][targetLen].min !== sourceLen) {\n        // 获取从source到target所需改动\n        for (var i = 1; i <= sourceLen; i++) {\n            var min = diffMatrix[i][i].min;\n            minPos = i;\n            for (var j = index; j <= targetLen; j++) {\n                if (diffMatrix[i][j].min < min) {\n                    min = diffMatrix[i][j].min;\n                    minPos = j;\n                }\n            }\n            index = minPos;\n            if (diffMatrix[i][index].type) {\n                changes.push({ index: i - 1, type: diffMatrix[i][index].type });\n            }\n        }\n        // 对source进行增删path\n        for (var i = changes.length - 1; i >= 0; i--) {\n            index = changes[i].index;\n            if (changes[i].type === 'add') {\n                source.splice(index, 0, [].concat(source[index]));\n            }\n            else {\n                source.splice(index, 1);\n            }\n        }\n    }\n    // source尾部补齐\n    sourceLen = source.length;\n    var diff = targetLen - sourceLen;\n    if (sourceLen < targetLen) {\n        for (var i = 0; i < diff; i++) {\n            if (source[sourceLen - 1][0] === 'z' || source[sourceLen - 1][0] === 'Z') {\n                source.splice(sourceLen - 2, 0, source[sourceLen - 2]);\n            }\n            else {\n                source.push(source[sourceLen - 1]);\n            }\n            sourceLen += 1;\n        }\n    }\n    return source;\n};\n// 将两个点均分成count个点\nfunction _splitPoints(points, former, count) {\n    var result = [].concat(points);\n    var index;\n    var t = 1 / (count + 1);\n    var formerEnd = _getSegmentPoints(former)[0];\n    for (var i = 1; i <= count; i++) {\n        t *= i;\n        index = Math.floor(points.length * t);\n        if (index === 0) {\n            result.unshift([formerEnd[0] * t + points[index][0] * (1 - t), formerEnd[1] * t + points[index][1] * (1 - t)]);\n        }\n        else {\n            result.splice(index, 0, [\n                formerEnd[0] * t + points[index][0] * (1 - t),\n                formerEnd[1] * t + points[index][1] * (1 - t),\n            ]);\n        }\n    }\n    return result;\n}\n/*\n * 抽取pathSegment中的关键点\n * M,L,A,Q,H,V一个端点\n * Q, S抽取一个端点，一个控制点\n * C抽取一个端点，两个控制点\n */\nfunction _getSegmentPoints(segment) {\n    var points = [];\n    switch (segment[0]) {\n        case 'M':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'L':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'A':\n            points.push([segment[6], segment[7]]);\n            break;\n        case 'Q':\n            points.push([segment[3], segment[4]]);\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'T':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'C':\n            points.push([segment[5], segment[6]]);\n            points.push([segment[1], segment[2]]);\n            points.push([segment[3], segment[4]]);\n            break;\n        case 'S':\n            points.push([segment[3], segment[4]]);\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'H':\n            points.push([segment[1], segment[1]]);\n            break;\n        case 'V':\n            points.push([segment[1], segment[1]]);\n            break;\n        default:\n    }\n    return points;\n}\nvar formatPath = function (fromPath, toPath) {\n    if (fromPath.length <= 1) {\n        return fromPath;\n    }\n    var points;\n    for (var i = 0; i < toPath.length; i++) {\n        if (fromPath[i][0] !== toPath[i][0]) {\n            // 获取fromPath的pathSegment的端点，根据toPath的指令对其改造\n            points = _getSegmentPoints(fromPath[i]);\n            switch (toPath[i][0]) {\n                case 'M':\n                    fromPath[i] = ['M'].concat(points[0]);\n                    break;\n                case 'L':\n                    fromPath[i] = ['L'].concat(points[0]);\n                    break;\n                case 'A':\n                    fromPath[i] = [].concat(toPath[i]);\n                    fromPath[i][6] = points[0][0];\n                    fromPath[i][7] = points[0][1];\n                    break;\n                case 'Q':\n                    if (points.length < 2) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 1);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['Q'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                case 'T':\n                    fromPath[i] = ['T'].concat(points[0]);\n                    break;\n                case 'C':\n                    if (points.length < 3) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 2);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['C'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                case 'S':\n                    if (points.length < 2) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 1);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['S'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                default:\n                    fromPath[i] = toPath[i];\n            }\n        }\n    }\n    return fromPath;\n};\nexport { catmullRomToBezier, fillPath, fillPathByDiff, formatPath, intersection, parsePathArray, parsePathString, pathToAbsolute, pathToCurve, rectPath, };\n//# sourceMappingURL=path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GraphEvent = /** @class */ (function () {\n    function GraphEvent(type, event) {\n        /**\n         * 是否允许冒泡\n         * @type {boolean}\n         */\n        this.bubbles = true;\n        /**\n         * 触发对象\n         * @type {object}\n         */\n        this.target = null;\n        /**\n         * 监听对象\n         * @type {object}\n         */\n        this.currentTarget = null;\n        /**\n         * 委托对象\n         * @type {object}\n         */\n        this.delegateTarget = null;\n        /**\n         * 委托事件监听对象的代理对象，即 ev.delegateObject = ev.currentTarget.get('delegateObject')\n         * @type {object}\n         */\n        this.delegateObject = null;\n        /**\n         * 是否阻止了原生事件\n         * @type {boolean}\n         */\n        this.defaultPrevented = false;\n        /**\n         * 是否阻止传播（向上冒泡）\n         * @type {boolean}\n         */\n        this.propagationStopped = false;\n        /**\n         * 触发事件的图形\n         * @type {IShape}\n         */\n        this.shape = null;\n        /**\n         * 开始触发事件的图形\n         * @type {IShape}\n         */\n        this.fromShape = null;\n        /**\n         * 事件结束时的触发图形\n         * @type {IShape}\n         */\n        this.toShape = null;\n        // 触发事件的路径\n        this.propagationPath = [];\n        this.type = type;\n        this.name = type;\n        this.originalEvent = event;\n        this.timeStamp = event.timeStamp;\n    }\n    /**\n     * 阻止浏览器默认的行为\n     */\n    GraphEvent.prototype.preventDefault = function () {\n        this.defaultPrevented = true;\n        if (this.originalEvent.preventDefault) {\n            this.originalEvent.preventDefault();\n        }\n    };\n    /**\n     * 阻止冒泡\n     */\n    GraphEvent.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    GraphEvent.prototype.toString = function () {\n        var type = this.type;\n        return \"[Event (type=\" + type + \")]\";\n    };\n    GraphEvent.prototype.save = function () { };\n    GraphEvent.prototype.restore = function () { };\n    return GraphEvent;\n}());\nexports.default = GraphEvent;\n//# sourceMappingURL=graph-event.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","// array\nexport { default as contains, default as includes } from './contains';\nexport { default as difference } from './difference';\nexport { default as find } from './find';\nexport { default as findIndex } from './find-index';\nexport { default as firstValue } from './first-value';\nexport { default as flatten } from './flatten';\nexport { default as flattenDeep } from './flatten-deep';\nexport { default as getRange } from './get-range';\nexport { default as pull } from './pull';\nexport { default as pullAt } from './pull-at';\nexport { default as reduce } from './reduce';\nexport { default as remove } from './remove';\nexport { default as sortBy } from './sort-by';\nexport { default as union } from './union';\nexport { default as uniq } from './uniq';\nexport { default as valuesOfKey } from './values-of-key';\nexport { default as head } from './head';\nexport { default as last } from './last';\nexport { default as startsWith } from './starts-with';\nexport { default as endsWith } from './ends-with';\nexport { default as filter } from './filter';\nexport { default as every } from './every';\nexport { default as some } from './some';\nexport { default as group } from './group';\nexport { default as groupBy } from './group-by';\nexport { default as groupToMap } from './group-to-map';\n// event\nexport { default as getWrapBehavior } from './get-wrap-behavior';\nexport { default as wrapBehavior } from './wrap-behavior';\n// format\nexport { default as number2color } from './number2color';\nexport { default as parseRadius } from './parse-radius';\n// math\nexport { default as clamp } from './clamp';\nexport { default as fixedBase } from './fixed-base';\nexport { default as isDecimal } from './is-decimal';\nexport { default as isEven } from './is-even';\nexport { default as isInteger } from './is-integer';\nexport { default as isNegative } from './is-negative';\nexport { default as isNumberEqual } from './is-number-equal';\nexport { default as isOdd } from './is-odd';\nexport { default as isPositive } from './is-positive';\nexport { default as maxBy } from './max-by';\nexport { default as minBy } from './min-by';\nexport { default as mod } from './mod';\nexport { default as toDegree } from './to-degree';\nexport { default as toInteger } from './to-integer';\nexport { default as toRadian } from './to-radian';\n// object\nexport { default as forIn } from './for-in';\nexport { default as has } from './has';\nexport { default as hasKey } from './has-key';\nexport { default as hasValue } from './has-value';\nexport { default as keys } from './keys';\nexport { default as isMatch } from './is-match';\nexport { default as values } from './values';\n// string\nexport { default as lowerCase } from './lower-case';\nexport { default as lowerFirst } from './lower-first';\nexport { default as substitute } from './substitute';\nexport { default as upperCase } from './upper-case';\nexport { default as upperFirst } from './upper-first';\n// type\nexport { default as getType } from './get-type';\nexport { default as isArguments } from './is-arguments';\nexport { default as isArray } from './is-array';\nexport { default as isArrayLike } from './is-array-like';\nexport { default as isBoolean } from './is-boolean';\nexport { default as isDate } from './is-date';\nexport { default as isError } from './is-error';\nexport { default as isFunction } from './is-function';\nexport { default as isFinite } from './is-finite';\nexport { default as isNil } from './is-nil';\nexport { default as isNull } from './is-null';\nexport { default as isNumber } from './is-number';\nexport { default as isObject } from './is-object';\nexport { default as isObjectLike } from './is-object-like';\nexport { default as isPlainObject } from './is-plain-object';\nexport { default as isPrototype } from './is-prototype';\nexport { default as isRegExp } from './is-reg-exp';\nexport { default as isString } from './is-string';\nexport { default as isType } from './is-type';\nexport { default as isUndefined } from './is-undefined';\nexport { default as isElement } from './is-element';\nexport { default as requestAnimationFrame } from './request-animation-frame';\nexport { default as clearAnimationFrame } from './clear-animation-frame';\n// other\nexport { default as augment } from './augment';\nexport { default as clone } from './clone';\nexport { default as debounce } from './debounce';\nexport { default as memoize } from './memoize';\nexport { default as deepMix } from './deep-mix';\nexport { default as each } from './each';\nexport { default as extend } from './extend';\nexport { default as indexOf } from './index-of';\nexport { default as isEmpty } from './is-empty';\nexport { default as isEqual } from './is-equal';\nexport { default as isEqualWith } from './is-equal-with';\nexport { default as map } from './map';\nexport { default as mapValues } from './map-values';\nexport { default as mix, default as assign } from './mix';\nexport { default as get } from './get';\nexport { default as set } from './set';\nexport { default as pick } from './pick';\nexport { default as throttle } from './throttle';\nexport { default as toArray } from './to-array';\nexport { default as toString } from './to-string';\nexport { default as uniqueId } from './unique-id';\nexport { default as noop } from './noop';\nexport { default as identity } from './identity';\nexport { default as size } from './size';\n// 不知道为什么，需要把这个 export，不然 ts 会报类型错误\nexport { default as Cache } from './cache';\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction removeFromArray(arr, obj) {\n    var index = arr.indexOf(obj);\n    if (index !== -1) {\n        arr.splice(index, 1);\n    }\n}\nexports.removeFromArray = removeFromArray;\nexports.isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar is_nil_1 = require(\"@antv/util/lib/is-nil\");\nexports.isNil = is_nil_1.default;\nvar is_function_1 = require(\"@antv/util/lib/is-function\");\nexports.isFunction = is_function_1.default;\nvar is_string_1 = require(\"@antv/util/lib/is-string\");\nexports.isString = is_string_1.default;\nvar is_object_1 = require(\"@antv/util/lib/is-object\");\nexports.isObject = is_object_1.default;\nvar is_array_1 = require(\"@antv/util/lib/is-array\");\nexports.isArray = is_array_1.default;\nvar mix_1 = require(\"@antv/util/lib/mix\");\nexports.mix = mix_1.default;\nvar each_1 = require(\"@antv/util/lib/each\");\nexports.each = each_1.default;\nvar upper_first_1 = require(\"@antv/util/lib/upper-first\");\nexports.upperFirst = upper_first_1.default;\n// 是否元素的父容器\nfunction isParent(container, shape) {\n    // 所有 shape 都是 canvas 的子元素\n    if (container.isCanvas()) {\n        return true;\n    }\n    var parent = shape.getParent();\n    var isParent = false;\n    while (parent) {\n        if (parent === container) {\n            isParent = true;\n            break;\n        }\n        parent = parent.getParent();\n    }\n    return isParent;\n}\nexports.isParent = isParent;\nfunction isAllowCapture(element) {\n    // @ts-ignore\n    return element.cfg.visible && element.cfg.capture;\n}\nexports.isAllowCapture = isAllowCapture;\n//# sourceMappingURL=util.js.map","import { __extends } from \"tslib\";\nimport EE from '@antv/event-emitter';\nimport { mix } from '../util/util';\nvar Base = /** @class */ (function (_super) {\n    __extends(Base, _super);\n    function Base(cfg) {\n        var _this = _super.call(this) || this;\n        /**\n         * 是否被销毁\n         * @type {boolean}\n         */\n        _this.destroyed = false;\n        var defaultCfg = _this.getDefaultCfg();\n        _this.cfg = mix(defaultCfg, cfg);\n        return _this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    // 实现接口的方法\n    Base.prototype.get = function (name) {\n        return this.cfg[name];\n    };\n    // 实现接口的方法\n    Base.prototype.set = function (name, value) {\n        this.cfg[name] = value;\n    };\n    // 实现接口的方法\n    Base.prototype.destroy = function () {\n        this.cfg = {\n            destroyed: true,\n        };\n        this.off();\n        this.destroyed = true;\n    };\n    return Base;\n}(EE));\nexport default Base;\n//# sourceMappingURL=base.js.map","import * as mat3 from '@antv/gl-matrix/lib/gl-matrix/mat3';\nmat3.translate = function (out, a, v) {\n    var transMat = new Array(9);\n    mat3.fromTranslation(transMat, v);\n    return mat3.multiply(out, transMat, a);\n};\nmat3.rotate = function (out, a, rad) {\n    var rotateMat = new Array(9);\n    mat3.fromRotation(rotateMat, rad);\n    return mat3.multiply(out, rotateMat, a);\n};\nmat3.scale = function (out, a, v) {\n    var scaleMat = new Array(9);\n    mat3.fromScaling(scaleMat, v);\n    return mat3.multiply(out, scaleMat, a);\n};\nmat3.transform = function (m, actions) {\n    var out = [].concat(m);\n    for (var i = 0, len = actions.length; i < len; i++) {\n        var action = actions[i];\n        switch (action[0]) {\n            case 't':\n                mat3.translate(out, out, [action[1], action[2]]);\n                break;\n            case 's':\n                mat3.scale(out, out, [action[1], action[2]]);\n                break;\n            case 'r':\n                mat3.rotate(out, out, action[1]);\n                break;\n            default:\n                break;\n        }\n    }\n    return out;\n};\nexport default mat3;\n//# sourceMappingURL=mat3.js.map","import * as vec2 from '@antv/gl-matrix/lib/gl-matrix/vec2';\nimport { clamp } from '@antv/util';\nvec2.angle = function (v1, v2) {\n    var theta = vec2.dot(v1, v2) / (vec2.length(v1) * vec2.length(v2));\n    return Math.acos(clamp(theta, -1, 1));\n};\n/**\n * 向量 v1 到 向量 v2 夹角的方向\n * @param  {Array} v1 向量\n * @param  {Array} v2 向量\n * @return {Boolean} >= 0 顺时针 < 0 逆时针\n */\nvec2.direction = function (v1, v2) {\n    return v1[0] * v2[1] - v2[0] * v1[1];\n};\nvec2.angleTo = function (v1, v2, direct) {\n    var angle = vec2.angle(v1, v2);\n    var angleLargeThanPI = vec2.direction(v1, v2) >= 0;\n    if (direct) {\n        if (angleLargeThanPI) {\n            return Math.PI * 2 - angle;\n        }\n        return angle;\n    }\n    if (angleLargeThanPI) {\n        return angle;\n    }\n    return Math.PI * 2 - angle;\n};\nvec2.vertical = function (out, v, flag) {\n    if (flag) {\n        out[0] = v[1];\n        out[1] = -1 * v[0];\n    }\n    else {\n        out[0] = -1 * v[1];\n        out[1] = v[0];\n    }\n    return out;\n};\nexport default vec2;\n//# sourceMappingURL=vec2.js.map","import { each, clone } from '@antv/util';\nimport mat3 from './mat3';\nexport default (function (m, ts) {\n    // 上层使用时会传入为 null 的 matrix，此时按照单位矩阵处理\n    var matrix = m ? clone(m) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    each(ts, function (t) {\n        switch (t[0]) {\n            case 't':\n                mat3.translate(matrix, matrix, [t[1], t[2]]);\n                break;\n            case 's':\n                mat3.scale(matrix, matrix, [t[1], t[2]]);\n                break;\n            case 'r':\n                mat3.rotate(matrix, matrix, t[1]);\n                break;\n            case 'm':\n                mat3.multiply(matrix, matrix, t[1]);\n                break;\n            default:\n                return false;\n        }\n    });\n    return matrix;\n});\n//# sourceMappingURL=transform.js.map","\"use strict\";\n/**\n * @fileoverview 矩阵运算，本来是要引入 gl-matrix, 但是考虑到 g-mobile 对大小有限制，同时 g-webgl 使用的 matrix 不一致\n * 所以，这里仅实现 2D 几个运算，上层自己引入 gl-matrix\n * @author dxq613@gmail.com\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * 3阶矩阵相乘\n * @param {number[]} a 矩阵1\n * @param {number[]} b 矩阵2\n */\nfunction multiplyMatrix(a, b) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b00 = b[0];\n    var b01 = b[1];\n    var b02 = b[2];\n    var b10 = b[3];\n    var b11 = b[4];\n    var b12 = b[5];\n    var b20 = b[6];\n    var b21 = b[7];\n    var b22 = b[8];\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n}\nexports.multiplyMatrix = multiplyMatrix;\n/**\n * 3阶矩阵同2阶向量相乘\n * @param {number[]} m 矩阵\n * @param {number[]} v 二阶向量\n */\nfunction multiplyVec2(m, v) {\n    var out = [];\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n}\nexports.multiplyVec2 = multiplyVec2;\n/**\n * 矩阵的逆\n * @param {number[]} a 矩阵\n */\nfunction invert(a) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b01 = a22 * a11 - a12 * a21;\n    var b11 = -a22 * a10 + a12 * a20;\n    var b21 = a21 * a10 - a11 * a20;\n    // Calculate the determinant\n    var det = a00 * b01 + a01 * b11 + a02 * b21;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n}\nexports.invert = invert;\n//# sourceMappingURL=matrix.js.map","import { __extends } from \"tslib\";\nimport { each, isEqual, isFunction, isNumber, isObject, isArray, noop, mix, upperFirst, uniqueId } from '@antv/util';\nimport { transform } from '@antv/matrix-util';\nimport { removeFromArray, isParent } from '../util/util';\nimport { multiplyMatrix, multiplyVec2, invert } from '../util/matrix';\nimport Base from './base';\nvar MATRIX = 'matrix';\nvar CLONE_CFGS = ['zIndex', 'capture', 'visible', 'type'];\n// 可以在 toAttrs 中设置，但不属于绘图属性的字段\nvar RESERVED_PORPS = ['repeat'];\nvar DELEGATION_SPLIT = ':';\nvar WILDCARD = '*';\n// 需要考虑数组嵌套数组的场景\n// 数组嵌套对象的场景不考虑\nfunction _cloneArrayAttr(arr) {\n    var result = [];\n    for (var i = 0; i < arr.length; i++) {\n        if (isArray(arr[i])) {\n            result.push([].concat(arr[i]));\n        }\n        else {\n            result.push(arr[i]);\n        }\n    }\n    return result;\n}\nfunction getFormatFromAttrs(toAttrs, shape) {\n    var fromAttrs = {};\n    var attrs = shape.attrs;\n    for (var k in toAttrs) {\n        fromAttrs[k] = attrs[k];\n    }\n    return fromAttrs;\n}\nfunction getFormatToAttrs(props, shape) {\n    var toAttrs = {};\n    var attrs = shape.attr();\n    each(props, function (v, k) {\n        if (RESERVED_PORPS.indexOf(k) === -1 && !isEqual(attrs[k], v)) {\n            toAttrs[k] = v;\n        }\n    });\n    return toAttrs;\n}\nfunction checkExistedAttrs(animations, animation) {\n    if (animation.onFrame) {\n        return animations;\n    }\n    var startTime = animation.startTime, delay = animation.delay, duration = animation.duration;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    each(animations, function (item) {\n        // 后一个动画开始执行的时间 < 前一个动画的结束时间 && 后一个动画的执行时间 > 前一个动画的延迟\n        if (startTime + delay < item.startTime + item.delay + item.duration && duration > item.delay) {\n            each(animation.toAttrs, function (v, k) {\n                if (hasOwnProperty.call(item.toAttrs, k)) {\n                    delete item.toAttrs[k];\n                    delete item.fromAttrs[k];\n                }\n            });\n        }\n    });\n    return animations;\n}\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    function Element(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        /**\n         * @protected\n         * 图形属性\n         * @type {ShapeAttrs}\n         */\n        _this.attrs = {};\n        var attrs = _this.getDefaultAttrs();\n        mix(attrs, cfg.attrs);\n        _this.attrs = attrs;\n        _this.initAttrs(attrs);\n        _this.initAnimate(); // 初始化动画\n        return _this;\n    }\n    // override\n    Element.prototype.getDefaultCfg = function () {\n        return {\n            visible: true,\n            capture: true,\n            zIndex: 0,\n        };\n    };\n    /**\n     * @protected\n     * 获取默认的属相\n     */\n    Element.prototype.getDefaultAttrs = function () {\n        return {\n            matrix: this.getDefaultMatrix(),\n            opacity: 1,\n        };\n    };\n    /**\n     * @protected\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    Element.prototype.onCanvasChange = function (changeType) { };\n    /**\n     * @protected\n     * 初始化属性，有些属性需要加工\n     * @param {object} attrs 属性值\n     */\n    Element.prototype.initAttrs = function (attrs) { };\n    /**\n     * @protected\n     * 初始化动画\n     */\n    Element.prototype.initAnimate = function () {\n        this.set('animable', true);\n        this.set('animating', false);\n    };\n    Element.prototype.isGroup = function () {\n        return false;\n    };\n    Element.prototype.getParent = function () {\n        return this.get('parent');\n    };\n    Element.prototype.getCanvas = function () {\n        return this.get('canvas');\n    };\n    Element.prototype.attr = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var name = args[0], value = args[1];\n        if (!name)\n            return this.attrs;\n        if (isObject(name)) {\n            for (var k in name) {\n                this.setAttr(k, name[k]);\n            }\n            this.afterAttrsChange(name);\n            return this;\n        }\n        if (args.length === 2) {\n            this.setAttr(name, value);\n            this.afterAttrsChange((_a = {},\n                _a[name] = value,\n                _a));\n            return this;\n        }\n        return this.attrs[name];\n    };\n    // 是否被裁剪，被裁剪则不显示，不参与拾取\n    Element.prototype.isClipped = function (refX, refY) {\n        var clip = this.getClip();\n        return clip && !clip.isHit(refX, refY);\n    };\n    /**\n     * 内部设置属性值的接口\n     * @param {string} name 属性名\n     * @param {any} value 属性值\n     */\n    Element.prototype.setAttr = function (name, value) {\n        var originValue = this.attrs[name];\n        if (originValue !== value) {\n            this.attrs[name] = value;\n            this.onAttrChange(name, value, originValue);\n        }\n    };\n    /**\n     * @protected\n     * 属性值发生改变\n     * @param {string} name 属性名\n     * @param {any} value 属性值\n     * @param {any} originValue 属性值\n     */\n    Element.prototype.onAttrChange = function (name, value, originValue) {\n        if (name === 'matrix') {\n            this.set('totalMatrix', null);\n        }\n    };\n    /**\n     * 属性更改后需要做的事情\n     * @protected\n     */\n    Element.prototype.afterAttrsChange = function (targetAttrs) {\n        this.onCanvasChange('attr');\n    };\n    Element.prototype.show = function () {\n        // 不是高频操作直接使用 set\n        this.set('visible', true);\n        this.onCanvasChange('show');\n        return this;\n    };\n    Element.prototype.hide = function () {\n        // 不是高频操作直接使用 set\n        this.set('visible', false);\n        this.onCanvasChange('hide');\n        return this;\n    };\n    Element.prototype.setZIndex = function (zIndex) {\n        this.set('zIndex', zIndex);\n        var parent = this.getParent();\n        if (parent) {\n            // 改变 zIndex 不应该立即触发渲染 (调用 onCanvasChange('zIndex'))，需要经过 sort 再触发\n            parent.sort();\n        }\n        return this;\n    };\n    Element.prototype.toFront = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.push(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.toBack = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.unshift(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.remove = function (destroy) {\n        if (destroy === void 0) { destroy = true; }\n        var parent = this.getParent();\n        if (parent) {\n            removeFromArray(parent.getChildren(), this);\n            if (!parent.get('clearing')) {\n                // 如果父元素正在清理，当前元素不触发 remove\n                this.onCanvasChange('remove');\n            }\n        }\n        else {\n            this.onCanvasChange('remove');\n        }\n        if (destroy) {\n            this.destroy();\n        }\n    };\n    Element.prototype.resetMatrix = function () {\n        this.attr(MATRIX, this.getDefaultMatrix());\n        this.onCanvasChange('matrix');\n    };\n    Element.prototype.getMatrix = function () {\n        return this.attr(MATRIX);\n    };\n    Element.prototype.setMatrix = function (m) {\n        this.attr(MATRIX, m);\n        this.onCanvasChange('matrix');\n    };\n    // 获取总的 matrix\n    Element.prototype.getTotalMatrix = function () {\n        var totalMatrix = this.get('totalMatrix');\n        if (!totalMatrix) {\n            var currentMatrix = this.attr('matrix');\n            var parentMatrix = this.get('parentMatrix');\n            if (parentMatrix && currentMatrix) {\n                totalMatrix = multiplyMatrix(parentMatrix, currentMatrix);\n            }\n            else {\n                totalMatrix = currentMatrix || parentMatrix;\n            }\n            this.set('totalMatrix', totalMatrix);\n        }\n        return totalMatrix;\n    };\n    // 上层分组设置 matrix\n    Element.prototype.applyMatrix = function (matrix) {\n        var currentMatrix = this.attr('matrix');\n        var totalMatrix = null;\n        if (matrix && currentMatrix) {\n            totalMatrix = multiplyMatrix(matrix, currentMatrix);\n        }\n        else {\n            totalMatrix = currentMatrix || matrix;\n        }\n        this.set('totalMatrix', totalMatrix);\n        this.set('parentMatrix', matrix);\n    };\n    /**\n     * @protected\n     * 获取默认的矩阵\n     * @returns {number[]|null} 默认的矩阵\n     */\n    Element.prototype.getDefaultMatrix = function () {\n        return null;\n    };\n    // 将向量应用设置的矩阵\n    Element.prototype.applyToMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            return multiplyVec2(matrix, v);\n        }\n        return v;\n    };\n    // 根据设置的矩阵，将向量转换相对于图形/分组的位置\n    Element.prototype.invertFromMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            var invertMatrix = invert(matrix);\n            if (invertMatrix) {\n                return multiplyVec2(invertMatrix, v);\n            }\n        }\n        return v;\n    };\n    // 设置 clip\n    Element.prototype.setClip = function (clipCfg) {\n        var canvas = this.getCanvas();\n        // 应该只设置当前元素的 clip，不应该去修改 clip 本身，方便 clip 被复用\n        // TODO: setClip 的传参既 shape 配置，也支持 shape 对象\n        // const preShape = this.get('clipShape');\n        // if (preShape) {\n        //   // 将之前的 clipShape 销毁\n        //   preShape.destroy();\n        // }\n        var clipShape = null;\n        // 如果配置项为 null，则不移除 clipShape\n        if (clipCfg) {\n            var ShapeBase = this.getShapeBase();\n            var shapeType = upperFirst(clipCfg.type);\n            var Cons = ShapeBase[shapeType];\n            if (Cons) {\n                clipShape = new Cons({\n                    type: clipCfg.type,\n                    isClipShape: true,\n                    attrs: clipCfg.attrs,\n                    canvas: canvas,\n                });\n            }\n        }\n        this.set('clipShape', clipShape);\n        this.onCanvasChange('clip');\n        return clipShape;\n    };\n    Element.prototype.getClip = function () {\n        // 高频率调用的地方直接使用 this.cfg.xxx\n        var clipShape = this.cfg.clipShape;\n        // 未设置时返回 Null，保证一致性\n        if (!clipShape) {\n            return null;\n        }\n        return clipShape;\n    };\n    Element.prototype.clone = function () {\n        var _this = this;\n        var originAttrs = this.attrs;\n        var attrs = {};\n        each(originAttrs, function (i, k) {\n            if (isArray(originAttrs[k])) {\n                attrs[k] = _cloneArrayAttr(originAttrs[k]);\n            }\n            else {\n                attrs[k] = originAttrs[k];\n            }\n        });\n        var cons = this.constructor;\n        // @ts-ignore\n        var clone = new cons({ attrs: attrs });\n        each(CLONE_CFGS, function (cfgName) {\n            clone.set(cfgName, _this.get(cfgName));\n        });\n        return clone;\n    };\n    Element.prototype.destroy = function () {\n        var destroyed = this.destroyed;\n        if (destroyed) {\n            return;\n        }\n        this.attrs = {};\n        _super.prototype.destroy.call(this);\n        // this.onCanvasChange('destroy');\n    };\n    /**\n     * 是否处于动画暂停状态\n     * @return {boolean} 是否处于动画暂停状态\n     */\n    Element.prototype.isAnimatePaused = function () {\n        return this.get('_pause').isPaused;\n    };\n    /**\n     * 执行动画，支持多种函数签名\n     * 1. animate(toAttrs: ElementAttrs, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 2. animate(onFrame: OnFrame, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 3. animate(toAttrs: ElementAttrs, cfg: AnimateCfg)\n     * 4. animate(onFrame: OnFrame, cfg: AnimateCfg)\n     * 各个参数的含义为:\n     *   toAttrs  动画最终状态\n     *   onFrame  自定义帧动画函数\n     *   duration 动画执行时间\n     *   easing   动画缓动效果\n     *   callback 动画执行后的回调\n     *   delay    动画延迟时间\n     */\n    Element.prototype.animate = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.set('animating', true);\n        var timeline = this.get('timeline');\n        if (!timeline) {\n            timeline = this.get('canvas').get('timeline');\n            this.set('timeline', timeline);\n        }\n        var animations = this.get('animations') || [];\n        // 初始化 tick\n        if (!timeline.timer) {\n            timeline.initTimer();\n        }\n        var toAttrs = args[0], duration = args[1], _a = args[2], easing = _a === void 0 ? 'easeLinear' : _a, _b = args[3], callback = _b === void 0 ? noop : _b, _c = args[4], delay = _c === void 0 ? 0 : _c;\n        var onFrame;\n        var repeat;\n        var pauseCallback;\n        var resumeCallback;\n        var animateCfg;\n        // 第二个参数，既可以是动画最终状态 toAttrs，也可以是自定义帧动画函数 onFrame\n        if (isFunction(toAttrs)) {\n            onFrame = toAttrs;\n            toAttrs = {};\n        }\n        else if (isObject(toAttrs) && toAttrs.onFrame) {\n            // 兼容 3.0 中的写法，onFrame 和 repeat 可在 toAttrs 中设置\n            onFrame = toAttrs.onFrame;\n            repeat = toAttrs.repeat;\n        }\n        // 第二个参数，既可以是执行时间 duration，也可以是动画参数 animateCfg\n        if (isObject(duration)) {\n            animateCfg = duration;\n            duration = animateCfg.duration;\n            easing = animateCfg.easing || 'easeLinear';\n            delay = animateCfg.delay || 0;\n            // animateCfg 中的设置优先级更高\n            repeat = animateCfg.repeat || repeat || false;\n            callback = animateCfg.callback || noop;\n            pauseCallback = animateCfg.pauseCallback || noop;\n            resumeCallback = animateCfg.resumeCallback || noop;\n        }\n        else {\n            // 第四个参数，既可以是回调函数 callback，也可以是延迟时间 delay\n            if (isNumber(callback)) {\n                delay = callback;\n                callback = null;\n            }\n            // 第三个参数，既可以是缓动参数 easing，也可以是回调函数 callback\n            if (isFunction(easing)) {\n                callback = easing;\n                easing = 'easeLinear';\n            }\n            else {\n                easing = easing || 'easeLinear';\n            }\n        }\n        var formatToAttrs = getFormatToAttrs(toAttrs, this);\n        var animation = {\n            fromAttrs: getFormatFromAttrs(formatToAttrs, this),\n            toAttrs: formatToAttrs,\n            duration: duration,\n            easing: easing,\n            repeat: repeat,\n            callback: callback,\n            pauseCallback: pauseCallback,\n            resumeCallback: resumeCallback,\n            delay: delay,\n            startTime: timeline.getTime(),\n            id: uniqueId(),\n            onFrame: onFrame,\n            pathFormatted: false,\n        };\n        // 如果动画元素队列中已经有这个图形了\n        if (animations.length > 0) {\n            // 先检查是否需要合并属性。若有相同的动画，将该属性从前一个动画中删除,直接用后一个动画中\n            animations = checkExistedAttrs(animations, animation);\n        }\n        else {\n            // 否则将图形添加到动画元素队列\n            timeline.addAnimator(this);\n        }\n        animations.push(animation);\n        this.set('animations', animations);\n        this.set('_pause', { isPaused: false });\n    };\n    /**\n     * 停止动画\n     * @param {boolean} toEnd 是否到动画的最终状态\n     */\n    Element.prototype.stopAnimate = function (toEnd) {\n        var _this = this;\n        if (toEnd === void 0) { toEnd = true; }\n        var animations = this.get('animations');\n        each(animations, function (animation) {\n            // 将动画执行到最后一帧\n            if (toEnd) {\n                if (animation.onFrame) {\n                    _this.attr(animation.onFrame(1));\n                }\n                else {\n                    _this.attr(animation.toAttrs);\n                }\n            }\n            if (animation.callback) {\n                // 动画停止时的回调\n                animation.callback();\n            }\n        });\n        this.set('animating', false);\n        this.set('animations', []);\n    };\n    /**\n     * 暂停动画\n     */\n    Element.prototype.pauseAnimate = function () {\n        var timeline = this.get('timeline');\n        var animations = this.get('animations');\n        var pauseTime = timeline.getTime();\n        each(animations, function (animation) {\n            animation._paused = true;\n            animation._pauseTime = pauseTime;\n            if (animation.pauseCallback) {\n                // 动画暂停时的回调\n                animation.pauseCallback();\n            }\n        });\n        // 记录下是在什么时候暂停的\n        this.set('_pause', {\n            isPaused: true,\n            pauseTime: pauseTime,\n        });\n        return this;\n    };\n    /**\n     * 恢复动画\n     */\n    Element.prototype.resumeAnimate = function () {\n        var timeline = this.get('timeline');\n        var current = timeline.getTime();\n        var animations = this.get('animations');\n        var pauseTime = this.get('_pause').pauseTime;\n        // 之后更新属性需要计算动画已经执行的时长，如果暂停了，就把初始时间调后\n        each(animations, function (animation) {\n            animation.startTime = animation.startTime + (current - pauseTime);\n            animation._paused = false;\n            animation._pauseTime = null;\n            if (animation.resumeCallback) {\n                animation.resumeCallback();\n            }\n        });\n        this.set('_pause', {\n            isPaused: false,\n        });\n        this.set('animations', animations);\n        return this;\n    };\n    /**\n     * 触发委托事件\n     * @param  {string}     type 事件类型\n     * @param  {GraphEvent} eventObj 事件对象\n     */\n    Element.prototype.emitDelegation = function (type, eventObj) {\n        var _this = this;\n        var paths = eventObj.propagationPath;\n        var events = this.getEvents();\n        var relativeShape;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n        }\n        else if (type === 'mouseleave') {\n            relativeShape = eventObj.toShape;\n        }\n        var _loop_1 = function (i) {\n            var element = paths[i];\n            // 暂定跟 name 绑定\n            var name_1 = element.get('name');\n            if (name_1) {\n                // 第一个 mouseenter 和 mouseleave 的停止即可，因为后面的都是前面的 Parent\n                if (\n                // 只有 element 是 Group 或者 Canvas 的时候，才需要判断 isParent\n                (element.isGroup() || (element.isCanvas && element.isCanvas())) &&\n                    relativeShape &&\n                    isParent(element, relativeShape)) {\n                    return \"break\";\n                }\n                if (isArray(name_1)) {\n                    each(name_1, function (subName) {\n                        _this.emitDelegateEvent(element, subName, eventObj);\n                    });\n                }\n                else {\n                    this_1.emitDelegateEvent(element, name_1, eventObj);\n                }\n            }\n        };\n        var this_1 = this;\n        // 至少有一个对象，且第一个对象为 shape\n        for (var i = 0; i < paths.length; i++) {\n            var state_1 = _loop_1(i);\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Element.prototype.emitDelegateEvent = function (element, name, eventObj) {\n        var events = this.getEvents();\n        // 事件委托的形式 name:type\n        var eventName = name + DELEGATION_SPLIT + eventObj.type;\n        if (events[eventName] || events[WILDCARD]) {\n            // 对于通配符 *，事件名称 = 委托事件名称\n            eventObj.name = eventName;\n            eventObj.currentTarget = element;\n            eventObj.delegateTarget = this;\n            // 将委托事件的监听对象 delegateObject 挂载到事件对象上\n            eventObj.delegateObject = element.get('delegateObject');\n            this.emit(eventName, eventObj);\n        }\n    };\n    /**\n     * 移动元素\n     * @param {number} translateX 水平移动距离\n     * @param {number} translateY 垂直移动距离\n     * @return {IElement} 元素\n     */\n    Element.prototype.translate = function (translateX, translateY) {\n        if (translateX === void 0) { translateX = 0; }\n        if (translateY === void 0) { translateY = 0; }\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['t', translateX, translateY]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 移动元素到目标位置\n     * @param {number} targetX 目标位置的水平坐标\n     * @param {number} targetX 目标位置的垂直坐标\n     * @return {IElement} 元素\n     */\n    Element.prototype.move = function (targetX, targetY) {\n        var x = this.attr('x') || 0;\n        var y = this.attr('y') || 0;\n        this.translate(targetX - x, targetY - y);\n        return this;\n    };\n    /**\n     * 移动元素到目标位置，等价于 move 方法。由于 moveTo 的语义性更强，因此在文档中推荐使用 moveTo 方法\n     * @param {number} targetX 目标位置的 x 轴坐标\n     * @param {number} targetY 目标位置的 y 轴坐标\n     * @return {IElement} 元素\n     */\n    Element.prototype.moveTo = function (targetX, targetY) {\n        return this.move(targetX, targetY);\n    };\n    /**\n     * 缩放元素\n     * @param {number} ratioX 水平缩放比例\n     * @param {number} ratioY 垂直缩放比例\n     * @return {IElement} 元素\n     */\n    Element.prototype.scale = function (ratioX, ratioY) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['s', ratioX, ratioY || ratioX]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 以画布左上角 (0, 0) 为中心旋转元素\n     * @param {number} radian 旋转角度(弧度值)\n     * @return {IElement} 元素\n     */\n    Element.prototype.rotate = function (radian) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['r', radian]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 以起始点为中心旋转元素\n     * @param {number} radian 旋转角度(弧度值)\n     * @return {IElement} 元素\n     */\n    Element.prototype.rotateAtStart = function (rotate) {\n        var _a = this.attr(), x = _a.x, y = _a.y;\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 以任意点 (x, y) 为中心旋转元素\n     * @param {number} radian 旋转角度(弧度值)\n     * @return {IElement} 元素\n     */\n    Element.prototype.rotateAtPoint = function (x, y, rotate) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    return Element;\n}(Base));\nexport default Element;\n//# sourceMappingURL=element.js.map","import { __extends } from \"tslib\";\nimport Element from './element';\nimport { isFunction, isObject, each, removeFromArray, upperFirst, isAllowCapture } from '../util/util';\nvar SHAPE_MAP = {};\nvar INDEX = '_INDEX';\nfunction afterAdd(element) {\n    if (element.isGroup()) {\n        if (element.isEntityGroup() || element.get('children').length) {\n            element.onCanvasChange('add');\n        }\n    }\n    else {\n        element.onCanvasChange('add');\n    }\n}\n/**\n * 设置 canvas\n * @param {IElement} element 元素\n * @param {ICanvas}  canvas  画布\n */\nfunction setCanvas(element, canvas) {\n    element.set('canvas', canvas);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setCanvas(child, canvas);\n            });\n        }\n    }\n}\n/**\n * 设置 timeline\n * @param {IElement} element  元素\n * @param {Timeline} timeline 时间轴\n */\nfunction setTimeline(element, timeline) {\n    element.set('timeline', timeline);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setTimeline(child, timeline);\n            });\n        }\n    }\n}\nfunction contains(container, element) {\n    var children = container.getChildren();\n    return children.indexOf(element) >= 0;\n}\nfunction removeChild(container, element, destroy) {\n    if (destroy === void 0) { destroy = true; }\n    // 不再调用 element.remove() 方法，会出现循环调用\n    if (destroy) {\n        element.destroy();\n    }\n    else {\n        element.set('parent', null);\n        element.set('canvas', null);\n    }\n    removeFromArray(container.getChildren(), element);\n}\nfunction getComparer(compare) {\n    return function (left, right) {\n        var result = compare(left, right);\n        return result === 0 ? left[INDEX] - right[INDEX] : result;\n    };\n}\nvar Container = /** @class */ (function (_super) {\n    __extends(Container, _super);\n    function Container() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Container.prototype.isCanvas = function () {\n        return false;\n    };\n    // 根据子节点确定 BBox\n    Container.prototype.getBBox = function () {\n        // 所有的值可能在画布的可视区外\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // 将可见元素、图形以及不为空的图形分组筛选出来，用于包围盒合并\n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = Math.min.apply(null, xArr);\n            maxX = Math.max.apply(null, xArr);\n            minY = Math.min.apply(null, yArr);\n            maxY = Math.max.apply(null, yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    // 获取画布的包围盒\n    Container.prototype.getCanvasBBox = function () {\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // 将可见元素、图形以及不为空的图形分组筛选出来，用于包围盒合并\n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getCanvasBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = Math.min.apply(null, xArr);\n            maxX = Math.max.apply(null, xArr);\n            minY = Math.min.apply(null, yArr);\n            maxY = Math.max.apply(null, yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    Container.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        cfg['children'] = [];\n        return cfg;\n    };\n    Container.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (name === 'matrix') {\n            var totalMatrix = this.getTotalMatrix();\n            this._applyChildrenMarix(totalMatrix);\n        }\n    };\n    // 不但应用到自己身上还要应用于子元素\n    Container.prototype.applyMatrix = function (matrix) {\n        var preTotalMatrix = this.getTotalMatrix();\n        _super.prototype.applyMatrix.call(this, matrix);\n        var totalMatrix = this.getTotalMatrix();\n        // totalMatrix 没有发生变化时，这里仅考虑两者都为 null 时\n        // 不继续向下传递矩阵\n        if (totalMatrix === preTotalMatrix) {\n            return;\n        }\n        this._applyChildrenMarix(totalMatrix);\n    };\n    // 在子元素上设置矩阵\n    Container.prototype._applyChildrenMarix = function (totalMatrix) {\n        var children = this.getChildren();\n        each(children, function (child) {\n            child.applyMatrix(totalMatrix);\n        });\n    };\n    // 兼容老版本的接口\n    Container.prototype.addShape = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var type = args[0];\n        var cfg = args[1];\n        if (isObject(type)) {\n            cfg = type;\n        }\n        else {\n            cfg['type'] = type;\n        }\n        var shapeType = SHAPE_MAP[cfg.type];\n        if (!shapeType) {\n            shapeType = upperFirst(cfg.type);\n            SHAPE_MAP[cfg.type] = shapeType;\n        }\n        var ShapeBase = this.getShapeBase();\n        var shape = new ShapeBase[shapeType](cfg);\n        this.add(shape);\n        return shape;\n    };\n    Container.prototype.addGroup = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var groupClass = args[0], cfg = args[1];\n        var group;\n        if (isFunction(groupClass)) {\n            if (cfg) {\n                group = new groupClass(cfg);\n            }\n            else {\n                group = new groupClass({\n                    // canvas,\n                    parent: this,\n                });\n            }\n        }\n        else {\n            var tmpCfg = groupClass || {};\n            var TmpGroupClass = this.getGroupBase();\n            group = new TmpGroupClass(tmpCfg);\n        }\n        this.add(group);\n        return group;\n    };\n    Container.prototype.getCanvas = function () {\n        var canvas;\n        if (this.isCanvas()) {\n            canvas = this;\n        }\n        else {\n            canvas = this.get('canvas');\n        }\n        return canvas;\n    };\n    Container.prototype.getShape = function (x, y, ev) {\n        // 如果不支持拾取，则直接返回\n        if (!isAllowCapture(this)) {\n            return null;\n        }\n        var children = this.getChildren();\n        var shape;\n        // 如果容器是 group\n        if (!this.isCanvas()) {\n            var v = [x, y, 1];\n            // 将 x, y 转换成对应于 group 的局部坐标\n            v = this.invertFromMatrix(v);\n            if (!this.isClipped(v[0], v[1])) {\n                shape = this._findShape(children, v[0], v[1], ev);\n            }\n        }\n        else {\n            shape = this._findShape(children, x, y, ev);\n        }\n        return shape;\n    };\n    Container.prototype._findShape = function (children, x, y, ev) {\n        var shape = null;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var child = children[i];\n            if (isAllowCapture(child)) {\n                if (child.isGroup()) {\n                    shape = child.getShape(x, y, ev);\n                }\n                else if (child.isHit(x, y)) {\n                    shape = child;\n                }\n            }\n            if (shape) {\n                break;\n            }\n        }\n        return shape;\n    };\n    Container.prototype.add = function (element) {\n        var canvas = this.getCanvas();\n        var children = this.getChildren();\n        var timeline = this.get('timeline');\n        var preParent = element.getParent();\n        if (preParent) {\n            removeChild(preParent, element, false);\n        }\n        element.set('parent', this);\n        if (canvas) {\n            setCanvas(element, canvas);\n        }\n        if (timeline) {\n            setTimeline(element, timeline);\n        }\n        children.push(element);\n        afterAdd(element);\n        this._applyElementMatrix(element);\n    };\n    // 将当前容器的矩阵应用到子元素\n    Container.prototype._applyElementMatrix = function (element) {\n        var totalMatrix = this.getTotalMatrix();\n        // 添加图形或者分组时，需要把当前图元的矩阵设置进去\n        if (totalMatrix) {\n            element.applyMatrix(totalMatrix);\n        }\n    };\n    Container.prototype.getChildren = function () {\n        return this.get('children');\n    };\n    Container.prototype.sort = function () {\n        var children = this.getChildren();\n        // 稳定排序\n        each(children, function (child, index) {\n            child[INDEX] = index;\n            return child;\n        });\n        children.sort(getComparer(function (obj1, obj2) {\n            return obj1.get('zIndex') - obj2.get('zIndex');\n        }));\n        this.onCanvasChange('sort');\n    };\n    Container.prototype.clear = function () {\n        this.set('clearing', true);\n        if (this.destroyed) {\n            return;\n        }\n        var children = this.getChildren();\n        for (var i = children.length - 1; i >= 0; i--) {\n            children[i].destroy(); // 销毁子元素\n        }\n        this.set('children', []);\n        this.onCanvasChange('clear');\n        this.set('clearing', false);\n    };\n    Container.prototype.destroy = function () {\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * 获取第一个子元素\n     * @return {IElement} 第一个元素\n     */\n    Container.prototype.getFirst = function () {\n        return this.getChildByIndex(0);\n    };\n    /**\n     * 获取最后一个子元素\n     * @return {IElement} 元素\n     */\n    Container.prototype.getLast = function () {\n        var children = this.getChildren();\n        return this.getChildByIndex(children.length - 1);\n    };\n    /**\n     * 根据索引获取子元素\n     * @return {IElement} 第一个元素\n     */\n    Container.prototype.getChildByIndex = function (index) {\n        var children = this.getChildren();\n        return children[index];\n    };\n    /**\n     * 子元素的数量\n     * @return {number} 子元素数量\n     */\n    Container.prototype.getCount = function () {\n        var children = this.getChildren();\n        return children.length;\n    };\n    /**\n     * 是否包含对应元素\n     * @param {IElement} element 元素\n     * @return {boolean}\n     */\n    Container.prototype.contain = function (element) {\n        var children = this.getChildren();\n        return children.indexOf(element) > -1;\n    };\n    /**\n     * 移除对应子元素\n     * @param {IElement} element 子元素\n     * @param {boolean} destroy 是否销毁子元素，默认为 true\n     */\n    Container.prototype.removeChild = function (element, destroy) {\n        if (destroy === void 0) { destroy = true; }\n        if (this.contain(element)) {\n            element.remove(destroy);\n        }\n    };\n    /**\n     * 查找所有匹配的元素\n     * @param  {ElementFilterFn}   fn  匹配函数\n     * @return {IElement[]} 元素数组\n     */\n    Container.prototype.findAll = function (fn) {\n        var rst = [];\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst.push(element);\n            }\n            if (element.isGroup()) {\n                rst = rst.concat(element.findAll(fn));\n            }\n        });\n        return rst;\n    };\n    /**\n     * 查找元素，找到第一个返回\n     * @param  {ElementFilterFn} fn    匹配函数\n     * @return {IElement|null} 元素，可以为空\n     */\n    Container.prototype.find = function (fn) {\n        var rst = null;\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst = element;\n            }\n            else if (element.isGroup()) {\n                rst = element.find(fn);\n            }\n            if (rst) {\n                return false;\n            }\n        });\n        return rst;\n    };\n    /**\n     * 根据 ID 查找元素\n     * @param {string} id 元素 id\n     * @return {IElement|null} 元素\n     */\n    Container.prototype.findById = function (id) {\n        return this.find(function (element) {\n            return element.get('id') === id;\n        });\n    };\n    /**\n     * 该方法即将废弃，不建议使用\n     * 根据 className 查找元素\n     * TODO: 该方式定义暂时只给 G6 3.3 以后的版本使用，待 G6 中的 findByClassName 方法移除后，G 也需要同步移除\n     * @param {string} className 元素 className\n     * @return {IElement | null} 元素\n     */\n    Container.prototype.findByClassName = function (className) {\n        return this.find(function (element) {\n            return element.get('className') === className;\n        });\n    };\n    /**\n     * 根据 name 查找元素列表\n     * @param {string}      name 元素名称\n     * @return {IElement[]} 元素\n     */\n    Container.prototype.findAllByName = function (name) {\n        return this.findAll(function (element) {\n            return element.get('name') === name;\n        });\n    };\n    return Container;\n}(Element));\nexport default Container;\n//# sourceMappingURL=container.js.map","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","export function expIn(t) {\n  return Math.pow(2, 10 * t - 10);\n}\n\nexport function expOut(t) {\n  return 1 - Math.pow(2, -10 * t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","import { isEqual, isNumber, isFunction } from '@antv/util';\nimport * as d3Timer from 'd3-timer';\nimport * as d3Ease from 'd3-ease';\nimport { interpolate, interpolateArray } from 'd3-interpolate'; // 目前整体动画只需要数值和数组的差值计算\nimport * as PathUtil from '../util/path';\nimport { isColorProp, isGradientColor } from '../util/color';\nvar IDENTITY_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n/**\n * 使用 ratio 进行插值计算来更新属性\n * @param {IElement}  shape    元素\n * @param {Animation} animation 动画\n * @param {number}    ratio    比例\n * @return {boolean}  动画是否执行完成\n */\nfunction _update(shape, animation, ratio) {\n    var cProps = {}; // 此刻属性\n    var fromAttrs = animation.fromAttrs, toAttrs = animation.toAttrs;\n    if (shape.destroyed) {\n        return;\n    }\n    var interf; //  差值函数\n    for (var k in toAttrs) {\n        if (!isEqual(fromAttrs[k], toAttrs[k])) {\n            if (k === 'path') {\n                var toPath = toAttrs[k];\n                var fromPath = fromAttrs[k];\n                if (toPath.length > fromPath.length) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]); // 终点状态\n                    fromPath = PathUtil.parsePathString(fromAttrs[k]); // 起始状态\n                    fromPath = PathUtil.fillPathByDiff(fromPath, toPath);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                }\n                else if (!animation.pathFormatted) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]);\n                    fromPath = PathUtil.parsePathString(fromAttrs[k]);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                    animation.pathFormatted = true;\n                }\n                cProps[k] = [];\n                for (var i = 0; i < toPath.length; i++) {\n                    var toPathPoint = toPath[i];\n                    var fromPathPoint = fromPath[i];\n                    var cPathPoint = [];\n                    for (var j = 0; j < toPathPoint.length; j++) {\n                        if (isNumber(toPathPoint[j]) && fromPathPoint && isNumber(fromPathPoint[j])) {\n                            interf = interpolate(fromPathPoint[j], toPathPoint[j]);\n                            cPathPoint.push(interf(ratio));\n                        }\n                        else {\n                            cPathPoint.push(toPathPoint[j]);\n                        }\n                    }\n                    cProps[k].push(cPathPoint);\n                }\n            }\n            else if (k === 'matrix') {\n                /*\n                 对矩阵进行插值时，需要保证矩阵不为空，为空则使用单位矩阵\n                 TODO: 二维和三维场景下单位矩阵不同，之后 WebGL 版需要做进一步处理\n                 */\n                var matrixFn = interpolateArray(fromAttrs[k] || IDENTITY_MATRIX, toAttrs[k] || IDENTITY_MATRIX);\n                var currentMatrix = matrixFn(ratio);\n                cProps[k] = currentMatrix;\n            }\n            else if (isColorProp(k) && isGradientColor(toAttrs[k])) {\n                cProps[k] = toAttrs[k];\n            }\n            else if (!isFunction(toAttrs[k])) {\n                // 非函数类型的值才能做插值\n                interf = interpolate(fromAttrs[k], toAttrs[k]);\n                cProps[k] = interf(ratio);\n            }\n        }\n    }\n    shape.attr(cProps);\n}\n/**\n * 根据自定义帧动画函数 onFrame 来更新属性\n * @param {IElement}  shape    元素\n * @param {Animation} animation 动画\n * @param {number}    elapsed  动画执行时间(毫秒)\n * @return {boolean}  动画是否执行完成\n */\nfunction update(shape, animation, elapsed) {\n    var startTime = animation.startTime, delay = animation.delay;\n    // 如果还没有开始执行或暂停，先不更新\n    if (elapsed < startTime + delay || animation._paused) {\n        return false;\n    }\n    var ratio;\n    var duration = animation.duration;\n    var easing = animation.easing;\n    // 已执行时间\n    elapsed = elapsed - startTime - animation.delay;\n    if (animation.repeat) {\n        // 如果动画重复执行，则 elapsed > duration，计算 ratio 时需取模\n        ratio = (elapsed % duration) / duration;\n        ratio = d3Ease[easing](ratio);\n    }\n    else {\n        ratio = elapsed / duration;\n        if (ratio < 1) {\n            // 动画未执行完\n            ratio = d3Ease[easing](ratio);\n        }\n        else {\n            // 动画已执行完\n            if (animation.onFrame) {\n                shape.attr(animation.onFrame(1));\n            }\n            else {\n                shape.attr(animation.toAttrs);\n            }\n            return true;\n        }\n    }\n    if (animation.onFrame) {\n        var attrs = animation.onFrame(ratio);\n        shape.attr(attrs);\n    }\n    else {\n        _update(shape, animation, ratio);\n    }\n    return false;\n}\nvar Timeline = /** @class */ (function () {\n    /**\n     * 时间轴构造函数，依赖于画布\n     * @param {}\n     */\n    function Timeline(canvas) {\n        /**\n         * 执行动画的元素列表\n         * @type {IElement[]}\n         */\n        this.animators = [];\n        /**\n         * 当前时间\n         * @type {number}\n         */\n        this.current = 0;\n        /**\n         * 定时器\n         * @type {d3Timer.Timer}\n         */\n        this.timer = null;\n        this.canvas = canvas;\n    }\n    /**\n     * 初始化定时器\n     */\n    Timeline.prototype.initTimer = function () {\n        var _this = this;\n        var isFinished = false;\n        var shape;\n        var animations;\n        var animation;\n        this.timer = d3Timer.timer(function (elapsed) {\n            _this.current = elapsed;\n            if (_this.animators.length > 0) {\n                for (var i = _this.animators.length - 1; i >= 0; i--) {\n                    shape = _this.animators[i];\n                    if (shape.destroyed) {\n                        // 如果已经被销毁，直接移出队列\n                        _this.removeAnimator(i);\n                        continue;\n                    }\n                    if (!shape.isAnimatePaused()) {\n                        animations = shape.get('animations');\n                        for (var j = animations.length - 1; j >= 0; j--) {\n                            animation = animations[j];\n                            isFinished = update(shape, animation, elapsed);\n                            if (isFinished) {\n                                animations.splice(j, 1);\n                                isFinished = false;\n                                if (animation.callback) {\n                                    animation.callback();\n                                }\n                            }\n                        }\n                    }\n                    if (animations.length === 0) {\n                        _this.removeAnimator(i);\n                    }\n                }\n                var autoDraw = _this.canvas.get('autoDraw');\n                // 非自动渲染模式下，手动调用 canvas.draw() 重新渲染\n                if (!autoDraw) {\n                    _this.canvas.draw();\n                }\n            }\n        });\n    };\n    /**\n     * 增加动画元素\n     */\n    Timeline.prototype.addAnimator = function (shape) {\n        this.animators.push(shape);\n    };\n    /**\n     * 移除动画元素\n     */\n    Timeline.prototype.removeAnimator = function (index) {\n        this.animators.splice(index, 1);\n    };\n    /**\n     * 是否有动画在执行\n     */\n    Timeline.prototype.isAnimating = function () {\n        return !!this.animators.length;\n    };\n    /**\n     * 停止定时器\n     */\n    Timeline.prototype.stop = function () {\n        if (this.timer) {\n            this.timer.stop();\n        }\n    };\n    /**\n     * 停止时间轴上所有元素的动画，并置空动画元素列表\n     * @param {boolean} toEnd 是否到动画的最终状态，用来透传给动画元素的 stopAnimate 方法\n     */\n    Timeline.prototype.stopAllAnimations = function (toEnd) {\n        if (toEnd === void 0) { toEnd = true; }\n        this.animators.forEach(function (animator) {\n            animator.stopAnimate(toEnd);\n        });\n        this.animators = [];\n        this.canvas.draw();\n    };\n    /**\n     * 获取当前时间\n     */\n    Timeline.prototype.getTime = function () {\n        return this.current;\n    };\n    return Timeline;\n}());\nexport default Timeline;\n//# sourceMappingURL=timeline.js.map","export var isColorProp = function (prop) { return ['fill', 'stroke', 'fillStyle', 'strokeStyle'].includes(prop); };\nexport var isGradientColor = function (val) { return /^[r,R,L,l]{1}[\\s]*\\(/.test(val); };\n//# sourceMappingURL=color.js.map","import { __extends } from \"tslib\";\nimport Container from './container';\nimport { isBrowser, isString } from '../util/util';\nimport Timeline from '../animate/timeline';\nvar PX_SUFFIX = 'px';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.initContainer();\n        _this.initDom();\n        _this.initEvents();\n        _this.initTimeline();\n        return _this;\n    }\n    Canvas.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        // set default cursor style for canvas\n        cfg['cursor'] = 'default';\n        return cfg;\n    };\n    /**\n     * @protected\n     * 初始化容器\n     */\n    Canvas.prototype.initContainer = function () {\n        var container = this.get('container');\n        if (isString(container)) {\n            container = document.getElementById(container);\n            this.set('container', container);\n        }\n    };\n    /**\n     * @protected\n     * 初始化 DOM\n     */\n    Canvas.prototype.initDom = function () {\n        var el = this.createDom();\n        this.set('el', el);\n        // 附加到容器\n        var container = this.get('container');\n        container.appendChild(el);\n        // 设置初始宽度\n        this.setDOMSize(this.get('width'), this.get('height'));\n    };\n    /**\n     * @protected\n     * 初始化绑定的事件\n     */\n    Canvas.prototype.initEvents = function () { };\n    /**\n     * @protected\n     * 初始化时间轴\n     */\n    Canvas.prototype.initTimeline = function () {\n        var timeline = new Timeline(this);\n        this.set('timeline', timeline);\n    };\n    /**\n     * @protected\n     * 修改画布对应的 DOM 的大小\n     * @param {number} width  宽度\n     * @param {number} height 高度\n     */\n    Canvas.prototype.setDOMSize = function (width, height) {\n        var el = this.get('el');\n        if (isBrowser) {\n            el.style.width = width + PX_SUFFIX;\n            el.style.height = height + PX_SUFFIX;\n        }\n    };\n    // 实现接口\n    Canvas.prototype.changeSize = function (width, height) {\n        this.setDOMSize(width, height);\n        this.set('width', width);\n        this.set('height', height);\n        this.onCanvasChange('changeSize');\n    };\n    /**\n     * 获取当前的渲染引擎\n     * @return {Renderer} 返回当前的渲染引擎\n     */\n    Canvas.prototype.getRenderer = function () {\n        return this.get('renderer');\n    };\n    /**\n     * 获取画布的 cursor 样式\n     * @return {Cursor}\n     */\n    Canvas.prototype.getCursor = function () {\n        return this.get('cursor');\n    };\n    /**\n     * 设置画布的 cursor 样式\n     * @param {Cursor} cursor  cursor 样式\n     */\n    Canvas.prototype.setCursor = function (cursor) {\n        this.set('cursor', cursor);\n        var el = this.get('el');\n        if (isBrowser && el) {\n            // 直接设置样式，不等待鼠标移动时再设置\n            el.style.cursor = cursor;\n        }\n    };\n    // 实现接口\n    Canvas.prototype.getPointByClient = function (clientX, clientY) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: clientX - bbox.left,\n            y: clientY - bbox.top,\n        };\n    };\n    // 实现接口\n    Canvas.prototype.getClientByPoint = function (x, y) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: x + bbox.left,\n            y: y + bbox.top,\n        };\n    };\n    // 实现接口\n    Canvas.prototype.draw = function () { };\n    /**\n     * @protected\n     * 销毁 DOM 容器\n     */\n    Canvas.prototype.removeDom = function () {\n        var el = this.get('el');\n        el.parentNode.removeChild(el);\n    };\n    /**\n     * @protected\n     * 清理所有的事件\n     */\n    Canvas.prototype.clearEvents = function () { };\n    Canvas.prototype.isCanvas = function () {\n        return true;\n    };\n    Canvas.prototype.getParent = function () {\n        return null;\n    };\n    Canvas.prototype.destroy = function () {\n        var timeline = this.get('timeline');\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        // 同初始化时相反顺序调用\n        if (timeline) {\n            // 画布销毁时自动停止动画\n            timeline.stop();\n        }\n        this.clearEvents();\n        this.removeDom();\n        _super.prototype.destroy.call(this);\n    };\n    return Canvas;\n}(Container));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","import { __extends } from \"tslib\";\nimport Container from './container';\nvar AbstractGroup = /** @class */ (function (_super) {\n    __extends(AbstractGroup, _super);\n    function AbstractGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractGroup.prototype.isGroup = function () {\n        return true;\n    };\n    AbstractGroup.prototype.isEntityGroup = function () {\n        return false;\n    };\n    AbstractGroup.prototype.clone = function () {\n        var clone = _super.prototype.clone.call(this);\n        // 获取构造函数\n        var children = this.getChildren();\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            clone.add(child.clone());\n        }\n        return clone;\n    };\n    return AbstractGroup;\n}(Container));\nexport default AbstractGroup;\n//# sourceMappingURL=group.js.map","import { __extends } from \"tslib\";\nimport Element from './element';\nimport { multiplyVec2 } from '../util/matrix';\nvar AbstractShape = /** @class */ (function (_super) {\n    __extends(AbstractShape, _super);\n    function AbstractShape(cfg) {\n        return _super.call(this, cfg) || this;\n    }\n    // 是否在包围盒内\n    AbstractShape.prototype._isInBBox = function (refX, refY) {\n        var bbox = this.getBBox();\n        return bbox.minX <= refX && bbox.maxX >= refX && bbox.minY <= refY && bbox.maxY >= refY;\n    };\n    /**\n     * 属性更改后需要做的事情\n     * @protected\n     * @param {ShapeAttrs} targetAttrs 渲染的图像属性\n     */\n    AbstractShape.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        this.clearCacheBBox();\n    };\n    // 计算包围盒时，需要缓存，这是一个高频的操作\n    AbstractShape.prototype.getBBox = function () {\n        var bbox = this.get('bbox');\n        if (!bbox) {\n            bbox = this.calculateBBox();\n            this.set('bbox', bbox);\n        }\n        return bbox;\n    };\n    // 计算相对于画布的包围盒\n    AbstractShape.prototype.getCanvasBBox = function () {\n        var canvasBox = this.get('canvasBox');\n        if (!canvasBox) {\n            canvasBox = this.calculateCanvasBBox();\n            this.set('canvasBox', canvasBox);\n        }\n        return canvasBox;\n    };\n    AbstractShape.prototype.applyMatrix = function (matrix) {\n        _super.prototype.applyMatrix.call(this, matrix);\n        // 清理掉缓存的包围盒\n        this.set('canvasBox', null);\n    };\n    /**\n     * 计算相对于画布的包围盒，默认等同于 bbox\n     * @return {BBox} 包围盒\n     */\n    AbstractShape.prototype.calculateCanvasBBox = function () {\n        var bbox = this.getBBox();\n        var totalMatrix = this.getTotalMatrix();\n        var minX = bbox.minX, minY = bbox.minY, maxX = bbox.maxX, maxY = bbox.maxY;\n        if (totalMatrix) {\n            var topLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.minY]);\n            var topRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.minY]);\n            var bottomLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.maxY]);\n            var bottomRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.maxY]);\n            minX = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            maxX = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            minY = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n            maxY = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n        }\n        var attrs = this.attrs;\n        // 如果存在 shadow 则计算 shadow\n        if (attrs.shadowColor) {\n            var _a = attrs.shadowBlur, shadowBlur = _a === void 0 ? 0 : _a, _b = attrs.shadowOffsetX, shadowOffsetX = _b === void 0 ? 0 : _b, _c = attrs.shadowOffsetY, shadowOffsetY = _c === void 0 ? 0 : _c;\n            var shadowLeft = minX - shadowBlur + shadowOffsetX;\n            var shadowRight = maxX + shadowBlur + shadowOffsetX;\n            var shadowTop = minY - shadowBlur + shadowOffsetY;\n            var shadowBottom = maxY + shadowBlur + shadowOffsetY;\n            minX = Math.min(minX, shadowLeft);\n            maxX = Math.max(maxX, shadowRight);\n            minY = Math.min(minY, shadowTop);\n            maxY = Math.max(maxY, shadowBottom);\n        }\n        return {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    /**\n     * @protected\n     * 清理缓存的 bbox\n     */\n    AbstractShape.prototype.clearCacheBBox = function () {\n        this.set('bbox', null);\n        this.set('canvasBox', null);\n    };\n    // 实现接口\n    AbstractShape.prototype.isClipShape = function () {\n        return this.get('isClipShape');\n    };\n    /**\n     * @protected\n     * 不同的图形自己实现是否在图形内部的逻辑，要判断边和填充区域\n     * @param  {number}  refX 相对于图形的坐标 x\n     * @param  {number}  refY 相对于图形的坐标 Y\n     * @return {boolean} 点是否在图形内部\n     */\n    AbstractShape.prototype.isInShape = function (refX, refY) {\n        return false;\n    };\n    /**\n     * 是否仅仅使用 BBox 检测就可以判定拾取到图形\n     * 默认是 false，但是有些图形例如 image、marker 等都可直接使用 BBox 的检测而不需要使用图形拾取\n     * @return {Boolean} 仅仅使用 BBox 进行拾取\n     */\n    AbstractShape.prototype.isOnlyHitBox = function () {\n        return false;\n    };\n    // 不同的 Shape 各自实现\n    AbstractShape.prototype.isHit = function (x, y) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        var vec = [x, y, 1];\n        vec = this.invertFromMatrix(vec);\n        var refX = vec[0], refY = vec[1];\n        var inBBox = this._isInBBox(refX, refY);\n        // 跳过图形的拾取，在某些图形中可以省略一倍的检测成本\n        if (this.isOnlyHitBox()) {\n            return inBBox;\n        }\n        // 被裁减掉的和不在包围盒内的不进行计算\n        if (inBBox && !this.isClipped(refX, refY)) {\n            // 对图形进行拾取判断\n            if (this.isInShape(refX, refY)) {\n                return true;\n            }\n            // 对起始箭头进行拾取判断\n            if (startArrowShape && startArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n            // 对结束箭头进行拾取判断\n            if (endArrowShape && endArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return AbstractShape;\n}(Element));\nexport default AbstractShape;\n//# sourceMappingURL=shape.js.map","import { Path } from '../shape';\n\nconst { sin, cos, atan2, PI } = Math;\n\nfunction _addDefaultArrow(shape, attrs, x1, y1, x2, y2, isStart) {\n  const { stroke, lineWidth } = attrs;\n  const x = x1 - x2;\n  const y = y1 - y2;\n  const rad = atan2(y, x);\n  const arrowShape = new Path({\n    type: 'path',\n    canvas: shape.get('canvas'),\n    isArrowShape: true,\n    attrs: {\n      // 默认箭头的边长为 10，夹角为 60 度\n      path: `M${10 * cos(PI / 6)},${10 * sin(PI / 6)} L0,0 L${10 * cos(PI / 6)},-${10 * sin(PI / 6)}`,\n      // 使用 shape stroke 值\n      stroke,\n      lineWidth,\n    },\n  });\n  arrowShape.translate(x2, y2);\n  arrowShape.rotateAtPoint(x2, y2, rad);\n  shape.set(isStart ? 'startArrowShape' : 'endArrowShape', arrowShape);\n}\n\n/**\n * 箭头 path 的设置要求\n * 1. 箭头顶点坐标需要为 (0, 0)\n * 2. 箭头夹角的中心分割线需要与 X 轴正方向对齐\n */\nfunction _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, isStart) {\n  const { startArrow, endArrow, stroke, lineWidth } = attrs;\n  const arrowAttrs = isStart ? startArrow : endArrow;\n  const { d, fill: arrowFill, stroke: arrowStroke, lineWidth: arrowLineWidth, ...restAttrs } = arrowAttrs;\n  const x = x1 - x2;\n  const y = y1 - y2;\n  const rad = atan2(y, x);\n\n  if (d) {\n    x2 = x2 - cos(rad) * d;\n    y2 = y2 - sin(rad) * d;\n  }\n\n  const arrowShape = new Path({\n    type: 'path',\n    canvas: shape.get('canvas'),\n    isArrowShape: true,\n    attrs: {\n      ...restAttrs,\n      // 支持单独设置箭头的 stroke 和 lineWidth，若为空则使用 shape 的值\n      stroke: arrowStroke || stroke,\n      lineWidth: arrowLineWidth || lineWidth,\n      // 箭头是否填充需要手动设置，不会继承自 shape 的值\n      fill: arrowFill,\n    },\n  });\n\n  arrowShape.translate(x2, y2);\n  arrowShape.rotateAtPoint(x2, y2, rad);\n  shape.set(isStart ? 'startArrowShape' : 'endArrowShape', arrowShape);\n}\n\n/**\n * 如果自定义箭头并且有 d 需要做偏移，如果直接画，线条会超出箭头尖端，因此需要根据箭头偏移 d, 返回线需要缩短的距离\n * |----------------\n * |<|--------------\n * |\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 箭头作用点 x\n * @param {number} y2 箭头作用点 y\n * @param {number} d  箭头沿线条方向的偏移距离\n * @return {{dx: number, dy: number}} 返回线条偏移距离\n */\nexport function getShortenOffset(x1, y1, x2, y2, d) {\n  const rad = atan2(y2 - y1, x2 - x1);\n  return {\n    dx: cos(rad) * d,\n    dy: sin(rad) * d,\n  };\n}\n\n/**\n * 绘制起始箭头\n * @param {IShape} shape 图形\n * @param {ShapeAttrs} attrs shape 的绘图属性\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 箭头作用点 x\n * @param {number} y2 箭头作用点 y\n */\nexport function addStartArrow(shape, attrs, x1, y1, x2, y2) {\n  if (typeof attrs.startArrow === 'object') {\n    _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, true);\n  } else if (attrs.startArrow) {\n    _addDefaultArrow(shape, attrs, x1, y1, x2, y2, true);\n  } else {\n    shape.set('startArrowShape', null);\n  }\n}\n\n/**\n * 绘制结束箭头\n * @param {IShape} shape 图形\n * @param {ShapeAttrs} attrs shape 的绘图属性\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 箭头作用点 x\n * @param {number} y2 箭头作用点 y\n */\nexport function addEndArrow(shape, attrs, x1, y1, x2, y2) {\n  if (typeof attrs.endArrow === 'object') {\n    _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, false);\n  } else if (attrs.endArrow) {\n    _addDefaultArrow(shape, attrs, x1, y1, x2, y2, false);\n  } else {\n    shape.set('startArrowShape', null);\n  }\n}\n","import LineUtil from '@antv/g-math/lib/line';\n\nexport default function inLine(x1, y1, x2, y2, lineWidth, x, y) {\n  const minX = Math.min(x1, x2);\n  const maxX = Math.max(x1, x2);\n  const minY = Math.min(y1, y2);\n  const maxY = Math.max(y1, y2);\n  const halfWidth = lineWidth / 2;\n  // 因为目前的方案是计算点到直线的距离，而有可能会在延长线上，所以要先判断是否在包围盒内\n  // 这种方案会在水平或者竖直的情况下载线的延长线上有半 lineWidth 的误差\n  if (!(x >= minX - halfWidth && x <= maxX + halfWidth && y >= minY - halfWidth && y <= maxY + halfWidth)) {\n    return false;\n  }\n  // 因为已经计算了包围盒，所以仅需要计算到直线的距离即可，可以显著提升性能\n  return LineUtil.pointToLine(x1, y1, x2, y2, x, y) <= lineWidth / 2;\n}\n","import isArrayLike from './is-array-like';\nvar contains = function (arr, value) {\n    if (!isArrayLike(arr)) {\n        return false;\n    }\n    return arr.indexOf(value) > -1;\n};\nexport default contains;\n//# sourceMappingURL=contains.js.map","import isArrayLike from './is-array-like';\nvar filter = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        return arr;\n    }\n    var result = [];\n    for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        if (func(value, index)) {\n            result.push(value);\n        }\n    }\n    return result;\n};\nexport default filter;\n//# sourceMappingURL=filter.js.map","import filter from './filter';\nimport contains from './contains';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to inspect.\n * @param {Array} values The values to exclude.\n * @return {Array} Returns the new array of filtered values.\n * @example\n * difference([2, 1], [2, 3]);  // => [1]\n */\nvar difference = function (arr, values) {\n    if (values === void 0) { values = []; }\n    return filter(arr, function (value) { return !contains(values, value); });\n};\nexport default difference;\n//# sourceMappingURL=difference.js.map","import isObjectLike from './is-object-like';\nimport isType from './is-type';\nvar isPlainObject = function (value) {\n    /**\n     * isObjectLike(new Foo) => false\n     * isObjectLike([1, 2, 3]) => false\n     * isObjectLike({ x: 0, y: 0 }) => true\n     * isObjectLike(Object.create(null)) => true\n     */\n    if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n    }\n    if (Object.getPrototypeOf(value) === null) {\n        return true;\n    }\n    var proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\nexport default isPlainObject;\n//# sourceMappingURL=is-plain-object.js.map","import isFunction from './is-function';\nimport isMatch from './is-match';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nfunction find(arr, predicate) {\n    if (!isArray(arr))\n        return null;\n    var _predicate;\n    if (isFunction(predicate)) {\n        _predicate = predicate;\n    }\n    if (isPlainObject(predicate)) {\n        _predicate = function (a) { return isMatch(a, predicate); };\n    }\n    if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n            if (_predicate(arr[i])) {\n                return arr[i];\n            }\n        }\n    }\n    return null;\n}\nexport default find;\n//# sourceMappingURL=find.js.map","import isNil from './is-nil';\nimport isArray from './is-array';\nvar firstValue = function (data, name) {\n    var rst = null;\n    for (var i = 0; i < data.length; i++) {\n        var obj = data[i];\n        var value = obj[name];\n        if (!isNil(value)) {\n            if (isArray(value)) {\n                rst = value[0]; // todo 这里是否应该使用递归，调用 firstValue @绝云\n            }\n            else {\n                rst = value;\n            }\n            break;\n        }\n    }\n    return rst;\n};\nexport default firstValue;\n//# sourceMappingURL=first-value.js.map","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flatten([1, [2, [3, [4]], 5]]);  // => [1, 2, [3, [4]], 5]\n */\nvar flatten = function (arr) {\n    if (!isArray(arr)) {\n        return [];\n    }\n    var rst = [];\n    for (var i = 0; i < arr.length; i++) {\n        rst = rst.concat(arr[i]);\n    }\n    return rst;\n};\nexport default flatten;\n//# sourceMappingURL=flatten.js.map","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @param {Array} result The array to return.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flattenDeep([1, [2, [3, [4]], 5]]);  // => [1, 2, 3, 4, 5]\n */\nvar flattenDeep = function (arr, result) {\n    if (result === void 0) { result = []; }\n    if (!isArray(arr)) {\n        result.push(arr);\n    }\n    else {\n        for (var i = 0; i < arr.length; i += 1) {\n            flattenDeep(arr[i], result);\n        }\n    }\n    return result;\n};\nexport default flattenDeep;\n//# sourceMappingURL=flatten-deep.js.map","import isArray from './is-array';\nvar getRange = function (values) {\n    // 存在 NaN 时，min,max 判定会出问题\n    var filterValues = values.filter(function (v) { return !isNaN(v); });\n    if (!filterValues.length) { // 如果没有数值则直接返回0\n        return {\n            min: 0,\n            max: 0,\n        };\n    }\n    if (isArray(values[0])) {\n        var tmp = [];\n        for (var i = 0; i < values.length; i++) {\n            tmp = tmp.concat(values[i]);\n        }\n        filterValues = tmp;\n    }\n    var max = Math.max.apply(null, filterValues);\n    var min = Math.min.apply(null, filterValues);\n    return {\n        min: min,\n        max: max,\n    };\n};\nexport default getRange;\n//# sourceMappingURL=get-range.js.map","import each from './each';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar reduce = function (arr, fn, init) {\n    if (!isArray(arr) && !isPlainObject(arr)) {\n        return arr;\n    }\n    var result = init;\n    each(arr, function (data, i) {\n        result = fn(result, data, i);\n    });\n    return result;\n};\nexport default reduce;\n//# sourceMappingURL=reduce.js.map","import isArrayLike from './is-array-like';\nimport pullAt from './pull-at';\nvar remove = function (arr, predicate) {\n    /**\n     * const arr = [1, 2, 3, 4]\n     * const evens = remove(arr, n => n % 2 == 0)\n     * console.log(arr) // => [1, 3]\n     * console.log(evens) // => [2, 4]\n     */\n    var result = [];\n    if (!isArrayLike(arr)) {\n        return result;\n    }\n    var i = -1;\n    var indexes = [];\n    var length = arr.length;\n    while (++i < length) {\n        var value = arr[i];\n        if (predicate(value, i, arr)) {\n            result.push(value);\n            indexes.push(i);\n        }\n    }\n    pullAt(arr, indexes);\n    return result;\n};\nexport default remove;\n//# sourceMappingURL=remove.js.map","import isArray from './is-array';\nimport isString from './is-string';\nimport isFunction from './is-function';\nfunction sortBy(arr, key) {\n    var comparer;\n    if (isFunction(key)) {\n        comparer = function (a, b) { return key(a) - key(b); };\n    }\n    else {\n        var keys_1 = [];\n        if (isString(key)) {\n            keys_1.push(key);\n        }\n        else if (isArray(key)) {\n            keys_1 = key;\n        }\n        comparer = function (a, b) {\n            for (var i = 0; i < keys_1.length; i += 1) {\n                var prop = keys_1[i];\n                if (a[prop] > b[prop]) {\n                    return 1;\n                }\n                if (a[prop] < b[prop]) {\n                    return -1;\n                }\n            }\n            return 0;\n        };\n    }\n    arr.sort(comparer);\n    return arr;\n}\nexport default sortBy;\n//# sourceMappingURL=sort-by.js.map","import contains from './contains';\nimport each from './each';\nvar uniq = function (arr) {\n    var resultArr = [];\n    each(arr, function (item) {\n        if (!contains(resultArr, item)) {\n            resultArr.push(item);\n        }\n    });\n    return resultArr;\n};\nexport default uniq;\n//# sourceMappingURL=uniq.js.map","import uniq from './uniq';\nvar union = function () {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return uniq([].concat.apply([], sources));\n};\nexport default union;\n//# sourceMappingURL=union.js.map","import isArray from './is-array';\nimport isNil from './is-nil';\nexport default (function (data, name) {\n    var rst = [];\n    var tmpMap = {};\n    for (var i = 0; i < data.length; i++) {\n        var obj = data[i];\n        var value = obj[name];\n        if (!isNil(value)) {\n            // flatten\n            if (!isArray(value)) {\n                value = [value];\n            }\n            for (var j = 0; j < value.length; j++) {\n                var val = value[j];\n                // unique\n                if (!tmpMap[val]) {\n                    rst.push(val);\n                    tmpMap[val] = true;\n                }\n            }\n        }\n    }\n    return rst;\n});\n//# sourceMappingURL=values-of-key.js.map","import isArrayLike from './is-array-like';\nexport default function head(o) {\n    if (isArrayLike(o)) {\n        return o[0];\n    }\n    return undefined;\n}\n//# sourceMappingURL=head.js.map","import isArrayLike from './is-array-like';\nexport default function last(o) {\n    if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n    }\n    return undefined;\n}\n//# sourceMappingURL=last.js.map","import isArray from './is-array';\nimport isString from './is-string';\nfunction startsWith(arr, e) {\n    return (isArray(arr) || isString(arr)) ? arr[0] === e : false;\n}\nexport default startsWith;\n//# sourceMappingURL=starts-with.js.map","import isArray from './is-array';\nimport isString from './is-string';\nfunction endsWith(arr, e) {\n    return (isArray(arr) || isString(arr)) ? arr[arr.length - 1] === e : false;\n}\nexport default endsWith;\n//# sourceMappingURL=ends-with.js.map","/**\n * 只要有一个不满足条件就返回 false\n * @param arr\n * @param func\n */\nvar every = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (!func(arr[i], i))\n            return false;\n    }\n    return true;\n};\nexport default every;\n//# sourceMappingURL=every.js.map","/**\n * 只要有一个满足条件就返回 true\n * @param arr\n * @param func\n */\nvar some = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (func(arr[i], i))\n            return true;\n    }\n    return false;\n};\nexport default some;\n//# sourceMappingURL=some.js.map","import isArray from './is-array';\nimport isFunction from './is-function';\nimport groupBy from './group-by';\nvar groupToMap = function (data, condition) {\n    if (!condition) {\n        return {\n            0: data,\n        };\n    }\n    if (!isFunction(condition)) {\n        var paramsCondition_1 = isArray(condition) ? condition : condition.replace(/\\s+/g, '').split('*');\n        condition = function (row) {\n            var unique = '_'; // 避免出现数字作为Key的情况，会进行按照数字的排序\n            for (var i = 0, l = paramsCondition_1.length; i < l; i++) {\n                unique += row[paramsCondition_1[i]] && row[paramsCondition_1[i]].toString();\n            }\n            return unique;\n        };\n    }\n    var groups = groupBy(data, condition);\n    return groups;\n};\nexport default groupToMap;\n//# sourceMappingURL=group-to-map.js.map","import groupToMap from './group-to-map';\nexport default (function (data, condition) {\n    if (!condition) {\n        // 没有条件，则自身改成数组\n        return [data];\n    }\n    var groups = groupToMap(data, condition);\n    var array = [];\n    for (var i in groups) {\n        array.push(groups[i]);\n    }\n    return array;\n});\n//# sourceMappingURL=group.js.map","/**\n * 获取封装的事件\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction getWrapBehavior(obj, action) {\n    return obj['_wrap_' + action];\n}\nexport default getWrapBehavior;\n//# sourceMappingURL=get-wrap-behavior.js.map","/**\n * 封装事件，便于使用上下文this,和便于解除事件时使用\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction wrapBehavior(obj, action) {\n    if (obj['_wrap_' + action]) {\n        return obj['_wrap_' + action];\n    }\n    var method = function (e) {\n        obj[action](e);\n    };\n    obj['_wrap_' + action] = method;\n    return method;\n}\nexport default wrapBehavior;\n//# sourceMappingURL=wrap-behavior.js.map","var numColorCache = {};\nfunction numberToColor(num) {\n    // 增加缓存\n    var color = numColorCache[num];\n    if (!color) {\n        var str = num.toString(16);\n        for (var i = str.length; i < 6; i++) {\n            str = '0' + str;\n        }\n        color = '#' + str;\n        numColorCache[num] = color;\n    }\n    return color;\n}\nexport default numberToColor;\n//# sourceMappingURL=number2color.js.map","var fixedBase = function (v, base) {\n    var str = base.toString();\n    var index = str.indexOf('.');\n    if (index === -1) {\n        return Math.round(v);\n    }\n    var length = str.substr(index + 1).length;\n    if (length > 20) {\n        length = 20;\n    }\n    return parseFloat(v.toFixed(length));\n};\nexport default fixedBase;\n//# sourceMappingURL=fixed-base.js.map","import isNumber from './is-number';\nvar isDecimal = function (num) {\n    return isNumber(num) && num % 1 !== 0;\n};\nexport default isDecimal;\n//# sourceMappingURL=is-decimal.js.map","import isNumber from './is-number';\nvar isEven = function (num) {\n    return isNumber(num) && num % 2 === 0;\n};\nexport default isEven;\n//# sourceMappingURL=is-even.js.map","import isNumber from './is-number';\nvar isNegative = function (num) {\n    return isNumber(num) && num < 0;\n};\nexport default isNegative;\n//# sourceMappingURL=is-negative.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PRECISION = 0.00001; // numbers less than this is considered as 0\nfunction isNumberEqual(a, b, precision) {\n    if (precision === void 0) { precision = PRECISION; }\n    return Math.abs((a - b)) < precision;\n}\nexports.default = isNumberEqual;\n;\n//# sourceMappingURL=is-number-equal.js.map","import isNumber from './is-number';\nvar isPositive = function (num) {\n    return isNumber(num) && num > 0;\n};\nexport default isPositive;\n//# sourceMappingURL=is-positive.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nexport default (function (arr, fn) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    var max = arr[0];\n    var maxData;\n    if (isFunction(fn)) {\n        maxData = fn(arr[0]);\n    }\n    else {\n        maxData = arr[0][fn];\n    }\n    var data;\n    each(arr, function (val) {\n        if (isFunction(fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data > maxData) {\n            max = val;\n            maxData = data;\n        }\n    });\n    return max;\n});\n//# sourceMappingURL=max-by.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nexport default (function (arr, fn) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    var min = arr[0];\n    var minData;\n    if (isFunction(fn)) {\n        minData = fn(arr[0]);\n    }\n    else {\n        minData = arr[0][fn];\n    }\n    var data;\n    each(arr, function (val) {\n        if (isFunction(fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data < minData) {\n            min = val;\n            minData = data;\n        }\n    });\n    return min;\n});\n//# sourceMappingURL=min-by.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mod = function (n, m) {\n    return ((n % m) + m) % m;\n};\nexports.default = mod;\n//# sourceMappingURL=mod.js.map","import each from './each';\nexport default each;\n//# sourceMappingURL=for-in.js.map","export default (function (obj, key) { return obj.hasOwnProperty(key); });\n//# sourceMappingURL=has.js.map","import has from './has';\nexport default has;\n//# sourceMappingURL=has-key.js.map","import contains from './contains';\nimport values from './values';\nexport default (function (obj, value) { return contains(values(obj), value); });\n//# sourceMappingURL=has-value.js.map","import toString from './to-string';\nvar lowerCase = function (str) {\n    return toString(str).toLowerCase();\n};\nexport default lowerCase;\n//# sourceMappingURL=lower-case.js.map","import toString from './to-string';\nvar lowerFirst = function (value) {\n    var str = toString(value);\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\nexport default lowerFirst;\n//# sourceMappingURL=lower-first.js.map","import toString from './to-string';\nvar upperCase = function (str) {\n    return toString(str).toUpperCase();\n};\nexport default upperCase;\n//# sourceMappingURL=upper-case.js.map","var toString = {}.toString;\nvar getType = function (value) {\n    return toString.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n};\nexport default getType;\n//# sourceMappingURL=get-type.js.map","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isArguments = function (value) {\n    return isType(value, 'Arguments');\n};\nexport default isArguments;\n//# sourceMappingURL=is-arguments.js.map","/**\n * 是否是布尔类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isBoolean = function (value) {\n    return isType(value, 'Boolean');\n};\nexport default isBoolean;\n//# sourceMappingURL=is-boolean.js.map","import isType from './is-type';\nvar isDate = function (value) {\n    return isType(value, 'Date');\n};\nexport default isDate;\n//# sourceMappingURL=is-date.js.map","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isError = function (value) {\n    return isType(value, 'Error');\n};\nexport default isError;\n//# sourceMappingURL=is-error.js.map","/**\n * 判断是否为有限数\n * @return {Boolean}\n */\nimport isNumber from './is-number';\nexport default function (value) {\n    return isNumber(value) && isFinite(value);\n}\n//# sourceMappingURL=is-finite.js.map","var isNull = function (value) {\n    return value === null;\n};\nexport default isNull;\n//# sourceMappingURL=is-null.js.map","import isType from './is-type';\nvar isRegExp = function (str) {\n    return isType(str, 'RegExp');\n};\nexport default isRegExp;\n//# sourceMappingURL=is-reg-exp.js.map","var isUndefined = function (value) {\n    return value === undefined;\n};\nexport default isUndefined;\n//# sourceMappingURL=is-undefined.js.map","/**\n * 判断是否HTML元素\n * @return {Boolean} 是否HTML元素\n */\nvar isElement = function (o) {\n    return o instanceof Element || o instanceof HTMLDocument;\n};\nexport default isElement;\n//# sourceMappingURL=is-element.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction requestAnimationFrame(fn) {\n    var method = window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        // @ts-ignore\n        window.mozRequestAnimationFrame ||\n        // @ts-ignore\n        window.msRequestAnimationFrame ||\n        function (f) {\n            return setTimeout(f, 16);\n        };\n    return method(fn);\n}\nexports.default = requestAnimationFrame;\n;\n//# sourceMappingURL=request-animation-frame.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction cancelAnimationFrame(handler) {\n    var method = window.cancelAnimationFrame ||\n        window.webkitCancelAnimationFrame ||\n        // @ts-ignore\n        window.mozCancelAnimationFrame ||\n        // @ts-ignore\n        window.msCancelAnimationFrame ||\n        clearTimeout;\n    method(handler);\n}\nexports.default = cancelAnimationFrame;\n;\n//# sourceMappingURL=clear-animation-frame.js.map","function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        var later = function () {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nexport default debounce;\n//# sourceMappingURL=debounce.js.map","import isFunction from './is-function';\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\nexport default (function (f, resolver) {\n    if (!isFunction(f)) {\n        throw new TypeError('Expected a function');\n    }\n    var memoized = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        // 使用方法构造 key，如果不存在 resolver，则直接取第一个参数作为 key\n        var key = resolver ? resolver.apply(this, args) : args[0];\n        var cache = memoized.cache;\n        if (cache.has(key)) {\n            return cache.get(key);\n        }\n        var result = f.apply(this, args);\n        // 缓存起来\n        cache.set(key, result);\n        return result;\n    };\n    memoized.cache = new Map();\n    return memoized;\n});\n//# sourceMappingURL=memoize.js.map","import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar MAX_MIX_LEVEL = 5;\nfunction _deepMix(dist, src, level, maxLevel) {\n    level = level || 0;\n    maxLevel = maxLevel || MAX_MIX_LEVEL;\n    for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n            var value = src[key];\n            if (value !== null && isPlainObject(value)) {\n                if (!isPlainObject(dist[key])) {\n                    dist[key] = {};\n                }\n                if (level < maxLevel) {\n                    _deepMix(dist[key], value, level + 1, maxLevel);\n                }\n                else {\n                    dist[key] = src[key];\n                }\n            }\n            else if (isArray(value)) {\n                dist[key] = [];\n                dist[key] = dist[key].concat(value);\n            }\n            else if (value !== undefined) {\n                dist[key] = value;\n            }\n        }\n    }\n}\n// todo 重写\nvar deepMix = function (rst) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n    }\n    return rst;\n};\nexport default deepMix;\n//# sourceMappingURL=deep-mix.js.map","import mix from './mix';\nimport isFunction from './is-function';\nvar extend = function (subclass, superclass, overrides, staticOverrides) {\n    // 如果只提供父类构造函数，则自动生成子类构造函数\n    if (!isFunction(superclass)) {\n        overrides = superclass;\n        superclass = subclass;\n        subclass = function () { };\n    }\n    var create = Object.create ?\n        function (proto, c) {\n            return Object.create(proto, {\n                constructor: {\n                    value: c\n                }\n            });\n        } :\n        function (proto, c) {\n            function Tmp() { }\n            Tmp.prototype = proto;\n            var o = new Tmp();\n            o.constructor = c;\n            return o;\n        };\n    var superObj = create(superclass.prototype, subclass); // new superclass(),//实例化父类作为子类的prototype\n    subclass.prototype = mix(superObj, subclass.prototype); // 指定子类的prototype\n    subclass.superclass = create(superclass.prototype, superclass);\n    mix(superObj, overrides);\n    mix(subclass, staticOverrides);\n    return subclass;\n};\nexport default extend;\n//# sourceMappingURL=extend.js.map","import isArrayLike from './is-array-like';\nvar indexOf = function (arr, obj) {\n    if (!isArrayLike(arr)) {\n        return -1;\n    }\n    var m = Array.prototype.indexOf;\n    if (m) {\n        return m.call(arr, obj);\n    }\n    var index = -1;\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n};\nexport default indexOf;\n//# sourceMappingURL=index-of.js.map","import isFunction from './is-function';\nimport isEqual from './is-equal';\n/**\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [fn] The function to customize comparisons.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, othValue) {\n *   if (isGreeting(objValue) && isGreeting(othValue)) {\n *     return true;\n *   }\n * }\n *\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * isEqualWith(array, other, customizer);  // => true\n */\nexport default (function (value, other, fn) {\n    if (!isFunction(fn)) {\n        return isEqual(value, other);\n    }\n    return !!fn(value, other);\n});\n//# sourceMappingURL=is-equal-with.js.map","import isArrayLike from './is-array-like';\nvar map = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        // @ts-ignore\n        return arr;\n    }\n    var result = [];\n    for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        result.push(func(value, index));\n    }\n    return result;\n};\nexport default map;\n//# sourceMappingURL=map.js.map","import isNil from './is-nil';\nimport isObject from './is-object';\nvar identity = function (v) { return v; };\nexport default (function (object, func) {\n    if (func === void 0) { func = identity; }\n    var r = {};\n    if (isObject(object) && !isNil(object)) {\n        Object.keys(object).forEach(function (key) {\n            // @ts-ignore\n            r[key] = func(object[key], key);\n        });\n    }\n    return r;\n});\n//# sourceMappingURL=map-values.js.map","import isString from './is-string';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param key\n * @param defaultValue\n */\nexport default (function (obj, key, defaultValue) {\n    var p = 0;\n    var keyArr = isString(key) ? key.split('.') : key;\n    while (obj && p < keyArr.length) {\n        obj = obj[keyArr[p++]];\n    }\n    return (obj === undefined || p < keyArr.length) ? defaultValue : obj;\n});\n//# sourceMappingURL=get.js.map","import isObject from './is-object';\nimport isString from './is-string';\nimport isNumber from './is-number';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param path\n * @param value\n */\nexport default (function (obj, path, value) {\n    var o = obj;\n    var keyArr = isString(path) ? path.split('.') : path;\n    keyArr.forEach(function (key, idx) {\n        // 不是最后一个\n        if (idx < keyArr.length - 1) {\n            if (!isObject(o[key])) {\n                o[key] = isNumber(keyArr[idx + 1]) ? [] : {};\n            }\n            o = o[key];\n        }\n        else {\n            o[key] = value;\n        }\n    });\n    return obj;\n});\n//# sourceMappingURL=set.js.map","export default (function (func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options)\n        options = {};\n    var later = function () {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout)\n            context = args = null;\n    };\n    var throttled = function () {\n        var now = Date.now();\n        if (!previous && options.leading === false)\n            previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout)\n                context = args = null;\n        }\n        else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n    throttled.cancel = function () {\n        clearTimeout(timeout);\n        previous = 0;\n        timeout = context = args = null;\n    };\n    return throttled;\n});\n//# sourceMappingURL=throttle.js.map","import isArrayLike from './is-array-like';\nexport default (function (value) {\n    return isArrayLike(value) ? Array.prototype.slice.call(value) : [];\n});\n//# sourceMappingURL=to-array.js.map","export default (function (v) { return v; });\n//# sourceMappingURL=identity.js.map","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n    if (isNil(o)) {\n        return 0;\n    }\n    if (isArraylike(o)) {\n        return o.length;\n    }\n    return Object.keys(o).length;\n}\n//# sourceMappingURL=size.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMatrixArrayType = setMatrixArrayType;\nexports.toRadian = toRadian;\nexports.equals = equals;\n/**\n * Common utilities\n * @module glMatrix\n */\n\n// Configuration Constants\nvar EPSILON = exports.EPSILON = 0.000001;\nvar ARRAY_TYPE = exports.ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = exports.RANDOM = Math.random;\n\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nfunction setMatrixArrayType(type) {\n  exports.ARRAY_TYPE = ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\nfunction toRadian(a) {\n  return a * degree;\n}\n\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// 合并包围盒\nfunction mergeBBox(bbox1, bbox2) {\n    if (!bbox1 || !bbox2) {\n        return bbox1 || bbox2;\n    }\n    return {\n        minX: Math.min(bbox1.minX, bbox2.minX),\n        minY: Math.min(bbox1.minY, bbox2.minY),\n        maxX: Math.max(bbox1.maxX, bbox2.maxX),\n        maxY: Math.max(bbox1.maxY, bbox2.maxY),\n    };\n}\nexports.mergeBBox = mergeBBox;\n// 合并箭头的包围盒\nfunction mergeArrowBBox(shape, bbox) {\n    var startArrowShape = shape.get('startArrowShape');\n    var endArrowShape = shape.get('endArrowShape');\n    var startArrowBBox = null;\n    var endArrowBBox = null;\n    if (startArrowShape) {\n        startArrowBBox = startArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, startArrowBBox);\n    }\n    if (endArrowShape) {\n        endArrowBBox = endArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, endArrowBBox);\n    }\n    return bbox;\n}\nexports.mergeArrowBBox = mergeArrowBBox;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar line_1 = require(\"./line\");\nvar bezier_1 = require(\"./bezier\");\nfunction cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t; // t * t * t 的性能大概是 Math.pow(t, 3) 的三倍\n    return onet * onet * onet * p0 + 3 * p1 * t * onet * onet + 3 * p2 * t * t * onet + p3 * t * t * t;\n}\nfunction derivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2));\n}\nfunction extrema(p0, p1, p2, p3) {\n    var a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;\n    var b = 6 * p0 - 12 * p1 + 6 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var extremas = [];\n    var t1;\n    var t2;\n    var discSqrt;\n    if (util_1.isNumberEqual(a, 0)) {\n        if (!util_1.isNumberEqual(b, 0)) {\n            t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (util_1.isNumberEqual(disc, 0)) {\n            extremas.push(-b / (2 * a));\n        }\n        else if (disc > 0) {\n            discSqrt = Math.sqrt(disc);\n            t1 = (-b + discSqrt) / (2 * a);\n            t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extremas.push(t2);\n            }\n        }\n    }\n    return extremas;\n}\n// 分割贝塞尔曲线\nfunction divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    // 划分点\n    var xt = cubicAt(x1, x2, x3, x4, t);\n    var yt = cubicAt(y1, y2, y3, y4, t);\n    // 计算两点之间的差值点\n    var c1 = line_1.default.pointAt(x1, y1, x2, y2, t);\n    var c2 = line_1.default.pointAt(x2, y2, x3, y3, t);\n    var c3 = line_1.default.pointAt(x3, y3, x4, y4, t);\n    var c12 = line_1.default.pointAt(c1.x, c1.y, c2.x, c2.y, t);\n    var c23 = line_1.default.pointAt(c2.x, c2.y, c3.x, c3.y, t);\n    return [\n        [x1, y1, c1.x, c1.y, c12.x, c12.y, xt, yt],\n        [xt, yt, c23.x, c23.y, c3.x, c3.y, x4, y4],\n    ];\n}\n// 使用迭代法取贝塞尔曲线的长度，二阶和三阶分开写，更清晰和便于调试\nfunction cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, iterationCount) {\n    if (iterationCount === 0) {\n        return bezier_1.snapLength([x1, x2, x3, x4], [y1, y2, y3, y4]);\n    }\n    var cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);\n    var left = cubics[0];\n    var right = cubics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return cubicLength.apply(null, left) + cubicLength.apply(null, right);\n}\nexports.default = {\n    extrema: extrema,\n    box: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        var xArr = [x1, x4];\n        var yArr = [y1, y4];\n        var xExtrema = extrema(x1, x2, x3, x4);\n        var yExtrema = extrema(y1, y2, y3, y4);\n        for (var i = 0; i < xExtrema.length; i++) {\n            xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));\n        }\n        for (var i = 0; i < yExtrema.length; i++) {\n            yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[i]));\n        }\n        return util_1.getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        // 迭代三次，划分成 8 段求长度\n        return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0) {\n        return bezier_1.nearestPoint([x1, x2, x3, x4], [y1, y2, y3, y4], x0, y0, cubicAt);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0);\n        return util_1.distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: cubicAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return {\n            x: cubicAt(x1, x2, x3, x4, t),\n            y: cubicAt(y1, y2, y3, y4, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        var dx = derivativeAt(x1, x2, x3, x4, t);\n        var dy = derivativeAt(y1, y2, y3, y4, t);\n        return util_1.piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=cubic.js.map","import { AbstractGroup } from '@antv/g-base';\nimport { ChangeType } from '@antv/g-base/lib/types';\nimport { IElement } from './interfaces';\nimport { Region } from './types';\nimport ShapeBase from './shape/base';\nimport * as Shape from './shape';\nimport { each, mergeRegion } from './util/util';\nimport { applyAttrsToContext, drawChildren, refreshElement } from './util/draw';\n\nclass Group extends AbstractGroup {\n  /**\n   * 一些方法调用会引起画布变化\n   * @param {ChangeType} changeType 改变的类型\n   */\n  onCanvasChange(changeType: ChangeType) {\n    refreshElement(this, changeType);\n  }\n\n  getShapeBase() {\n    return Shape;\n  }\n\n  getGroupBase() {\n    return Group;\n  }\n\n  // 同 shape 中的方法重复了\n  _applyClip(context, clip: ShapeBase) {\n    if (clip) {\n      context.save();\n      // 将 clip 的属性挂载到 context 上\n      applyAttrsToContext(context, clip);\n      // 绘制 clip 路径\n      clip.createPath(context);\n      context.restore();\n      // 裁剪\n      context.clip();\n      clip._afterDraw();\n    }\n  }\n\n  draw(context: CanvasRenderingContext2D, region?: Region) {\n    const children = this.getChildren() as IElement[];\n    if (children.length) {\n      context.save();\n      // group 上的矩阵和属性也会应用到上下文上\n      // 先将 attrs 应用到上下文中，再设置 clip。因为 clip 应该被当前元素的 matrix 所影响\n      applyAttrsToContext(context, this);\n      this._applyClip(context, this.getClip() as ShapeBase);\n      drawChildren(context, children, region);\n      context.restore();\n    }\n    // 这里的成本比较大\n    this.set('cacheCanvasBBox', this.getCanvasBBox());\n    // 绘制后，消除更新标记\n    this.set('hasChanged', false);\n  }\n  // 绘制时被跳过，一般发生在分组隐藏时\n  skipDraw() {\n    this.set('cacheCanvasBBox', null);\n    this.set('hasChanged', false);\n  }\n}\n\nexport default Group;\n","import { IElement } from '@antv/g-base/lib/interfaces';\nimport { isString, each, isArray } from './util';\n\nconst regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;\nconst regexDot = /[^\\s\\,]+/gi;\nconst regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nconst regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nconst regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\nconst regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\n\nfunction addStop(steps, gradient) {\n  const arr: string[] = steps.match(regexColorStop);\n  each(arr, (item) => {\n    const itemArr = item.split(':');\n    gradient.addColorStop(itemArr[0], itemArr[1]);\n  });\n}\n/**\n * 将边和填充设置的颜色转换成线性渐变对象\n * @param {CanvasRenderingContext2D} context canvas 上下文\n * @param {IElement}                 element  图形元素\n * @param {string}                   gradientStr   颜色\n * @returns {any} 渐变对象\n */\nexport function parseLineGradient(context: CanvasRenderingContext2D, element: IElement, gradientStr: string) {\n  const arr = regexLG.exec(gradientStr);\n  const angle = (parseFloat(arr[1]) % 360) * (Math.PI / 180);\n  const steps = arr[2];\n  const box = element.getBBox();\n  let start;\n  let end;\n\n  if (angle >= 0 && angle < (1 / 2) * Math.PI) {\n    start = {\n      x: box.minX,\n      y: box.minY,\n    };\n    end = {\n      x: box.maxX,\n      y: box.maxY,\n    };\n  } else if ((1 / 2) * Math.PI <= angle && angle < Math.PI) {\n    start = {\n      x: box.maxX,\n      y: box.minY,\n    };\n    end = {\n      x: box.minX,\n      y: box.maxY,\n    };\n  } else if (Math.PI <= angle && angle < (3 / 2) * Math.PI) {\n    start = {\n      x: box.maxX,\n      y: box.maxY,\n    };\n    end = {\n      x: box.minX,\n      y: box.minY,\n    };\n  } else {\n    start = {\n      x: box.minX,\n      y: box.maxY,\n    };\n    end = {\n      x: box.maxX,\n      y: box.minY,\n    };\n  }\n\n  const tanTheta = Math.tan(angle);\n  const tanTheta2 = tanTheta * tanTheta;\n\n  const x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n  const y = (tanTheta * (end.x - start.x + tanTheta * (end.y - start.y))) / (tanTheta2 + 1) + start.y;\n  const gradient = context.createLinearGradient(start.x, start.y, x, y);\n  addStop(steps, gradient);\n  return gradient;\n}\n\n/**\n * 将边和填充设置的颜色转换成圆形渐变对象\n * @param {CanvasRenderingContext2D} context canvas 上下文\n * @param {IElement}                 element  图形元素\n * @param {string}                   gradientStr   颜色\n * @returns {any} 渐变对象\n */\nexport function parseRadialGradient(context: CanvasRenderingContext2D, element: IElement, gradientStr: string) {\n  const arr = regexRG.exec(gradientStr);\n  const fx = parseFloat(arr[1]);\n  const fy = parseFloat(arr[2]);\n  const fr = parseFloat(arr[3]);\n  const steps = arr[4];\n  // 环半径为0时，默认无渐变，取渐变序列的最后一个颜色\n  if (fr === 0) {\n    const colors = steps.match(regexColorStop);\n    return colors[colors.length - 1].split(':')[1];\n  }\n  const box = element.getBBox();\n  const width = box.maxX - box.minX;\n  const height = box.maxY - box.minY;\n  const r = Math.sqrt(width * width + height * height) / 2;\n  const gradient = context.createRadialGradient(\n    box.minX + width * fx,\n    box.minY + height * fy,\n    0,\n    box.minX + width / 2,\n    box.minY + height / 2,\n    fr * r\n  );\n  addStop(steps, gradient);\n  return gradient;\n}\n\n/**\n * 边和填充设置的颜色转换成 pattern\n * @param {CanvasRenderingContext2D} context canvas 上下文\n * @param {IElement}                 element  图形元素\n * @param {string}                   patternStr   生成 pattern 的字符串\n */\nexport function parsePattern(context: CanvasRenderingContext2D, element: IElement, patternStr: string) {\n  // 在转换过程中进行了缓存\n  if (element.get('patternSource') && element.get('patternSource') === patternStr) {\n    return element.get('pattern');\n  }\n  let pattern;\n  let img;\n  const arr = regexPR.exec(patternStr);\n  let repeat = arr[1];\n  const source = arr[2];\n\n  // Function to be called when pattern loads\n  function onload() {\n    // Create pattern\n    pattern = context.createPattern(img, repeat);\n    element.set('pattern', pattern); // be a cache\n    element.set('patternSource', patternStr);\n  }\n\n  switch (repeat) {\n    case 'a':\n      repeat = 'repeat';\n      break;\n    case 'x':\n      repeat = 'repeat-x';\n      break;\n    case 'y':\n      repeat = 'repeat-y';\n      break;\n    case 'n':\n      repeat = 'no-repeat';\n      break;\n    default:\n      repeat = 'no-repeat';\n  }\n\n  img = new Image();\n  // If source URL is not a data URL\n  if (!source.match(/^data:/i)) {\n    // Set crossOrigin for this image\n    img.crossOrigin = 'Anonymous';\n  }\n  img.src = source;\n\n  if (img.complete) {\n    onload();\n  } else {\n    img.onload = onload;\n    // Fix onload() bug in IE9\n    img.src = img.src;\n  }\n\n  return pattern;\n}\n\nexport function parseStyle(context: CanvasRenderingContext2D, element: IElement, color: string) {\n  if (isString(color)) {\n    if (color[1] === '(' || color[2] === '(') {\n      if (color[0] === 'l') {\n        // regexLG.test(color)\n        return parseLineGradient(context, element, color);\n      }\n      if (color[0] === 'r') {\n        // regexRG.test(color)\n        return parseRadialGradient(context, element, color);\n      }\n      if (color[0] === 'p') {\n        // regexPR.test(color)\n        return parsePattern(context, element, color);\n      }\n    }\n    return color;\n  }\n}\n\nexport function parseRadius(radius) {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n  return [r1, r2, r3, r4];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar offscreen_1 = require(\"./offscreen\");\n/**\n * 获取文本的高度\n * @param text 文本\n * @param fontSize 字体大小\n * @param lineHeight 行高，可以为空\n */\nfunction getTextHeight(text, fontSize, lineHeight) {\n    var lineCount = 1;\n    if (util_1.isString(text)) {\n        lineCount = text.split('\\n').length;\n    }\n    if (lineCount > 1) {\n        var spaceingY = getLineSpaceing(fontSize, lineHeight);\n        return fontSize * lineCount + spaceingY * (lineCount - 1);\n    }\n    return fontSize;\n}\nexports.getTextHeight = getTextHeight;\n/**\n * 获取行间距如果文本多行，需要获取文本间距\n * @param fontSize 字体大小\n * @param lineHeight 行高\n */\nfunction getLineSpaceing(fontSize, lineHeight) {\n    return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n}\nexports.getLineSpaceing = getLineSpaceing;\n/**\n * 字体宽度\n * @param text 文本\n * @param font 字体\n */\nfunction getTextWidth(text, font) {\n    var context = offscreen_1.getOffScreenContext(); // 获取离屏的 ctx 进行计算\n    var width = 0;\n    // null 或者 undefined 时，宽度为 0\n    if (util_1.isNil(text) || text === '') {\n        return width;\n    }\n    context.save();\n    context.font = font;\n    if (util_1.isString(text) && text.includes('\\n')) {\n        var textArr = text.split('\\n');\n        util_1.each(textArr, function (subText) {\n            var measureWidth = context.measureText(subText).width;\n            if (width < measureWidth) {\n                width = measureWidth;\n            }\n        });\n    }\n    else {\n        width = context.measureText(text).width;\n    }\n    context.restore();\n    return width;\n}\nexports.getTextWidth = getTextWidth;\nfunction assembleFont(attrs) {\n    var fontSize = attrs.fontSize, fontFamily = attrs.fontFamily, fontWeight = attrs.fontWeight, fontStyle = attrs.fontStyle, fontVariant = attrs.fontVariant;\n    return [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ').trim();\n}\nexports.assembleFont = assembleFont;\n//# sourceMappingURL=text.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// 全局设置一个唯一离屏的 ctx，用于计算 isPointInPath\nvar offScreenCtx = null;\nfunction getOffScreenContext() {\n    if (!offScreenCtx) {\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        offScreenCtx = canvas.getContext('2d');\n    }\n    return offScreenCtx;\n}\nexports.getOffScreenContext = getOffScreenContext;\n//# sourceMappingURL=offscreen.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar line_1 = require(\"./line\");\nvar util_1 = require(\"./util\");\nvar bezier_1 = require(\"./bezier\");\n// 差值公式\nfunction quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;\n}\n// 求极值\nfunction extrema(p0, p1, p2) {\n    var a = p0 + p2 - 2 * p1;\n    if (util_1.isNumberEqual(a, 0)) {\n        return [0.5];\n    }\n    var rst = (p0 - p1) / a;\n    if (rst <= 1 && rst >= 0) {\n        return [rst];\n    }\n    return [];\n}\nfunction derivativeAt(p0, p1, p2, t) {\n    return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\n}\n// 分割贝塞尔曲线\nfunction divideQuadratic(x1, y1, x2, y2, x3, y3, t) {\n    // 划分点\n    var xt = quadraticAt(x1, x2, x3, t);\n    var yt = quadraticAt(y1, y2, y3, t);\n    // 分割的第一条曲线的控制点\n    var controlPoint1 = line_1.default.pointAt(x1, y1, x2, y2, t);\n    // 分割的第二条曲线的控制点\n    var controlPoint2 = line_1.default.pointAt(x2, y2, x3, y3, t);\n    return [\n        [x1, y1, controlPoint1.x, controlPoint1.y, xt, yt],\n        [xt, yt, controlPoint2.x, controlPoint2.y, x3, y3],\n    ];\n}\n// 使用迭代法取贝塞尔曲线的长度\nfunction quadraticLength(x1, y1, x2, y2, x3, y3, iterationCount) {\n    if (iterationCount === 0) {\n        return (util_1.distance(x1, y1, x2, y2) + util_1.distance(x2, y2, x3, y3) + util_1.distance(x1, y1, x3, y3)) / 2;\n    }\n    var quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);\n    var left = quadratics[0];\n    var right = quadratics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return quadraticLength.apply(null, left) + quadraticLength.apply(null, right);\n}\nexports.default = {\n    box: function (x1, y1, x2, y2, x3, y3) {\n        var xExtrema = extrema(x1, x2, x3)[0];\n        var yExtrema = extrema(y1, y2, y3)[0];\n        // 控制点不加入 box 的计算\n        var xArr = [x1, x3];\n        var yArr = [y1, y3];\n        if (xExtrema !== undefined) {\n            xArr.push(quadraticAt(x1, x2, x3, xExtrema));\n        }\n        if (yExtrema !== undefined) {\n            yArr.push(quadraticAt(y1, y2, y3, yExtrema));\n        }\n        return util_1.getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3) {\n        return quadraticLength(x1, y1, x2, y2, x3, y3, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        return bezier_1.nearestPoint([x1, x2, x3], [y1, y2, y3], x0, y0, quadraticAt);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);\n        return util_1.distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: quadraticAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, t) {\n        return {\n            x: quadraticAt(x1, x2, x3, t),\n            y: quadraticAt(y1, y2, y3, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, t) {\n        return divideQuadratic(x1, y1, x2, y2, x3, y3, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, t) {\n        var dx = derivativeAt(x1, x2, x3, t);\n        var dy = derivativeAt(y1, y2, y3, t);\n        var angle = Math.atan2(dy, dx);\n        return util_1.piMod(angle);\n    },\n};\n//# sourceMappingURL=quadratic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar EPSILON = 0.0001;\n/**\n * 使用牛顿切割法求最近的点\n * @param {number[]} xArr      点的 x 数组\n * @param {number[]} yArr      点的 y 数组\n * @param {number}   x         指定的点 x\n * @param {number}   y         指定的点 y\n * @param {Function} tCallback 差值函数\n */\nfunction nearestPoint(xArr, yArr, x, y, tCallback) {\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    var v0 = [x, y];\n    for (var i = 0; i <= 20; i++) {\n        var _t = i * 0.05;\n        var v1 = [tCallback.apply(null, xArr.concat([_t])), tCallback.apply(null, yArr.concat([_t]))];\n        var d1 = util_1.distance(v0[0], v0[1], v1[0], v1[1]);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    // 提前终止\n    if (t === 0) {\n        return {\n            x: xArr[0],\n            y: yArr[0],\n        };\n    }\n    if (t === 1) {\n        var count = xArr.length;\n        return {\n            x: xArr[count - 1],\n            y: yArr[count - 1],\n        };\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON) {\n            break;\n        }\n        var prev = t - interval;\n        var next = t + interval;\n        var v1 = [tCallback.apply(null, xArr.concat([prev])), tCallback.apply(null, yArr.concat([prev]))];\n        var d1 = util_1.distance(v0[0], v0[1], v1[0], v1[1]);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            var v2 = [tCallback.apply(null, xArr.concat([next])), tCallback.apply(null, yArr.concat([next]))];\n            var d2 = util_1.distance(v0[0], v0[1], v2[0], v2[1]);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    return {\n        x: tCallback.apply(null, xArr.concat([t])),\n        y: tCallback.apply(null, yArr.concat([t])),\n    };\n}\nexports.nearestPoint = nearestPoint;\n// 近似求解 https://community.khronos.org/t/3d-cubic-bezier-segment-length/62363/2\nfunction snapLength(xArr, yArr) {\n    var totalLength = 0;\n    var count = xArr.length;\n    for (var i = 0; i < count; i++) {\n        var x = xArr[i];\n        var y = yArr[i];\n        var nextX = xArr[(i + 1) % count];\n        var nextY = yArr[(i + 1) % count];\n        totalLength += util_1.distance(x, y, nextX, nextY);\n    }\n    return totalLength / 2;\n}\nexports.snapLength = snapLength;\n//# sourceMappingURL=bezier.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mod_1 = require(\"@antv/util/lib/mod\");\nvar to_radian_1 = require(\"@antv/util/lib/to-radian\");\n// 向量长度\nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n// u.v/|u||v|，计算夹角的余弦值\nfunction vRatio(u, v) {\n    // 当存在一个向量的长度为 0 时，夹角也为 0，即夹角的余弦值为 1\n    return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n// 向量角度\nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n/**\n * 判断两个点是否重合，点坐标的格式为 [x, y]\n * @param {Array} point1 第一个点\n * @param {Array} point2 第二个点\n */\nfunction isSamePoint(point1, point2) {\n    return point1[0] === point2[0] && point1[1] === point2[1];\n}\nexports.isSamePoint = isSamePoint;\n// A 0:rx 1:ry 2:x-axis-rotation 3:large-arc-flag 4:sweep-flag 5: x 6: y\nfunction getArcParams(startPoint, params) {\n    var rx = params[1];\n    var ry = params[2];\n    var xRotation = mod_1.default(to_radian_1.default(params[3]), Math.PI * 2);\n    var arcFlag = params[4];\n    var sweepFlag = params[5];\n    // 弧形起点坐标\n    var x1 = startPoint[0];\n    var y1 = startPoint[1];\n    // 弧形终点坐标\n    var x2 = params[6];\n    var y2 = params[7];\n    var xp = (Math.cos(xRotation) * (x1 - x2)) / 2.0 + (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n    var yp = (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 + (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n    var diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n    var f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n    if (arcFlag === sweepFlag) {\n        f *= -1;\n    }\n    if (isNaN(f)) {\n        f = 0;\n    }\n    // 旋转前的起点坐标，且当长半轴和短半轴的长度为 0 时，坐标按 (0, 0) 处理\n    var cxp = ry ? (f * rx * yp) / ry : 0;\n    var cyp = rx ? (f * -ry * xp) / rx : 0;\n    // 椭圆圆心坐标\n    var cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n    var cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n    // 起始点的单位向量\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    // 终止点的单位向量\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    // 计算起始点和圆心的连线，与 x 轴正方向的夹角\n    var theta = vAngle([1, 0], u);\n    // 计算圆弧起始点和终止点与椭圆圆心连线的夹角\n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (sweepFlag === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n    }\n    if (sweepFlag === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n    }\n    return {\n        cx: cx,\n        cy: cy,\n        // 弧形的起点和终点相同时，长轴和短轴的长度按 0 处理\n        rx: isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n        ry: isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n        startAngle: theta,\n        endAngle: theta + dTheta,\n        xRotation: xRotation,\n        arcFlag: arcFlag,\n        sweepFlag: sweepFlag,\n    };\n}\nexports.default = getArcParams;\n//# sourceMappingURL=get-arc-params.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar parse_path_string_1 = require(\"./parse-path-string\");\nvar REGEX_MD = /[a-z]/;\nfunction toSymmetry(p, c) {\n    return [\n        c[0] + (c[0] - p[0]),\n        c[1] + (c[1] - p[1]),\n    ];\n}\nfunction pathToAbsolute(pathString) {\n    var pathArray = parse_path_string_1.default(pathString);\n    if (!pathArray || !pathArray.length) {\n        return [\n            ['M', 0, 0],\n        ];\n    }\n    var needProcess = false; // 如果存在小写的命令或者 V,H,T,S 则需要处理\n    for (var i = 0; i < pathArray.length; i++) {\n        var cmd = pathArray[i][0];\n        // 如果存在相对位置的命令，则中断返回\n        if (REGEX_MD.test(cmd) || ['V', 'H', 'T', 'S'].indexOf(cmd) >= 0) {\n            needProcess = true;\n            break;\n        }\n    }\n    // 如果不存在相对命令，则直接返回\n    // 如果在业务上都写绝对路径，这种方式最快，仅做了一次检测\n    if (!needProcess) {\n        return pathArray;\n    }\n    var res = [];\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    var start = 0;\n    var pa0;\n    var dots;\n    var first = pathArray[0];\n    if (first[0] === 'M' || first[0] === 'm') {\n        x = +first[1];\n        y = +first[2];\n        mx = x;\n        my = y;\n        start++;\n        res[0] = ['M', x, y];\n    }\n    for (var i = start, ii = pathArray.length; i < ii; i++) {\n        var pa = pathArray[i];\n        var preParams = res[i - 1]; // 取前一个已经处理后的节点，否则会出现问题\n        var r = [];\n        var cmd = pa[0];\n        var upCmd = cmd.toUpperCase();\n        if (cmd !== upCmd) {\n            r[0] = upCmd;\n            switch (upCmd) {\n                case 'A':\n                    r[1] = pa[1];\n                    r[2] = pa[2];\n                    r[3] = pa[3];\n                    r[4] = pa[4];\n                    r[5] = pa[5];\n                    r[6] = +pa[6] + x;\n                    r[7] = +pa[7] + y;\n                    break;\n                case 'V':\n                    r[1] = +pa[1] + y;\n                    break;\n                case 'H':\n                    r[1] = +pa[1] + x;\n                    break;\n                case 'M':\n                    mx = +pa[1] + x;\n                    my = +pa[2] + y;\n                    break; // for lint\n                default:\n                    for (var j = 1, jj = pa.length; j < jj; j++) {\n                        r[j] = +pa[j] + ((j % 2) ? x : y);\n                    }\n            }\n        }\n        else { // 如果本来已经大写，则不处理\n            r = pathArray[i];\n        }\n        // 需要在外面统一做，同时处理 V,H,S,T 等特殊指令\n        switch (upCmd) {\n            case 'Z':\n                x = +mx;\n                y = +my;\n                break;\n            case 'H':\n                x = r[1];\n                r = ['L', x, y];\n                break;\n            case 'V':\n                y = r[1];\n                r = ['L', x, y];\n                break;\n            case 'T':\n                x = r[1];\n                y = r[2];\n                // 以 x, y 为中心的，上一个控制点的对称点\n                // 需要假设上一个节点的命令为 Q\n                var symetricT = toSymmetry([preParams[1], preParams[2]], [preParams[3], preParams[4]]);\n                r = ['Q', symetricT[0], symetricT[1], x, y];\n                break;\n            case 'S':\n                x = r[r.length - 2];\n                y = r[r.length - 1];\n                // 以 x,y 为中心，取上一个控制点，\n                // 需要假设上一个线段为 C 或者 S\n                var length_1 = preParams.length;\n                var symetricS = toSymmetry([preParams[length_1 - 4], preParams[length_1 - 3]], [preParams[length_1 - 2], preParams[length_1 - 1]]);\n                r = ['C', symetricS[0], symetricS[1], r[1], r[2], x, y];\n                break;\n            case 'M':\n                mx = r[r.length - 2];\n                my = r[r.length - 1];\n                break; // for lint\n            default:\n                x = r[r.length - 2];\n                y = r[r.length - 1];\n        }\n        res.push(r);\n    }\n    return res;\n}\nexports.default = pathToAbsolute;\n//# sourceMappingURL=path-2-absolute.js.map","import { getOffScreenContext } from '@antv/g-base/lib/util/offscreen';\n\nexport default function isPointInPath(shape, x, y) {\n  const ctx = getOffScreenContext();\n  shape.createPath(ctx);\n  return ctx.isPointInPath(x, y);\n}\n","/**\n * @fileoverview 判断点是否在多边形内\n * @author dxq613@gmail.com\n */\n\n// 多边形的射线检测，参考：https://blog.csdn.net/WilliamSun0122/article/details/77994526\nconst tolerance = 1e-6;\n// 三态函数，判断两个double在eps精度下的大小关系\nfunction dcmp(x) {\n  if (Math.abs(x) < tolerance) {\n    return 0;\n  }\n\n  return x < 0 ? -1 : 1;\n}\n\n// 判断点Q是否在p1和p2的线段上\nfunction onSegment(p1, p2, q) {\n  if (\n    (q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) &&\n    Math.min(p1[0], p2[0]) <= q[0] &&\n    q[0] <= Math.max(p1[0], p2[0]) &&\n    Math.min(p1[1], p2[1]) <= q[1] &&\n    q[1] <= Math.max(p1[1], p2[1])\n  ) {\n    return true;\n  }\n  return false;\n}\n\n// 判断点P在多边形内-射线法\nexport default function isInPolygon(points, x, y) {\n  let isHit = false;\n  const n = points.length;\n  if (n <= 2) {\n    // svg 中点小于 3 个时，不显示，也无法被拾取\n    return false;\n  }\n  for (let i = 0; i < n; i++) {\n    const p1 = points[i];\n    const p2 = points[(i + 1) % n];\n    if (onSegment(p1, p2, [x, y])) {\n      // 点在多边形一条边上\n      return true;\n    }\n    // 前一个判断min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n    // 后一个判断被测点 在 射线与边交点 的左边\n    if (\n      dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 &&\n      dcmp(x - ((y - p1[1]) * (p1[0] - p2[0])) / (p1[1] - p2[1]) - p1[0]) < 0\n    ) {\n      isHit = !isHit;\n    }\n  }\n  return isHit;\n}\n","import { distance } from '../util';\nexport default function arc(cx, cy, r, startAngle, endAngle, lineWidth, x, y) {\n  const angle = (Math.atan2(y - cy, x - cx) + Math.PI * 2) % (Math.PI * 2); // 转换到 0 - 2 * Math.PI 之间\n  if (angle < startAngle || angle > endAngle) {\n    return false;\n  }\n  const point = {\n    x: cx + r * Math.cos(angle),\n    y: cy + r * Math.sin(angle),\n  };\n  return distance(point.x, point.y, x, y) <= lineWidth / 2;\n}\n","import inLine from './line';\n\nexport default function inPolyline(points: any[], lineWidth: number, x: number, y: number, isClose: boolean) {\n  const count = points.length;\n  if (count < 2) {\n    return false;\n  }\n  for (let i = 0; i < count - 1; i++) {\n    const x1 = points[i][0];\n    const y1 = points[i][1];\n    const x2 = points[i + 1][0];\n    const y2 = points[i + 1][1];\n\n    if (inLine(x1, y1, x2, y2, lineWidth, x, y)) {\n      return true;\n    }\n  }\n\n  // 如果封闭，则计算起始点和结束点的边\n  if (isClose) {\n    const first = points[0];\n    const last = points[count - 1];\n    if (inLine(first[0], first[1], last[0], last[1], lineWidth, x, y)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.length = length;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.hermite = hermite;\nexports.bezier = bezier;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformMat3 = transformMat3;\nexports.transformQuat = transformQuat;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n  return out;\n}\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nfunction fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to ceil\n * @returns {vec3} out\n */\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to floor\n * @returns {vec3} out\n */\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to round\n * @returns {vec3} out\n */\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nfunction random(out, scale) {\n  scale = scale || 1.0;\n\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x;\n  // var uuv = vec3.cross([], qvec, uv);\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx;\n  // vec3.scale(uv, uv, 2 * w);\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2;\n  // vec3.scale(uuv, uuv, 2);\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2;\n  // return vec3.add(out, a, vec3.add(out, uv, uuv));\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateX(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateY(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateZ(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2];\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nfunction angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nfunction str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;\n\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\nvar div = exports.div = divide;\n\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\nvar dist = exports.dist = distance;\n\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\nvar sqrDist = exports.sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec3.length}\n * @function\n */\nvar len = exports.len = length;\n\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\nvar sqrLen = exports.sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvar forEach = exports.forEach = function () {\n  var vec = create();\n\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];vec[1] = a[i + 1];vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];a[i + 1] = vec[1];a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as Shape from './shape';\nconst pkg = require('../package.json');\n\nexport const version = pkg.version;\nexport * from './types';\nexport * from './interfaces';\nexport { Event } from '@antv/g-base';\nexport { default as Canvas } from './canvas';\nexport { default as Group } from './group';\nexport { Shape };\n","import { mod, toRadian, isSamePoint } from './util';\n\n// 向量长度\nfunction vMag(v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n\n// u.v/|u||v|，计算夹角的余弦值\nfunction vRatio(u, v) {\n  // 当存在一个向量的长度为 0 时，夹角也为 0，即夹角的余弦值为 1\n  return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n\n// 向量角度\nfunction vAngle(u, v) {\n  return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n\n// A 0:rx 1:ry 2:x-axis-rotation 3:large-arc-flag 4:sweep-flag 5: x 6: y\nexport default function getArcParams(startPoint, params) {\n  let rx = params[1];\n  let ry = params[2];\n  const xRotation = mod(toRadian(params[3]), Math.PI * 2);\n  const arcFlag = params[4];\n  const sweepFlag = params[5];\n  // 弧形起点坐标\n  const x1 = startPoint[0];\n  const y1 = startPoint[1];\n  // 弧形终点坐标\n  const x2 = params[6];\n  const y2 = params[7];\n  const xp = (Math.cos(xRotation) * (x1 - x2)) / 2.0 + (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n  const yp = (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 + (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n  const lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n  const diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n\n  let f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n\n  if (arcFlag === sweepFlag) {\n    f *= -1;\n  }\n  if (isNaN(f)) {\n    f = 0;\n  }\n\n  // 旋转前的起点坐标，且当长半轴和短半轴的长度为 0 时，坐标按 (0, 0) 处理\n  const cxp = ry ? (f * rx * yp) / ry : 0;\n  const cyp = rx ? (f * -ry * xp) / rx : 0;\n\n  // 椭圆圆心坐标\n  const cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n  const cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n\n  // 起始点的单位向量\n  const u = [(xp - cxp) / rx, (yp - cyp) / ry];\n  // 终止点的单位向量\n  const v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n  // 计算起始点和圆心的连线，与 x 轴正方向的夹角\n  const theta = vAngle([1, 0], u);\n\n  // 计算圆弧起始点和终止点与椭圆圆心连线的夹角\n  let dTheta = vAngle(u, v);\n\n  if (vRatio(u, v) <= -1) {\n    dTheta = Math.PI;\n  }\n  if (vRatio(u, v) >= 1) {\n    dTheta = 0;\n  }\n  if (sweepFlag === 0 && dTheta > 0) {\n    dTheta = dTheta - 2 * Math.PI;\n  }\n  if (sweepFlag === 1 && dTheta < 0) {\n    dTheta = dTheta + 2 * Math.PI;\n  }\n  return {\n    cx,\n    cy,\n    // 弧形的起点和终点相同时，长轴和短轴的长度按 0 处理\n    rx: isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n    ry: isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n    startAngle: theta,\n    endAngle: theta + dTheta,\n    xRotation,\n    arcFlag,\n    sweepFlag,\n  };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar register_1 = require(\"./register\");\nexports.getBBoxMethod = register_1.getMethod;\nvar rect_1 = require(\"./rect\");\nvar circle_1 = require(\"./circle\");\nvar polyline_1 = require(\"./polyline\");\nvar polygon_1 = require(\"./polygon\");\nvar text_1 = require(\"./text\");\nvar path_1 = require(\"./path\");\nvar line_1 = require(\"./line\");\nvar ellipse_1 = require(\"./ellipse\");\nregister_1.register('rect', rect_1.default);\nregister_1.register('image', rect_1.default); // image 使用 rect 的包围盒计算\nregister_1.register('circle', circle_1.default);\nregister_1.register('marker', circle_1.default); // marker 使用 circle 的计算方案\nregister_1.register('polyline', polyline_1.default);\nregister_1.register('polygon', polygon_1.default);\nregister_1.register('text', text_1.default);\nregister_1.register('path', path_1.default);\nregister_1.register('line', line_1.default);\nregister_1.register('ellipse', ellipse_1.default);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cache = new Map();\n/**\n * 注册计算包围盒的算法\n * @param type 方法名\n * @param method 方法\n */\nfunction register(type, method) {\n    cache.set(type, method);\n}\nexports.register = register;\n/**\n * 获取计算包围盒的算法\n * @param type 方法名\n */\nfunction getMethod(type) {\n    return cache.get(type);\n}\nexports.getMethod = getMethod;\n//# sourceMappingURL=register.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, width = attrs.width, height = attrs.height;\n    return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=rect.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var _a = shape.attr(), x = _a.x, y = _a.y, r = _a.r;\n    return {\n        x: x - r,\n        y: y - r,\n        width: r * 2,\n        height: r * 2,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=circle.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/g-math/lib/util\");\nvar util_2 = require(\"./util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    var _a = util_1.getBBoxByArray(xArr, yArr), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = util_2.mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=polyline.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/g-math/lib/util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    return util_1.getBBoxByArray(xArr, yArr);\n}\nexports.default = default_1;\n//# sourceMappingURL=polygon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar text_1 = require(\"../util/text\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, text = attrs.text, fontSize = attrs.fontSize, lineHeight = attrs.lineHeight;\n    var font = attrs.font;\n    if (!font) {\n        // 如果未组装 font\n        font = text_1.assembleFont(attrs);\n    }\n    var width = text_1.getTextWidth(text, font);\n    var bbox;\n    if (!width) {\n        // 如果width不存在，四点共其实点\n        bbox = {\n            x: x,\n            y: y,\n            width: 0,\n            height: 0,\n        };\n    }\n    else {\n        var textAlign = attrs.textAlign, textBaseline = attrs.textBaseline;\n        var height = text_1.getTextHeight(text, fontSize, lineHeight); // attrs.height\n        // 默认左右对齐：left, 默认上下对齐 bottom\n        var point = {\n            x: x,\n            y: y - height,\n        };\n        if (textAlign) {\n            if (textAlign === 'end' || textAlign === 'right') {\n                point.x -= width;\n            }\n            else if (textAlign === 'center') {\n                point.x -= width / 2;\n            }\n        }\n        if (textBaseline) {\n            if (textBaseline === 'top') {\n                point.y += height;\n            }\n            else if (textBaseline === 'middle') {\n                point.y += height / 2;\n            }\n        }\n        bbox = {\n            x: point.x,\n            y: point.y,\n            width: width,\n            height: height,\n        };\n    }\n    return bbox;\n}\nexports.default = default_1;\n//# sourceMappingURL=text.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar quadratic_1 = require(\"@antv/g-math/lib/quadratic\");\nvar cubic_1 = require(\"@antv/g-math/lib/cubic\");\nvar arc_1 = require(\"@antv/g-math/lib/arc\");\nvar path_2_segments_1 = require(\"@antv/path-util/lib/path-2-segments\");\nvar is_number_equal_1 = require(\"@antv/util/lib/is-number-equal\");\nvar util_1 = require(\"./util\");\nfunction getPathBox(segments, lineWidth) {\n    var xArr = [];\n    var yArr = [];\n    var segmentsWithAngle = [];\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint;\n        var box = void 0;\n        switch (segment.command) {\n            case 'Q':\n                box = quadratic_1.default.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4]);\n                break;\n            case 'C':\n                box = cubic_1.default.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6]);\n                break;\n            case 'A':\n                var arcParams = segment.arcParams;\n                box = arc_1.default.box(arcParams.cx, arcParams.cy, arcParams.rx, arcParams.ry, arcParams.xRotation, arcParams.startAngle, arcParams.endAngle);\n                break;\n            default:\n                xArr.push(currentPoint[0]);\n                yArr.push(currentPoint[1]);\n                break;\n        }\n        if (box) {\n            segment.box = box;\n            xArr.push(box.x, box.x + box.width);\n            yArr.push(box.y, box.y + box.height);\n        }\n        if (lineWidth && (segment.command === 'L' || segment.command === 'M') && segment.prePoint && segment.nextPoint) {\n            segmentsWithAngle.push(segment);\n        }\n    }\n    // bbox calculation should ignore NaN for path attribute\n    // ref: https://github.com/antvis/g/issues/210\n    xArr = xArr.filter(function (item) { return !Number.isNaN(item); });\n    yArr = yArr.filter(function (item) { return !Number.isNaN(item); });\n    var minX = Math.min.apply(null, xArr);\n    var minY = Math.min.apply(null, yArr);\n    var maxX = Math.max.apply(null, xArr);\n    var maxY = Math.max.apply(null, yArr);\n    if (segmentsWithAngle.length === 0) {\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    for (var i = 0; i < segmentsWithAngle.length; i++) {\n        var segment = segmentsWithAngle[i];\n        var currentPoint = segment.currentPoint;\n        var extra = void 0;\n        if (currentPoint[0] === minX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minX = minX - extra.xExtra;\n        }\n        else if (currentPoint[0] === maxX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxX = maxX + extra.xExtra;\n        }\n        if (currentPoint[1] === minY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minY = minY - extra.yExtra;\n        }\n        else if (currentPoint[1] === maxY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxY = maxY + extra.yExtra;\n        }\n    }\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nfunction getExtraFromSegmentWithAngle(segment, lineWidth) {\n    var prePoint = segment.prePoint, currentPoint = segment.currentPoint, nextPoint = segment.nextPoint;\n    var currentAndPre = Math.pow(currentPoint[0] - prePoint[0], 2) + Math.pow(currentPoint[1] - prePoint[1], 2);\n    var currentAndNext = Math.pow(currentPoint[0] - nextPoint[0], 2) + Math.pow(currentPoint[1] - nextPoint[1], 2);\n    var preAndNext = Math.pow(prePoint[0] - nextPoint[0], 2) + Math.pow(prePoint[1] - nextPoint[1], 2);\n    // 以 currentPoint 为顶点的夹角\n    var currentAngle = Math.acos((currentAndPre + currentAndNext - preAndNext) / (2 * Math.sqrt(currentAndPre) * Math.sqrt(currentAndNext)));\n    // 夹角为空、 0 或 PI 时，不需要计算夹角处的额外宽度\n    // 注意: 由于计算精度问题，夹角为 0 的情况计算出来的角度可能是一个很小的值，还需要判断其与 0 是否近似相等\n    if (!currentAngle || Math.sin(currentAngle) === 0 || is_number_equal_1.default(currentAngle, 0)) {\n        return {\n            xExtra: 0,\n            yExtra: 0,\n        };\n    }\n    var xAngle = Math.abs(Math.atan2(nextPoint[1] - currentPoint[1], nextPoint[0] - currentPoint[0]));\n    var yAngle = Math.abs(Math.atan2(nextPoint[0] - currentPoint[0], nextPoint[1] - currentPoint[1]));\n    // 将夹角转为锐角\n    xAngle = xAngle > Math.PI / 2 ? Math.PI - xAngle : xAngle;\n    yAngle = yAngle > Math.PI / 2 ? Math.PI - yAngle : yAngle;\n    // 这里不考虑在水平和垂直方向的投影，直接使用最大差值\n    // 由于上层统一加减了二分之一线宽，这里需要进行弥补\n    var extra = {\n        // 水平方向投影\n        xExtra: Math.cos(currentAngle / 2 - xAngle) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n        // 垂直方向投影\n        yExtra: Math.cos(yAngle - currentAngle / 2) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n    };\n    return extra;\n}\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var path = attrs.path, stroke = attrs.stroke;\n    var lineWidth = stroke ? attrs.lineWidth : 0; // 只有有 stroke 时，lineWidth 才生效\n    var segments = shape.get('segments') || path_2_segments_1.default(path);\n    var _a = getPathBox(segments, lineWidth), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = util_1.mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar ellipse_1 = require(\"./ellipse\");\n// 偏导数 x\nfunction derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.cos(xRotation) * Math.sin(angle) - ry * Math.sin(xRotation) * Math.cos(angle);\n}\n// 偏导数 y\nfunction derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.sin(xRotation) * Math.sin(angle) + ry * Math.cos(xRotation) * Math.cos(angle);\n}\n// x 的极值\nfunction xExtrema(rx, ry, xRotation) {\n    return Math.atan((-ry / rx) * Math.tan(xRotation));\n}\n// y 的极值\nfunction yExtrema(rx, ry, xRotation) {\n    return Math.atan(ry / (rx * Math.tan(xRotation)));\n}\n// 根据角度求 x 坐标\nfunction xAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.cos(xRotation) * Math.cos(angle) - ry * Math.sin(xRotation) * Math.sin(angle) + cx;\n}\n// 根据角度求 y 坐标\nfunction yAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.sin(xRotation) * Math.cos(angle) + ry * Math.cos(xRotation) * Math.sin(angle) + cy;\n}\n// 获取点在椭圆上的角度\nfunction getAngle(rx, ry, x0, y0) {\n    var angle = Math.atan2(y0 * rx, x0 * ry);\n    // 转换到 0 - 2PI 内\n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n// 根据角度获取，x,y\nfunction getPoint(rx, ry, angle) {\n    return {\n        x: rx * Math.cos(angle),\n        y: ry * Math.sin(angle),\n    };\n}\n// 旋转\nfunction rotate(x, y, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return [x * cos - y * sin, x * sin + y * cos];\n}\nexports.default = {\n    /**\n     * 计算包围盒\n     * @param {number} cx         圆心 x\n     * @param {number} cy         圆心 y\n     * @param {number} rx         x 轴方向的半径\n     * @param {number} ry         y 轴方向的半径\n     * @param {number} xRotation  旋转角度\n     * @param {number} startAngle 起始角度\n     * @param {number} endAngle   结束角度\n     * @return {object} 包围盒对象\n     */\n    box: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) {\n        var xDim = xExtrema(rx, ry, xRotation);\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var xs = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var xAngle = xDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < xAngle && xAngle < endAngle) {\n                    xs.push(xAngle);\n                }\n            }\n            else {\n                if (endAngle < xAngle && xAngle < startAngle) {\n                    xs.push(xAngle);\n                }\n            }\n        }\n        for (var i = 0; i < xs.length; i++) {\n            var x = xAt(cx, cy, rx, ry, xRotation, xs[i]);\n            if (x < minX) {\n                minX = x;\n            }\n            if (x > maxX) {\n                maxX = x;\n            }\n        }\n        var yDim = yExtrema(rx, ry, xRotation);\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var ys = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var yAngle = yDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < yAngle && yAngle < endAngle) {\n                    ys.push(yAngle);\n                }\n            }\n            else {\n                if (endAngle < yAngle && yAngle < startAngle) {\n                    ys.push(yAngle);\n                }\n            }\n        }\n        for (var i = 0; i < ys.length; i++) {\n            var y = yAt(cx, cy, rx, ry, xRotation, ys[i]);\n            if (y < minY) {\n                minY = y;\n            }\n            if (y > maxY) {\n                maxY = y;\n            }\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    },\n    /**\n     * 获取圆弧的长度，计算圆弧长度时不考虑旋转角度，\n     * 仅跟 rx, ry, startAngle, endAngle 相关\n     * @param {number} cx         圆心 x\n     * @param {number} cy         圆心 y\n     * @param {number} rx         x 轴方向的半径\n     * @param {number} ry         y 轴方向的半径\n     * @param {number} xRotation  旋转角度\n     * @param {number} startAngle 起始角度\n     * @param {number} endAngle   结束角度\n     */\n    length: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) { },\n    /**\n     * 获取指定点到圆弧的最近距离的点\n     * @param {number} cx         圆心 x\n     * @param {number} cy         圆心 y\n     * @param {number} rx         x 轴方向的半径\n     * @param {number} ry         y 轴方向的半径\n     * @param {number} xRotation  旋转角度\n     * @param {number} startAngle 起始角度\n     * @param {number} endAngle   结束角度\n     * @param {number} x0         指定点的 x\n     * @param {number} y0         指定点的 y\n     * @return {object} 到指定点最近距离的点\n     */\n    nearestPoint: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        // 将最近距离问题转换成到椭圆中心 0,0 没有旋转的椭圆问题\n        var relativeVector = rotate(x0 - cx, y0 - cy, -xRotation);\n        var x1 = relativeVector[0], y1 = relativeVector[1];\n        // 计算点到椭圆的最近的点\n        var relativePoint = ellipse_1.default.nearestPoint(0, 0, rx, ry, x1, y1);\n        // 获取点在椭圆上的角度\n        var angle = getAngle(rx, ry, relativePoint.x, relativePoint.y);\n        // 点没有在圆弧上\n        if (angle < startAngle) {\n            // 小于起始圆弧\n            relativePoint = getPoint(rx, ry, startAngle);\n        }\n        else if (angle > endAngle) {\n            // 大于结束圆弧\n            relativePoint = getPoint(rx, ry, endAngle);\n        }\n        // 旋转到 xRotation 的角度\n        var vector = rotate(relativePoint.x, relativePoint.y, xRotation);\n        return {\n            x: vector[0] + cx,\n            y: vector[1] + cy,\n        };\n    },\n    pointDistance: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        var nearestPoint = this.nearestPoint(cx, cy, rx, ry, x0, y0);\n        return util_1.distance(nearestPoint.x, nearestPoint.y, x0, y0);\n    },\n    pointAt: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        return {\n            x: xAt(cx, cy, rx, ry, xRotation, angle),\n            y: yAt(cx, cy, rx, ry, xRotation, angle),\n        };\n    },\n    tangentAngle: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        var dx = derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        var dy = derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        return util_1.piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=arc.js.map","\"use strict\";\n/**\n * @fileoverview 椭圆的一些计算，\n *  - 周长计算参考：https://www.mathsisfun.com/geometry/ellipse-perimeter.html\n *  - 距离计算参考：https://wet-robots.ghost.io/simple-method-for-distance-to-ellipse/\n * @author dxq613@gmail.com\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nfunction copysign(v1, v2) {\n    var absv = Math.abs(v1);\n    return v2 > 0 ? absv : absv * -1;\n}\nexports.default = {\n    /**\n     * 包围盒计算\n     * @param {number} x  椭圆中心 x\n     * @param {number} y  椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @return {object} 包围盒\n     */\n    box: function (x, y, rx, ry) {\n        return {\n            x: x - rx,\n            y: y - ry,\n            width: rx * 2,\n            height: ry * 2,\n        };\n    },\n    /**\n     * 计算周长，使用近似法\n     * @param {number} x  椭圆中心 x\n     * @param {number} y  椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @return {number} 椭圆周长\n     */\n    length: function (x, y, rx, ry) {\n        return Math.PI * (3 * (rx + ry) - Math.sqrt((3 * rx + ry) * (rx + 3 * ry)));\n    },\n    /**\n     * 距离椭圆最近的点\n     * @param {number} x  椭圆中心 x\n     * @param {number} y  椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @param {number} x0  指定的点 x\n     * @param {number} y0  指定的点 y\n     * @return {object} 椭圆上距离指定点最近的点\n     */\n    nearestPoint: function (x, y, rx, ry, x0, y0) {\n        var a = rx;\n        var b = ry;\n        // 假如椭圆半径为0则返回圆心\n        if (a === 0 || b === 0) {\n            return {\n                x: x,\n                y: y,\n            };\n        }\n        // 转换成 0， 0 为中心的椭圆计算\n        var relativeX = x0 - x;\n        var relativeY = y0 - y;\n        var px = Math.abs(relativeX);\n        var py = Math.abs(relativeY);\n        var squareA = a * a;\n        var squareB = b * b;\n        // const angle0 = Math.atan2(relativeY, relativeX);\n        var t = Math.PI / 4;\n        var nearestX; // 椭圆上的任一点\n        var nearestY;\n        // 迭代 4 次\n        for (var i = 0; i < 4; i++) {\n            nearestX = a * Math.cos(t);\n            nearestY = b * Math.sin(t);\n            var ex = ((squareA - squareB) * Math.pow(Math.cos(t), 3)) / a;\n            var ey = ((squareB - squareA) * Math.pow(Math.sin(t), 3)) / b;\n            var rx1 = nearestX - ex;\n            var ry1 = nearestY - ey;\n            var qx = px - ex;\n            var qy = py - ey;\n            var r = Math.hypot(ry1, rx1);\n            var q = Math.hypot(qy, qx);\n            var delta_c = r * Math.asin((rx1 * qy - ry1 * qx) / (r * q));\n            var delta_t = delta_c / Math.sqrt(squareA + squareB - nearestX * nearestX - nearestY * nearestY);\n            t += delta_t;\n            t = Math.min(Math.PI / 2, Math.max(0, t));\n        }\n        return {\n            x: x + copysign(nearestX, relativeX),\n            y: y + copysign(nearestY, relativeY),\n        };\n    },\n    /**\n     * 点到椭圆最近的距离\n     * @param {number} x  椭圆中心 x\n     * @param {number} y  椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @param {number} x0  指定的点 x\n     * @param {number} y0  指定的点 y\n     * @return {number} 点到椭圆的距离\n     */\n    pointDistance: function (x, y, rx, ry, x0, y0) {\n        var nearestPoint = this.nearestPoint(x, y, rx, ry, x0, y0);\n        return util_1.distance(nearestPoint.x, nearestPoint.y, x0, y0);\n    },\n    /**\n     * 根据比例获取点\n     * @param {number} x 椭圆中心 x\n     * @param {number} y 椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @param {number} t 指定比例，x轴方向为 0\n     * @return {object} 点\n     */\n    pointAt: function (x, y, rx, ry, t) {\n        var angle = 2 * Math.PI * t; // 按照角度进行计算，而不按照周长计算\n        return {\n            x: x + rx * Math.cos(angle),\n            y: y + ry * Math.sin(angle),\n        };\n    },\n    /**\n     * 根据比例计算切线角度\n     * @param {number} x 椭圆中心 x\n     * @param {number} y 椭圆中心 y\n     * @param {number} rx 椭圆 x 方向半径\n     * @param {number} ry 椭圆 y 方向半径\n     * @param {number} t 指定比例 0 - 1 之间，x轴方向为 0。在 0-1 范围之外是循环还是返回 null，还需要调整\n     * @return {number} 角度，在 0 - 2PI 之间\n     */\n    tangentAngle: function (x, y, rx, ry, t) {\n        var angle = 2 * Math.PI * t; // 按照角度进行计算，而不按照周长计算\n        // 直接使用 x,y 的导数计算， x' = -rx * sin(t); y' = ry * cos(t);\n        var tangentAngle = Math.atan2(ry * Math.cos(angle), -rx * Math.sin(angle));\n        // 也可以使用指定点的切线方程计算，成本有些高\n        // const point = this.pointAt(0, 0, rx, ry, t); // 椭圆的切线同椭圆的中心不相关\n        // let tangentAngle = -1 * Math.atan((ry * ry * point.x) / (rx * rx * point.y));\n        // if (angle >= 0 && angle <= Math.PI) {\n        //   tangentAngle += Math.PI;\n        // }\n        return util_1.piMod(tangentAngle);\n    },\n};\n//# sourceMappingURL=ellipse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar get_arc_params_1 = require(\"./get-arc-params\");\nvar get_arc_params_2 = require(\"./get-arc-params\");\nvar parse_path_1 = require(\"./parse-path\");\n// 点对称\nfunction toSymmetry(point, center) {\n    return {\n        x: center.x + (center.x - point.x),\n        y: center.y + (center.y - point.y),\n    };\n}\nfunction getSegments(path) {\n    path = parse_path_1.default(path);\n    var segments = [];\n    var currentPoint = null; // 当前图形\n    var nextParams = null; // 下一节点的 path 参数\n    var startMovePoint = null; // 开始 M 的点，可能会有多个\n    var lastStartMovePointIndex = 0; // 最近一个开始点 M 的索引\n    var count = path.length;\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        nextParams = path[i + 1];\n        var command = params[0];\n        // 数学定义上的参数，便于后面的计算\n        var segment = {\n            command: command,\n            prePoint: currentPoint,\n            params: params,\n            startTangent: null,\n            endTangent: null,\n        };\n        switch (command) {\n            case 'M':\n                startMovePoint = [params[1], params[2]];\n                lastStartMovePointIndex = i;\n                break;\n            case 'A':\n                var arcParams = get_arc_params_1.default(currentPoint, params);\n                segment['arcParams'] = arcParams;\n                break;\n            default:\n                break;\n        }\n        if (command === 'Z') {\n            // 有了 Z 后，当前节点从开始 M 的点开始\n            currentPoint = startMovePoint;\n            // 如果当前点的命令为 Z，相当于当前点为最近一个 M 点，则下一个点直接指向最近一个 M 点的下一个点\n            nextParams = path[lastStartMovePointIndex + 1];\n        }\n        else {\n            var len = params.length;\n            currentPoint = [params[len - 2], params[len - 1]];\n        }\n        if (nextParams && nextParams[0] === 'Z') {\n            // 如果下一个点的命令为 Z，则下一个点直接指向最近一个 M 点\n            nextParams = path[lastStartMovePointIndex];\n            if (segments[lastStartMovePointIndex]) {\n                // 如果下一个点的命令为 Z，则最近一个 M 点的前一个点为当前点\n                segments[lastStartMovePointIndex].prePoint = currentPoint;\n            }\n        }\n        segment['currentPoint'] = currentPoint;\n        // 如果当前点与最近一个 M 点相同，则最近一个 M 点的前一个点为当前点的前一个点\n        if (segments[lastStartMovePointIndex] &&\n            get_arc_params_2.isSamePoint(currentPoint, segments[lastStartMovePointIndex].currentPoint)) {\n            segments[lastStartMovePointIndex].prePoint = segment.prePoint;\n        }\n        var nextPoint = nextParams ? [nextParams[nextParams.length - 2], nextParams[nextParams.length - 1]] : null;\n        segment['nextPoint'] = nextPoint;\n        // Add startTangent and endTangent\n        var prePoint = segment.prePoint;\n        if (['L', 'H', 'V'].includes(command)) {\n            segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n            segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n        }\n        else if (command === 'Q') {\n            // 二次贝塞尔曲线只有一个控制点\n            var cp = [params[1], params[2]];\n            // 二次贝塞尔曲线的终点为 currentPoint\n            segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n            segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n        }\n        else if (command === 'T') {\n            var preSegment = segments[i - 1];\n            var cp = toSymmetry(preSegment.currentPoint, prePoint);\n            if (preSegment.command === 'Q') {\n                segment.command = 'Q';\n                segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n                segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n            }\n            else {\n                segment.command = 'TL';\n                segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n                segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n            }\n        }\n        else if (command === 'C') {\n            // 三次贝塞尔曲线有两个控制点\n            var cp1 = [params[1], params[2]];\n            var cp2 = [params[3], params[4]];\n            segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n            segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n        }\n        else if (command === 'S') {\n            var preSegment = segments[i - 1];\n            var cp1 = toSymmetry(preSegment.currentPoint, prePoint);\n            var cp2 = [params[1], params[2]];\n            if (preSegment.command === 'C') {\n                segment.command = 'C'; // 将 S 命令变换为 C 命令\n                segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n                segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n            }\n            else {\n                segment.command = 'SQ'; // 将 S 命令变换为 SQ 命令\n                segment.startTangent = [prePoint[0] - cp2[0], prePoint[1] - cp2[1]];\n                segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n            }\n        }\n        else if (command === 'A') {\n            var d = 0.001;\n            var _a = segment['arcParams'] || {}, _b = _a.rx, rx = _b === void 0 ? 0 : _b, _c = _a.ry, ry = _c === void 0 ? 0 : _c, _d = _a.xRotation, xRotation = _d === void 0 ? 0 : _d, _e = _a.arcFlag, arcFlag = _e === void 0 ? 0 : _e, _f = _a.sweepFlag, sweepFlag = _f === void 0 ? 0 : _f, _g = _a.startAngle, startAngle = _g === void 0 ? 0 : _g, _h = _a.endAngle, endAngle = _h === void 0 ? 0 : _h;\n            if (sweepFlag === 0) {\n                d *= -1;\n            }\n            var dx1 = xRotation * Math.cos(startAngle - d) + rx;\n            var dy1 = arcFlag * Math.sin(startAngle - d) + ry;\n            segment.startTangent = [dx1 - startMovePoint[0], dy1 - startMovePoint[1]];\n            var dx2 = xRotation * Math.cos(startAngle + endAngle + d) + rx;\n            var dy2 = arcFlag * Math.sin(startAngle + endAngle - d) + ry;\n            segment.endTangent = [prePoint.x - dx2, prePoint.y - dy2];\n        }\n        segments.push(segment);\n    }\n    return segments;\n}\nexports.default = getSegments;\n//# sourceMappingURL=path-2-segments.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar each_1 = require(\"@antv/util/lib/each\");\nvar is_array_1 = require(\"@antv/util/lib/is-array\");\nvar is_string_1 = require(\"@antv/util/lib/is-string\");\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig;\nvar regexDot = /[^\\s\\,]+/ig;\nfunction parsePath(p) {\n    var path = p || [];\n    if (is_array_1.default(path)) {\n        return path;\n    }\n    if (is_string_1.default(path)) {\n        path = path.match(regexTags);\n        each_1.default(path, function (item, index) {\n            // @ts-ignore\n            item = item.match(regexDot);\n            if (item[0].length > 1) {\n                var tag = item[0].charAt(0);\n                // @ts-ignore\n                item.splice(1, 0, item[0].substr(1));\n                // @ts-ignore\n                item[0] = tag;\n            }\n            // @ts-ignore\n            each_1.default(item, function (sub, i) {\n                if (!isNaN(sub)) {\n                    // @ts-ignore\n                    item[i] = +sub;\n                }\n            });\n            // @ts-ignore\n            path[index] = item;\n        });\n        return path;\n    }\n}\nexports.default = parsePath;\n//# sourceMappingURL=parse-path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x1 = attrs.x1, y1 = attrs.y1, x2 = attrs.x2, y2 = attrs.y2;\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var bbox = {\n        minX: minX,\n        maxX: maxX,\n        minY: minY,\n        maxY: maxY,\n    };\n    bbox = util_1.mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=line.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, rx = attrs.rx, ry = attrs.ry;\n    return {\n        x: x - rx,\n        y: y - ry,\n        width: rx * 2,\n        height: ry * 2,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=ellipse.js.map","/**\n * @fileoverview 圆\n * @author dxq613@gmail.com\n */\n\nimport ShapeBase from './base';\nimport { distance } from '../util/util';\n\n// TODO: 暂时不需要圆的工具方法，后续如果需要支持 pointAt，tangentAngle 时再引入\n// import CircleUtil from '@antv/g-math/lib/circle';\n\nclass Circle extends ShapeBase {\n  getDefaultAttrs() {\n    const attrs = super.getDefaultAttrs();\n    return {\n      ...attrs,\n      x: 0,\n      y: 0,\n      r: 0,\n    };\n  }\n\n  isInStrokeOrPath(x, y, isStroke, isFill, lineWidth) {\n    const attrs = this.attr();\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const r = attrs.r;\n    const halfLineWidth = lineWidth / 2;\n    const absDistance = distance(cx, cy, x, y);\n    // 直接用距离，如果同时存在边和填充时，可以减少两次计算\n    if (isFill && isStroke) {\n      return absDistance <= r + halfLineWidth;\n    }\n    if (isFill) {\n      return absDistance <= r;\n    }\n    if (isStroke) {\n      return absDistance >= r - halfLineWidth && absDistance <= r + halfLineWidth;\n    }\n    return false;\n  }\n\n  createPath(context) {\n    const attrs = this.attr();\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const r = attrs.r;\n    context.beginPath();\n    context.arc(cx, cy, r, 0, Math.PI * 2, false);\n    context.closePath();\n  }\n}\n\nexport default Circle;\n","/**\n * @fileoverview 椭圆\n * @author dxq613@gmail.com\n */\n\nimport ShapeBase from './base';\n\n// 暂时不需要\n// import EllipseUtil from '@antv/g-math/lib/ellipse';\n\n// 根据椭圆公式计算 x*x/rx*rx + y*y/ry*ry;\nfunction ellipseDistance(squareX, squareY, rx, ry) {\n  return squareX / (rx * rx) + squareY / (ry * ry);\n}\n\nclass Ellipse extends ShapeBase {\n  getDefaultAttrs() {\n    const attrs = super.getDefaultAttrs();\n    return {\n      ...attrs,\n      x: 0,\n      y: 0,\n      rx: 0,\n      ry: 0,\n    };\n  }\n\n  isInStrokeOrPath(x, y, isStroke, isFill, lineWidth) {\n    const attrs = this.attr();\n    const halfLineWith = lineWidth / 2;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const { rx, ry } = attrs;\n    const squareX = (x - cx) * (x - cx);\n    const squareY = (y - cy) * (y - cy);\n    // 使用椭圆的公式： x*x/rx*rx + y*y/ry*ry = 1;\n    if (isFill && isStroke) {\n      return ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <= 1;\n    }\n    if (isFill) {\n      return ellipseDistance(squareX, squareY, rx, ry) <= 1;\n    }\n    if (isStroke) {\n      return (\n        ellipseDistance(squareX, squareY, rx - halfLineWith, ry - halfLineWith) >= 1 &&\n        ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <= 1\n      );\n    }\n    return false;\n  }\n\n  createPath(context) {\n    const attrs = this.attr();\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const rx = attrs.rx;\n    const ry = attrs.ry;\n    context.beginPath();\n    // 兼容逻辑\n    if (context.ellipse) {\n      context.ellipse(cx, cy, rx, ry, 0, 0, Math.PI * 2, false);\n    } else {\n      // 如果不支持，则使用圆来绘制，进行变形\n      const r = rx > ry ? rx : ry;\n      const scaleX = rx > ry ? 1 : rx / ry;\n      const scaleY = rx > ry ? ry / rx : 1;\n      context.save();\n      context.translate(cx, cy);\n      context.scale(scaleX, scaleY);\n      context.arc(0, 0, r, 0, Math.PI * 2);\n      context.restore();\n      context.closePath();\n    }\n  }\n}\n\nexport default Ellipse;\n","/**\n * @fileoverview 图片\n * @author dxq613@gmail.com\n */\n\nimport ShapeBase from './base';\nimport { isString, isNil } from '../util/util';\nfunction isCanvas(dom) {\n  return dom instanceof HTMLElement && isString(dom.nodeName) && dom.nodeName.toUpperCase() === 'CANVAS';\n}\n\nclass ImageShape extends ShapeBase {\n  getDefaultAttrs() {\n    const attrs = super.getDefaultAttrs();\n    return {\n      ...attrs,\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n    };\n  }\n\n  initAttrs(attrs) {\n    this._setImage(attrs.img);\n  }\n\n  // image 不计算 stroke\n  isStroke() {\n    return false;\n  }\n\n  // 仅仅使用包围盒检测来进行拾取\n  // 所以不需要复写 isInStrokeOrPath 的方法\n  isOnlyHitBox() {\n    return true;\n  }\n\n  _afterLoading() {\n    if (this.get('toDraw') === true) {\n      const canvas = this.get('canvas');\n      if (canvas) {\n        // 这段应该改成局部渲染\n        canvas.draw();\n      } else {\n        // 这种方式如果发生遮挡会出现问题\n        this.createPath(this.get('context'));\n      }\n    }\n  }\n\n  _setImage(img) {\n    const attrs = this.attrs;\n    if (isString(img)) {\n      const image = new Image();\n      image.onload = () => {\n        // 图片未加载完，则已经被销毁\n        if (this.destroyed) {\n          return false;\n        }\n        // 缓存原始地址，可以做对比，防止重复加载图片\n        // 如果考虑到在加载过程中可能替换 img 属性，则情况更加复杂\n        // this.set('imgSrc', img);\n        // 这里会循环调用 _setImage 方法，但不会再走这个分支\n        this.attr('img', image);\n        this.set('loading', false);\n        this._afterLoading();\n        const callback = this.get('callback');\n        if (callback) {\n          callback.call(this);\n        }\n      };\n      image.src = img;\n      // 设置跨域\n      image.crossOrigin = 'Anonymous';\n      // loading 过程中不绘制\n      this.set('loading', true);\n    } else if (img instanceof Image) {\n      // 如果是一个 image 对象，则设置宽高\n      if (!attrs.width) {\n        attrs.width = img.width;\n      }\n      if (!attrs.height) {\n        attrs.height = img.height;\n      }\n    } else if (isCanvas(img)) {\n      // 如果设置了 canvas 对象\n      if (!attrs.width) {\n        attrs.width = Number(img.getAttribute('width'));\n      }\n\n      if (!attrs.height) {\n        attrs.height, Number(img.getAttribute('height'));\n      }\n    }\n  }\n\n  onAttrChange(name: string, value: any, originValue: any) {\n    super.onAttrChange(name, value, originValue);\n    // 如果加载的已经是当前图片，则不再处理\n    if (name === 'img') {\n      // 可以加缓冲，&& this.get('imgSrc') !== value\n      this._setImage(value);\n    }\n  }\n\n  createPath(context: CanvasRenderingContext2D) {\n    // 正在加载则不绘制\n    if (this.get('loading')) {\n      this.set('toDraw', true); // 加载完成后绘制\n      this.set('context', context);\n      return;\n    }\n    const attrs = this.attr();\n    const { x, y, width, height, sx, sy, swidth, sheight } = attrs;\n\n    const img = attrs.img;\n    if (img instanceof Image || isCanvas(img)) {\n      if (!isNil(sx) && !isNil(sy) && !isNil(swidth) && !isNil(sheight)) {\n        context.drawImage(img, sx, sy, swidth, sheight, x, y, width, height);\n      } else {\n        context.drawImage(img, x, y, width, height);\n      }\n    }\n  }\n}\n\nexport default ImageShape;\n","/**\n * @fileoverview 圆\n * @author dxq613@gmail.com\n */\nimport LineUtil from '@antv/g-math/lib/line';\nimport ShapeBase from './base';\nimport inLine from '../util/in-stroke/line';\nimport * as ArrowUtil from '../util/arrow';\n\nclass Line extends ShapeBase {\n  getDefaultAttrs() {\n    const attrs = super.getDefaultAttrs();\n    return {\n      ...attrs,\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 0,\n      startArrow: false,\n      endArrow: false,\n    };\n  }\n\n  initAttrs(attrs) {\n    this.setArrow();\n  }\n\n  // 更新属性时，检测是否更改了箭头\n  onAttrChange(name: string, value: any, originValue: any) {\n    super.onAttrChange(name, value, originValue);\n    // 由于箭头的绘制依赖于 line 的诸多 attrs，因此这里不再对每个 attr 进行判断，attr 每次变化都会影响箭头的更新\n    this.setArrow();\n  }\n\n  setArrow() {\n    const attrs = this.attr();\n    const { x1, y1, x2, y2, startArrow, endArrow } = attrs;\n    if (startArrow) {\n      ArrowUtil.addStartArrow(this, attrs, x2, y2, x1, y1);\n    }\n    if (endArrow) {\n      ArrowUtil.addEndArrow(this, attrs, x1, y1, x2, y2);\n    }\n  }\n\n  isInStrokeOrPath(x, y, isStroke, isFill, lineWidth) {\n    if (!isStroke || !lineWidth) {\n      return false;\n    }\n    const { x1, y1, x2, y2 } = this.attr();\n    return inLine(x1, y1, x2, y2, lineWidth, x, y);\n  }\n\n  createPath(context) {\n    const attrs = this.attr();\n    const { x1, y1, x2, y2, startArrow, endArrow } = attrs;\n    let startArrowDistance = {\n      dx: 0,\n      dy: 0,\n    };\n    let endArrowDistance = {\n      dx: 0,\n      dy: 0,\n    };\n\n    if (startArrow && startArrow.d) {\n      startArrowDistance = ArrowUtil.getShortenOffset(x1, y1, x2, y2, attrs.startArrow.d);\n    }\n    if (endArrow && endArrow.d) {\n      endArrowDistance = ArrowUtil.getShortenOffset(x1, y1, x2, y2, attrs.endArrow.d);\n    }\n\n    context.beginPath();\n    // 如果自定义箭头，线条相应缩进\n    context.moveTo(x1 + startArrowDistance.dx, y1 + startArrowDistance.dy);\n    context.lineTo(x2 - endArrowDistance.dx, y2 - endArrowDistance.dy);\n  }\n\n  afterDrawPath(context) {\n    const startArrowShape = this.get('startArrowShape');\n    const endArrowShape = this.get('endArrowShape');\n    if (startArrowShape) {\n      startArrowShape.draw(context);\n    }\n    if (endArrowShape) {\n      endArrowShape.draw(context);\n    }\n  }\n\n  /**\n   * Get length of line\n   * @return {number} length\n   */\n  getTotalLength() {\n    const { x1, y1, x2, y2 } = this.attr();\n    return LineUtil.length(x1, y1, x2, y2);\n  }\n\n  /**\n   * Get point according to ratio\n   * @param {number} ratio\n   * @return {Point} point\n   */\n  getPoint(ratio: number) {\n    const { x1, y1, x2, y2 } = this.attr();\n    return LineUtil.pointAt(x1, y1, x2, y2, ratio);\n  }\n}\n\nexport default Line;\n","/**\n * @fileoverview Marker\n * @author dxq613@gmail.com\n */\n\nimport { isNil } from '@antv/util';\nimport path2Absolute from '@antv/path-util/lib/path-2-absolute';\nimport ShapeBase from './base';\nimport { isFunction } from '../util/util';\nimport { drawPath } from '../util/draw';\n\nconst Symbols = {\n  // 圆\n  circle(x, y, r) {\n    return [\n      ['M', x - r, y],\n      ['A', r, r, 0, 1, 0, x + r, y],\n      ['A', r, r, 0, 1, 0, x - r, y],\n    ];\n  },\n  // 正方形\n  square(x, y, r) {\n    return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n  },\n  // 菱形\n  diamond(x, y, r) {\n    return [['M', x - r, y], ['L', x, y - r], ['L', x + r, y], ['L', x, y + r], ['Z']];\n  },\n  // 三角形\n  triangle(x, y, r) {\n    const diffY = r * Math.sin((1 / 3) * Math.PI);\n    return [['M', x - r, y + diffY], ['L', x, y - diffY], ['L', x + r, y + diffY], ['Z']];\n  },\n  // 倒三角形\n  'triangle-down'(x, y, r) {\n    const diffY = r * Math.sin((1 / 3) * Math.PI);\n    return [['M', x - r, y - diffY], ['L', x + r, y - diffY], ['L', x, y + diffY], ['Z']];\n  },\n};\n\nclass Marker extends ShapeBase {\n  initAttrs(attrs) {\n    this._resetParamsCache();\n  }\n\n  // 重置绘制 path 存储的缓存\n  _resetParamsCache() {\n    // 为了加速 path 的绘制、拾取和计算，这个地方可以缓存很多东西\n    // 这些缓存都是第一次需要时计算和存储，虽然增加了复杂度，但是频繁调用的方法，性能有很大提升\n    this.set('paramsCache', {}); // 清理缓存\n  }\n\n  // 更新属性时，检测是否更改了 path\n  onAttrChange(name: string, value: any, originValue: any) {\n    super.onAttrChange(name, value, originValue);\n    if (['symbol', 'x', 'y', 'r', 'radius'].indexOf(name) !== -1) {\n      // path 相关属性更改时，清理缓存\n      this._resetParamsCache();\n    }\n  }\n\n  // 仅仅使用包围盒检测来进行拾取\n  // 所以不需要复写 isInStrokeOrPath 的方法\n  isOnlyHitBox() {\n    return true;\n  }\n\n  _getR(attrs) {\n    // 兼容 r 和 radius 两种写法，推荐使用 r\n    return isNil(attrs.r) ? attrs.radius : attrs.r;\n  }\n\n  _getPath() {\n    const attrs = this.attr();\n    const { x, y } = attrs;\n    const symbol = attrs.symbol || 'circle';\n    const r = this._getR(attrs);\n    let method;\n    let path;\n    if (isFunction(symbol)) {\n      method = symbol;\n      path = method(x, y, r);\n      // 将 path 转成绝对路径\n      path = path2Absolute(path);\n    } else {\n      // 内置 symbol 的 path 都是绝对路径，直接绘制即可，不需要对 path 进行特殊处理\n      method = Marker.Symbols[symbol];\n      path = method(x, y, r);\n    }\n\n    if (!method) {\n      console.warn(`${symbol} marker is not supported.`);\n      return null;\n    }\n\n    return path;\n  }\n\n  createPath(context) {\n    const path = this._getPath();\n    const paramsCache = this.get('paramsCache');\n    drawPath(this, context, { path }, paramsCache);\n  }\n\n  static Symbols = Symbols;\n}\n\nexport default Marker;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_array_1 = require(\"@antv/util/lib/is-array\");\nvar SPACES = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp('([a-z])[' + SPACES + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + SPACES + ']*,?[' + SPACES + ']*)+)', 'ig');\nvar PATH_VALUES = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + SPACES + ']*,?[' + SPACES + ']*', 'ig');\n// Parses given path string into an array of arrays of path segments\nfunction parsePathString(pathString) {\n    if (!pathString) {\n        return null;\n    }\n    if (is_array_1.default(pathString)) {\n        return pathString;\n    }\n    var paramCounts = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0,\n    };\n    var data = [];\n    String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n        var params = [];\n        var name = b.toLowerCase();\n        c.replace(PATH_VALUES, function (a, b) {\n            b && params.push(+b);\n        });\n        if (name === 'm' && params.length > 2) {\n            data.push([b].concat(params.splice(0, 2)));\n            name = 'l';\n            b = b === 'm' ? 'l' : 'L';\n        }\n        if (name === 'o' && params.length === 1) {\n            data.push([b, params[0]]);\n        }\n        if (name === 'r') {\n            data.push([b].concat(params));\n        }\n        else {\n            while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        }\n        return '';\n    });\n    return data;\n}\nexports.default = parsePathString;\n//# sourceMappingURL=parse-path-string.js.map","/**\n * @fileoverview path\n * @author dxq613@gmail.com\n */\nimport { Point } from '@antv/g-base/lib/types';\nimport CubicUtil from '@antv/g-math/lib/cubic';\nimport { each, isNil } from '@antv/util';\nimport ShapeBase from './base';\nimport path2Absolute from '@antv/path-util/lib/path-2-absolute';\nimport path2Segment from '@antv/path-util/lib/path-2-segments';\nimport { drawPath } from '../util/draw';\nimport isPointInPath from '../util/in-path/point-in-path';\nimport isInPolygon from '../util/in-path/polygon';\nimport PathUtil from '../util/path';\nimport * as ArrowUtil from '../util/arrow';\n\n// 是否在多个多边形内部\nfunction isInPolygons(polygons, x, y) {\n  let isHit = false;\n  for (let i = 0; i < polygons.length; i++) {\n    const points = polygons[i];\n    isHit = isInPolygon(points, x, y);\n    if (isHit) {\n      break;\n    }\n  }\n  return isHit;\n}\n\nclass Path extends ShapeBase {\n  getDefaultAttrs() {\n    const attrs = super.getDefaultAttrs();\n    return {\n      ...attrs,\n      startArrow: false,\n      endArrow: false,\n    };\n  }\n\n  initAttrs(attrs) {\n    this._setPathArr(attrs.path);\n    this.setArrow();\n  }\n\n  // 更新属性时，检测是否更改了 path\n  onAttrChange(name: string, value: any, originValue: any) {\n    super.onAttrChange(name, value, originValue);\n    if (name === 'path') {\n      this._setPathArr(value);\n    }\n    // 由于箭头的绘制依赖于 line 的诸多 attrs，因此这里不再对每个 attr 进行判断，attr 每次变化都会影响箭头的更新\n    this.setArrow();\n  }\n\n  // 将 path 转换成绝对路径\n  _setPathArr(path) {\n    // 转换 path 的格式\n    this.attrs.path = path2Absolute(path);\n    const hasArc = PathUtil.hasArc(path);\n    // 为了加速 path 的绘制、拾取和计算，这个地方可以缓存很多东西\n    // 这些缓存都是第一次需要时计算和存储，虽然增加了复杂度，但是频繁调用的方法，性能有很大提升\n    this.set('hasArc', hasArc);\n    this.set('paramsCache', {}); // 清理缓存\n    this.set('segments', null); // 延迟生成 path，在动画场景下可能不会有拾取\n    this.set('curve', null);\n    this.set('tCache', null);\n    this.set('totalLength', null);\n  }\n\n  getSegments() {\n    let segments = this.get('segements');\n    if (!segments) {\n      segments = path2Segment(this.attr('path'));\n      this.set('segments', segments);\n    }\n    return segments;\n  }\n\n  setArrow() {\n    const attrs = this.attr();\n    const { startArrow, endArrow } = attrs;\n\n    if (startArrow) {\n      const tangent = this.getStartTangent();\n      ArrowUtil.addStartArrow(this, attrs, tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1]);\n    }\n    if (endArrow) {\n      const tangent = this.getEndTangent();\n      ArrowUtil.addEndArrow(this, attrs, tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1]);\n    }\n  }\n\n  isInStrokeOrPath(x, y, isStroke, isFill, lineWidth) {\n    const segments = this.getSegments();\n    const hasArc = this.get('hasArc');\n    let isHit = false;\n    if (isStroke) {\n      isHit = PathUtil.isPointInStroke(segments, lineWidth, x, y);\n    }\n    if (!isHit && isFill) {\n      if (hasArc) {\n        // 存在曲线时，暂时使用 canvas 的 api 计算，后续可以进行多边形切割\n        isHit = isPointInPath(this, x, y);\n      } else {\n        const path = this.attr('path');\n        const extractResutl = PathUtil.extractPolygons(path);\n        // 提取出来的多边形包含闭合的和非闭合的，在这里统一按照多边形处理\n        isHit = isInPolygons(extractResutl.polygons, x, y) || isInPolygons(extractResutl.polylines, x, y);\n      }\n    }\n    return isHit;\n  }\n\n  createPath(context) {\n    const attrs = this.attr();\n    const paramsCache = this.get('paramsCache'); // 由于计算圆弧的参数成本很大，所以要缓存\n    drawPath(this, context, attrs, paramsCache);\n  }\n\n  afterDrawPath(context: CanvasRenderingContext2D) {\n    const startArrowShape = this.get('startArrowShape');\n    const endArrowShape = this.get('endArrowShape');\n    if (startArrowShape) {\n      startArrowShape.draw(context);\n    }\n    if (endArrowShape) {\n      endArrowShape.draw(context);\n    }\n  }\n\n  /**\n   * Get total length of path\n   * @return {number} length\n   */\n  getTotalLength() {\n    const totalLength = this.get('totalLength');\n    if (!isNil(totalLength)) {\n      return totalLength;\n    }\n    this._calculateCurve();\n    this._setTcache();\n    return this.get('totalLength');\n  }\n\n  /**\n   * Get point according to ratio\n   * @param {number} ratio\n   * @return {Point} point\n   */\n  getPoint(ratio: number): Point {\n    let tCache = this.get('tCache');\n    if (!tCache) {\n      this._calculateCurve();\n      this._setTcache();\n      tCache = this.get('tCache');\n    }\n\n    let subt;\n    let index;\n\n    const curve = this.get('curve');\n    if (!tCache || tCache.length === 0) {\n      if (curve) {\n        return {\n          x: curve[0][1],\n          y: curve[0][2],\n        };\n      }\n      return null;\n    }\n    each(tCache, (v, i) => {\n      if (ratio >= v[0] && ratio <= v[1]) {\n        subt = (ratio - v[0]) / (v[1] - v[0]);\n        index = i;\n      }\n    });\n\n    const seg = curve[index];\n    if (isNil(seg) || isNil(index)) {\n      return null;\n    }\n    const l = seg.length;\n    const nextSeg = curve[index + 1];\n    return CubicUtil.pointAt(\n      seg[l - 2],\n      seg[l - 1],\n      nextSeg[1],\n      nextSeg[2],\n      nextSeg[3],\n      nextSeg[4],\n      nextSeg[5],\n      nextSeg[6],\n      subt\n    );\n  }\n\n  _calculateCurve() {\n    const { path } = this.attr();\n    this.set('curve', PathUtil.pathToCurve(path));\n  }\n\n  _setTcache() {\n    let totalLength = 0;\n    let tempLength = 0;\n    // 每段 curve 对应起止点的长度比例列表，形如: [[0, 0.25], [0.25, 0.6]. [0.6, 0.9], [0.9, 1]]\n    const tCache = [];\n    let segmentT;\n    let segmentL;\n    let segmentN;\n    let l;\n    const curve = this.get('curve');\n\n    if (!curve) {\n      return;\n    }\n\n    each(curve, (segment, i) => {\n      segmentN = curve[i + 1];\n      l = segment.length;\n      if (segmentN) {\n        totalLength +=\n          CubicUtil.length(\n            segment[l - 2],\n            segment[l - 1],\n            segmentN[1],\n            segmentN[2],\n            segmentN[3],\n            segmentN[4],\n            segmentN[5],\n            segmentN[6]\n          ) || 0;\n      }\n    });\n    this.set('totalLength', totalLength);\n\n    if (totalLength === 0) {\n      this.set('tCache', []);\n      return;\n    }\n\n    each(curve, (segment, i) => {\n      segmentN = curve[i + 1];\n      l = segment.length;\n      if (segmentN) {\n        segmentT = [];\n        segmentT[0] = tempLength / totalLength;\n        segmentL = CubicUtil.length(\n          segment[l - 2],\n          segment[l - 1],\n          segmentN[1],\n          segmentN[2],\n          segmentN[3],\n          segmentN[4],\n          segmentN[5],\n          segmentN[6]\n        );\n        // 当 path 不连续时，segmentL 可能为空，为空时需要作为 0 处理\n        tempLength += segmentL || 0;\n        segmentT[1] = tempLength / totalLength;\n        tCache.push(segmentT);\n      }\n    });\n    this.set('tCache', tCache);\n  }\n\n  /**\n   * Get start tangent vector\n   * @return {Array}\n   */\n  getStartTangent(): number[][] {\n    const segments = this.getSegments();\n    let result;\n    if (segments.length > 1) {\n      const startPoint = segments[0].currentPoint;\n      const endPoint = segments[1].currentPoint;\n      const tangent = segments[1].startTangent;\n      result = [];\n      if (tangent) {\n        result.push([startPoint[0] - tangent[0], startPoint[1] - tangent[1]]);\n        result.push([startPoint[0], startPoint[1]]);\n      } else {\n        result.push([endPoint[0], endPoint[1]]);\n        result.push([startPoint[0], startPoint[1]]);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Get end tangent vector\n   * @return {Array}\n   */\n  getEndTangent(): number[][] {\n    const segments = this.getSegments();\n    const length = segments.length;\n    let result;\n    if (length > 1) {\n      const startPoint = segments[length - 2].currentPoint;\n      const endPoint = segments[length - 1].currentPoint;\n      const tangent = segments[length - 1].endTangent;\n      result = [];\n      if (tangent) {\n        result.push([endPoint[0] - tangent[0], endPoint[1] - tangent[1]]);\n        result.push([endPoint[0], endPoint[1]]);\n      } else {\n        result.push([startPoint[0], startPoint[1]]);\n        result.push([endPoint[0], endPoint[1]]);\n      }\n    }\n    return result;\n  }\n}\n\nexport default Path;\n","/**\n * @fileoverview path 的一些工具\n * @author dxq613@gmail.com\n */\nimport { PathUtil } from '@antv/g-base';\nimport getArcParams from './arc-params';\nimport QuadUtil from '@antv/g-math/lib/quadratic';\nimport CubicUtil from '@antv/g-math/lib/cubic';\nimport EllipseArcUtil from '@antv/g-math/lib/arc';\nimport { inBox, isSamePoint } from './util';\nimport inLine from './in-stroke/line';\nimport inArc from './in-stroke/arc';\n\nimport * as mat3 from 'gl-matrix/mat3';\nimport * as vec3 from 'gl-matrix/vec3';\n\nfunction hasArc(path) {\n  let hasArc = false;\n  const count = path.length;\n  for (let i = 0; i < count; i++) {\n    const params = path[i];\n    const cmd = params[0];\n    if (cmd === 'C' || cmd === 'A' || cmd === 'Q') {\n      hasArc = true;\n      break;\n    }\n  }\n  return hasArc;\n}\n\nfunction isPointInStroke(segments, lineWidth, x, y) {\n  let isHit = false;\n  const halfWidth = lineWidth / 2;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const { currentPoint, params, prePoint, box } = segment;\n    // 如果在前面已经生成过包围盒，直接按照包围盒计算\n    if (box && !inBox(box.x - halfWidth, box.y - halfWidth, box.width + lineWidth, box.height + lineWidth, x, y)) {\n      continue;\n    }\n    switch (segment.command) {\n      // L 和 Z 都是直线， M 不进行拾取\n      case 'L':\n      case 'Z':\n        isHit = inLine(prePoint[0], prePoint[1], currentPoint[0], currentPoint[1], lineWidth, x, y);\n        break;\n      case 'Q':\n        const qDistance = QuadUtil.pointDistance(\n          prePoint[0],\n          prePoint[1],\n          params[1],\n          params[2],\n          params[3],\n          params[4],\n          x,\n          y\n        );\n        isHit = qDistance <= lineWidth / 2;\n        break;\n      case 'C':\n        const cDistance = CubicUtil.pointDistance(\n          prePoint[0],\n          prePoint[1],\n          params[1],\n          params[2],\n          params[3],\n          params[4],\n          params[5],\n          params[6],\n          x,\n          y\n        );\n        isHit = cDistance <= lineWidth / 2;\n        break;\n      case 'A':\n        // 计算点到椭圆圆弧的距离，暂时使用近似算法，后面可以改成切割法求最近距离\n        const arcParams = segment.arcParams;\n        const { cx, cy, rx, ry, startAngle, endAngle, xRotation } = arcParams;\n        const p = [x, y, 1];\n        const m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        const r = rx > ry ? rx : ry;\n        const scaleX = rx > ry ? 1 : rx / ry;\n        const scaleY = rx > ry ? ry / rx : 1;\n        mat3.translate(m, m, [-cx, -cy]);\n        mat3.rotate(m, m, -xRotation);\n        mat3.scale(m, m, [1 / scaleX, 1 / scaleY]);\n        vec3.transformMat3(p, p, m);\n        isHit = inArc(0, 0, r, startAngle, endAngle, lineWidth, p[0], p[1]);\n        break;\n      default:\n        break;\n    }\n    if (isHit) {\n      break;\n    }\n  }\n  return isHit;\n}\n\n/**\n * 提取出内部的闭合多边形和非闭合的多边形，假设 path 不存在圆弧\n * @param {Array} path 路径\n * @returns {Array} 点的集合\n */\nfunction extractPolygons(path) {\n  const count = path.length;\n  const polygons = [];\n  const polylines = [];\n  let points = []; // 防止第一个命令不是 'M'\n  for (let i = 0; i < count; i++) {\n    const params = path[i];\n    const cmd = params[0];\n    if (cmd === 'M') {\n      // 遇到 'M' 判定是否是新数组，新数组中没有点\n      if (points.length) {\n        // 如果存在点，则说明没有遇到 'Z'，开始了一个新的多边形\n        polylines.push(points);\n        points = []; // 创建新的点\n      }\n      points.push([params[1], params[2]]);\n    } else if (cmd === 'Z') {\n      if (points.length) {\n        // 存在点\n        polygons.push(points);\n        points = []; // 开始新的点集合\n      }\n      // 如果不存在点，同时 'Z'，则说明是错误，不处理\n    } else {\n      points.push([params[1], params[2]]);\n    }\n  }\n  // 说明 points 未放入 polygons 或者 polyline\n  // 仅当只有一个 M，没有 Z 时会发生这种情况\n  if (points.length > 0) {\n    polylines.push(points);\n  }\n  return {\n    polygons,\n    polylines,\n  };\n}\n\nexport default {\n  hasArc,\n  extractPolygons,\n  isPointInStroke,\n  ...PathUtil,\n};\n","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","/**\n * @fileoverview 多边形\n * @author dxq613@gmail.com\n */\n\nimport ShapeBase from './base';\nimport inPolyline from '../util/in-stroke/polyline';\nimport isInPolygon from '../util/in-path/polygon';\n\nclass Polygon extends ShapeBase {\n  isInStrokeOrPath(x, y, isStroke, isFill, lineWidth) {\n    const { points } = this.attr();\n    let isHit = false;\n    if (isStroke) {\n      isHit = inPolyline(points, lineWidth, x, y, true);\n    }\n    if (!isHit && isFill) {\n      isHit = isInPolygon(points, x, y); // isPointInPath(shape, x, y);\n    }\n    return isHit;\n  }\n\n  createPath(context) {\n    const attrs = this.attr();\n    const points = attrs.points;\n    if (points.length < 2) {\n      return;\n    }\n    context.beginPath();\n    for (let i = 0; i < points.length; i++) {\n      const point = points[i];\n      if (i === 0) {\n        context.moveTo(point[0], point[1]);\n      } else {\n        context.lineTo(point[0], point[1]);\n      }\n    }\n    context.closePath();\n  }\n}\n\nexport default Polygon;\n","/**\n * @fileoverview 多边形\n * @author dxq613@gmail.com\n */\nimport { Point } from '@antv/g-base/lib/types';\nimport LineUtil from '@antv/g-math/lib/line';\nimport PolylineUtil from '@antv/g-math/lib/polyline';\nimport { each, isNil } from '@antv/util';\nimport ShapeBase from './base';\nimport inPolyline from '../util/in-stroke/polyline';\nimport * as ArrowUtil from '../util/arrow';\n\nclass PolyLine extends ShapeBase {\n  getDefaultAttrs() {\n    const attrs = super.getDefaultAttrs();\n    return {\n      ...attrs,\n      startArrow: false,\n      endArrow: false,\n    };\n  }\n\n  initAttrs(attrs) {\n    this.setArrow();\n  }\n\n  // 更新属性时，检测是否更改了 points\n  onAttrChange(name: string, value: any, originValue: any) {\n    super.onAttrChange(name, value, originValue);\n    this.setArrow();\n    if (['points'].indexOf(name) !== -1) {\n      this._resetCache();\n    }\n  }\n\n  _resetCache() {\n    this.set('totalLength', null);\n    this.set('tCache', null);\n  }\n\n  setArrow() {\n    const attrs = this.attr();\n    const { points, startArrow, endArrow } = this.attrs;\n    const length = points.length;\n    const x1 = points[0][0];\n    const y1 = points[0][1];\n    const x2 = points[length - 1][0];\n    const y2 = points[length - 1][1];\n\n    if (startArrow) {\n      ArrowUtil.addStartArrow(this, attrs, points[1][0], points[1][1], x1, y1);\n    }\n    if (endArrow) {\n      ArrowUtil.addEndArrow(this, attrs, points[length - 2][0], points[length - 2][1], x2, y2);\n    }\n  }\n\n  // 不允许 fill\n  isFill() {\n    return false;\n  }\n\n  isInStrokeOrPath(x, y, isStroke, isFill, lineWidth) {\n    // 没有设置 stroke 不能被拾取, 没有线宽不能被拾取\n    if (!isStroke || !lineWidth) {\n      return false;\n    }\n    const { points } = this.attr();\n    return inPolyline(points, lineWidth, x, y, false);\n  }\n\n  // 始终填充\n  isStroke() {\n    return true;\n  }\n\n  createPath(context) {\n    const { points, startArrow, endArrow } = this.attr();\n    const length = points.length;\n    if (points.length < 2) {\n      return;\n    }\n    let x1 = points[0][0];\n    let y1 = points[0][1];\n    let x2 = points[length - 1][0];\n    let y2 = points[length - 1][1];\n    // 如果定义了箭头，并且是自定义箭头，线条相应缩进\n    if (startArrow && startArrow.d) {\n      const distance = ArrowUtil.getShortenOffset(x1, y1, points[1][0], points[1][1], startArrow.d);\n      x1 += distance.dx;\n      y1 += distance.dy;\n    }\n    if (endArrow && endArrow.d) {\n      const distance = ArrowUtil.getShortenOffset(points[length - 2][0], points[length - 2][1], x2, y2, endArrow.d);\n      x2 -= distance.dx;\n      y2 -= distance.dy;\n    }\n\n    context.beginPath();\n    context.moveTo(x1, y1);\n    for (let i = 0; i < length - 1; i++) {\n      const point = points[i];\n      context.lineTo(point[0], point[1]);\n    }\n    context.lineTo(x2, y2);\n  }\n\n  afterDrawPath(context: CanvasRenderingContext2D) {\n    const startArrowShape = this.get('startArrowShape');\n    const endArrowShape = this.get('endArrowShape');\n    if (startArrowShape) {\n      startArrowShape.draw(context);\n    }\n    if (endArrowShape) {\n      endArrowShape.draw(context);\n    }\n  }\n\n  /**\n   * Get length of polyline\n   * @return {number} length\n   */\n  getTotalLength() {\n    const { points } = this.attr();\n    // get totalLength from cache\n    const totalLength = this.get('totalLength');\n    if (!isNil(totalLength)) {\n      return totalLength;\n    }\n    this.set('totalLength', PolylineUtil.length(points));\n    return this.get('totalLength');\n  }\n\n  /**\n   * Get point according to ratio\n   * @param {number} ratio\n   * @return {Point} point\n   */\n  getPoint(ratio: number): Point {\n    const { points } = this.attr();\n    // get tCache from cache\n    let tCache = this.get('tCache');\n    if (!tCache) {\n      this._setTcache();\n      tCache = this.get('tCache');\n    }\n\n    let subt;\n    let index;\n    each(tCache, (v, i) => {\n      if (ratio >= v[0] && ratio <= v[1]) {\n        subt = (ratio - v[0]) / (v[1] - v[0]);\n        index = i;\n      }\n    });\n    return LineUtil.pointAt(points[index][0], points[index][1], points[index + 1][0], points[index + 1][1], subt);\n  }\n\n  _setTcache() {\n    const { points } = this.attr();\n    if (!points || points.length === 0) {\n      return;\n    }\n\n    const totalLength = this.getTotalLength();\n    if (totalLength <= 0) {\n      return;\n    }\n\n    let tempLength = 0;\n    const tCache = [];\n    let segmentT;\n    let segmentL;\n\n    each(points, (p, i) => {\n      if (points[i + 1]) {\n        segmentT = [];\n        segmentT[0] = tempLength / totalLength;\n        segmentL = LineUtil.length(p[0], p[1], points[i + 1][0], points[i + 1][1]);\n        tempLength += segmentL;\n        segmentT[1] = tempLength / totalLength;\n        tCache.push(segmentT);\n      }\n    });\n    this.set('tCache', tCache);\n  }\n\n  /**\n   * Get start tangent vector\n   * @return {Array}\n   */\n  getStartTangent(): number[][] {\n    const { points } = this.attr();\n    const result = [];\n    result.push([points[1][0], points[1][1]]);\n    result.push([points[0][0], points[0][1]]);\n    return result;\n  }\n\n  /**\n   * Get end tangent vector\n   * @return {Array}\n   */\n  getEndTangent(): number[][] {\n    const { points } = this.attr();\n    const l = points.length - 1;\n    const result = [];\n    result.push([points[l - 1][0], points[l - 1][1]]);\n    result.push([points[l][0], points[l][1]]);\n    return result;\n  }\n}\n\nexport default PolyLine;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar segments_1 = require(\"./segments\");\nvar util_1 = require(\"./util\");\nexports.default = {\n    /**\n     * 计算多折线的包围盒\n     * @param {array} points 点的集合 [x,y] 的形式\n     * @return {object} 包围盒\n     */\n    box: function (points) {\n        var xArr = [];\n        var yArr = [];\n        for (var i = 0; i < points.length; i++) {\n            var point = points[i];\n            xArr.push(point[0]);\n            yArr.push(point[1]);\n        }\n        return util_1.getBBoxByArray(xArr, yArr);\n    },\n    /**\n     * 计算多折线的长度\n     * @param {array} points 点的集合 [x,y] 的形式\n     * @return {object} 多条边的长度\n     */\n    length: function (points) {\n        return segments_1.lengthOfSegment(points);\n    },\n    /**\n     * 根据比例获取多折线的点\n     * @param {array} points 点的集合 [x,y] 的形式\n     * @param {number} t 在多折线的长度上的比例\n     * @return {object} 根据比例值计算出来的点\n     */\n    pointAt: function (points, t) {\n        return segments_1.pointAtSegments(points, t);\n    },\n    /**\n     * 指定点到多折线的距离\n     * @param {array} points 点的集合 [x,y] 的形式\n     * @param {number} x 指定点的 x\n     * @param {number} y 指定点的 y\n     * @return {number} 点到多折线的距离\n     */\n    pointDistance: function (points, x, y) {\n        return segments_1.distanceAtSegment(points, x, y);\n    },\n    /**\n     * 根据比例获取多折线的切线角度\n     * @param {array} points 点的集合 [x,y] 的形式\n     * @param {number} t 在多折线的长度上的比例\n     * @return {object} 根据比例值计算出来的角度\n     */\n    tangentAngle: function (points, t) {\n        return segments_1.angleAtSegments(points, t);\n    },\n};\n//# sourceMappingURL=polyline.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar line_1 = require(\"./line\");\nvar util_1 = require(\"./util\");\nfunction analyzePoints(points) {\n    // 计算每段的长度和总的长度\n    var totalLength = 0;\n    var segments = [];\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        var length_1 = util_1.distance(from[0], from[1], to[0], to[1]);\n        var seg = {\n            from: from,\n            to: to,\n            length: length_1,\n        };\n        segments.push(seg);\n        totalLength += length_1;\n    }\n    return { segments: segments, totalLength: totalLength };\n}\nfunction lengthOfSegment(points) {\n    if (points.length < 2) {\n        return 0;\n    }\n    var totalLength = 0;\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        totalLength += util_1.distance(from[0], from[1], to[0], to[1]);\n    }\n    return totalLength;\n}\nexports.lengthOfSegment = lengthOfSegment;\n/**\n * 按照比例在数据片段中获取点\n * @param {array} points 点的集合\n * @param {number} t 百分比 0-1\n * @return {object} 点的坐标\n */\nfunction pointAtSegments(points, t) {\n    // 边界判断\n    if (t > 1 || t < 0 || points.length < 2) {\n        return null;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // 多个点有可能重合\n    if (totalLength === 0) {\n        return {\n            x: points[0][0],\n            y: points[0][1],\n        };\n    }\n    // 计算比例\n    var startRatio = 0;\n    var point = null;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            var localRatio = (t - startRatio) / currentRatio;\n            point = line_1.default.pointAt(from[0], from[1], to[0], to[1], localRatio);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return point;\n}\nexports.pointAtSegments = pointAtSegments;\n/**\n * 按照比例在数据片段中获取切线的角度\n * @param {array} points 点的集合\n * @param {number} t 百分比 0-1\n */\nfunction angleAtSegments(points, t) {\n    // 边界判断\n    if (t > 1 || t < 0 || points.length < 2) {\n        return 0;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // 计算比例\n    var startRatio = 0;\n    var angle = 0;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            angle = Math.atan2(to[1] - from[1], to[0] - from[0]);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return angle;\n}\nexports.angleAtSegments = angleAtSegments;\nfunction distanceAtSegment(points, x, y) {\n    var minDistance = Infinity;\n    for (var i = 0; i < points.length - 1; i++) {\n        var point = points[i];\n        var nextPoint = points[i + 1];\n        var distance_1 = line_1.default.pointDistance(point[0], point[1], nextPoint[0], nextPoint[1], x, y);\n        if (distance_1 < minDistance) {\n            minDistance = distance_1;\n        }\n    }\n    return minDistance;\n}\nexports.distanceAtSegment = distanceAtSegment;\n//# sourceMappingURL=segments.js.map","/**\n * @fileoverview 矩形\n * @author dxq613@gmail.com\n */\n\nimport ShapeBase from './base';\nimport { parseRadius } from '../util/parse';\nimport { inBox } from '../util/util';\nimport inRect from '../util/in-stroke/rect';\nimport inRectWithRadius from '../util/in-stroke/rect-radius';\nimport isPointInPath from '../util/in-path/point-in-path';\n\nclass Rect extends ShapeBase {\n  getDefaultAttrs() {\n    const attrs = super.getDefaultAttrs();\n    return {\n      ...attrs,\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      radius: 0,\n    };\n  }\n\n  isInStrokeOrPath(x, y, isStroke, isFill, lineWidth) {\n    const attrs = this.attr();\n    const minX = attrs.x;\n    const minY = attrs.y;\n    const width = attrs.width;\n    const height = attrs.height;\n    const radius = attrs.radius;\n    // 无圆角时的策略\n    if (!radius) {\n      const halfWidth = lineWidth / 2;\n      // 同时填充和带有边框\n      if (isFill && isStroke) {\n        return inBox(minX - halfWidth, minY - halfWidth, width + halfWidth, height + halfWidth, x, y);\n      }\n      // 仅填充\n      if (isFill) {\n        return inBox(minX, minY, width, height, x, y);\n      }\n      if (isStroke) {\n        return inRect(minX, minY, width, height, lineWidth, x, y);\n      }\n    } else {\n      let isHit = false;\n      if (isStroke) {\n        isHit = inRectWithRadius(minX, minY, width, height, radius, lineWidth, x, y);\n      }\n      // 仅填充时带有圆角的矩形直接通过图形拾取\n      // 以后可以改成纯数学的近似拾取，将圆弧切割成多边形\n      if (!isHit && isFill) {\n        isHit = isPointInPath(this, x, y);\n      }\n      return isHit;\n    }\n  }\n\n  createPath(context) {\n    const attrs = this.attr();\n    const x = attrs.x;\n    const y = attrs.y;\n    const width = attrs.width;\n    const height = attrs.height;\n    const radius = attrs.radius;\n\n    context.beginPath();\n    if (radius === 0) {\n      // 改成原生的rect方法\n      context.rect(x, y, width, height);\n    } else {\n      const [r1, r2, r3, r4] = parseRadius(radius);\n      context.moveTo(x + r1, y);\n      context.lineTo(x + width - r2, y);\n      r2 !== 0 && context.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n      context.lineTo(x + width, y + height - r3);\n      r3 !== 0 && context.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n      context.lineTo(x + r4, y + height);\n      r4 !== 0 && context.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n      context.lineTo(x, y + r1);\n      r1 !== 0 && context.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n      context.closePath();\n    }\n  }\n}\n\nexport default Rect;\n","import { inBox } from '../util';\n\nexport default function inRect(minX, minY, width, height, lineWidth, x, y) {\n  const halfWidth = lineWidth / 2;\n  // 将四个边看做矩形来检测，比边的检测算法要快\n  return (\n    inBox(minX - halfWidth, minY - halfWidth, width, lineWidth, x, y) || // 上边\n    inBox(minX + width - halfWidth, minY - halfWidth, lineWidth, height, x, y) || // 右边\n    inBox(minX + halfWidth, minY + height - halfWidth, width, lineWidth, x, y) || // 下边\n    inBox(minX - halfWidth, minY + halfWidth, lineWidth, height, x, y)\n  ); // 左边\n}\n","import inLine from './line';\nimport inArc from './arc';\n\nexport default function rectWithRadius(minX, minY, width, height, radius, lineWidth, x, y) {\n  const halfWidth = lineWidth / 2;\n  return (\n    inLine(minX + radius, minY, minX + width - radius, minY, lineWidth, x, y) ||\n    inLine(minX + width, minY + radius, minX + width, minY + height - radius, lineWidth, x, y) ||\n    inLine(minX + width - radius, minY + height, minX + radius, minY + height, lineWidth, x, y) ||\n    inLine(minX, minY + height - radius, minX, minY + radius, lineWidth, x, y) ||\n    inArc(minX + width - radius, minY + radius, radius, 1.5 * Math.PI, 2 * Math.PI, lineWidth, x, y) ||\n    inArc(minX + width - radius, minY + height - radius, radius, 0, 0.5 * Math.PI, lineWidth, x, y) ||\n    inArc(minX + radius, minY + height - radius, radius, 0.5 * Math.PI, Math.PI, lineWidth, x, y) ||\n    inArc(minX + radius, minY + radius, radius, Math.PI, 1.5 * Math.PI, lineWidth, x, y)\n  );\n}\n","/**\n * @fileoverview 文本\n * @author dxq613@gmail.com\n */\n\nimport ShapeBase from './base';\nimport { isNil, isString, each } from '../util/util';\nimport { getTextHeight, assembleFont } from '@antv/g-base/lib/util/text';\nclass Text extends ShapeBase {\n  // 默认文本属性\n  getDefaultAttrs() {\n    const attrs = super.getDefaultAttrs();\n    return {\n      ...attrs,\n      x: 0,\n      y: 0,\n      text: null,\n      fontSize: 12,\n      fontFamily: 'sans-serif',\n      fontStyle: 'normal',\n      fontWeight: 'normal',\n      fontVariant: 'normal',\n      textAlign: 'start',\n      textBaseline: 'bottom',\n    };\n  }\n\n  // 仅仅使用包围盒检测来进行拾取\n  isOnlyHitBox() {\n    return true;\n  }\n\n  // 初始化时组合 font，同时判断 text 是否换行\n  initAttrs(attrs) {\n    this._assembleFont();\n    if (attrs.text) {\n      this._setText(attrs.text);\n    }\n  }\n  // 组装字体\n  _assembleFont() {\n    const attrs = this.attrs;\n    attrs.font = assembleFont(attrs);\n  }\n\n  // 如果文本换行，则缓存数组\n  _setText(text) {\n    let textArr = null;\n    if (isString(text) && text.indexOf('\\n') !== -1) {\n      textArr = text.split('\\n');\n    }\n    this.set('textArr', textArr);\n  }\n\n  // 更新属性时，检测是否更改了 font、text\n  onAttrChange(name: string, value: any, originValue: any) {\n    super.onAttrChange(name, value, originValue);\n    if (name.startsWith('font')) {\n      this._assembleFont();\n    }\n    if (name === 'text') {\n      this._setText(value);\n    }\n  }\n\n  // 这个方法在 text 时没有可以做的事情，如果要支持文字背景时可以考虑\n  // createPath(context) {\n\n  // }\n\n  // 如果文本多行，需要获取文本间距\n  _getSpaceingY() {\n    const attrs = this.attrs;\n    const lineHeight = attrs.lineHeight;\n    const fontSize = attrs.fontSize * 1;\n    return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n  }\n\n  // 绘制文本，考虑多行的场景\n  _drawTextArr(context, textArr, isFill) {\n    const attrs = this.attrs;\n    const textBaseline = attrs.textBaseline;\n    const x = attrs.x;\n    const y = attrs.y;\n    const fontSize = attrs.fontSize * 1;\n    const spaceingY = this._getSpaceingY();\n    const height = getTextHeight(attrs.text, attrs.fontSize, attrs.lineHeight);\n    let subY;\n    each(textArr, (subText, index: number) => {\n      subY = y + index * (spaceingY + fontSize) - height + fontSize; // bottom;\n      if (textBaseline === 'middle') subY += height - fontSize - (height - fontSize) / 2;\n      if (textBaseline === 'top') subY += height - fontSize;\n      if (isFill) {\n        context.fillText(subText, x, subY);\n      } else {\n        context.strokeText(subText, x, subY);\n      }\n    });\n  }\n\n  // 绘制文本，同时考虑填充和绘制边框\n  _drawText(context, isFill) {\n    const attrs = this.attr();\n    const x = attrs.x;\n    const y = attrs.y;\n    const textArr = this.get('textArr');\n    if (textArr) {\n      this._drawTextArr(context, textArr, isFill);\n    } else {\n      const text = attrs.text;\n      if (isFill) {\n        context.fillText(text, x, y);\n      } else {\n        context.strokeText(text, x, y);\n      }\n    }\n  }\n\n  // 复写绘制和填充的逻辑：对于文本，应该先绘制边框，再进行填充\n  strokeAndFill(context) {\n    const { lineWidth, opacity, strokeOpacity, fillOpacity } = this.attrs;\n\n    if (this.isStroke()) {\n      if (lineWidth > 0) {\n        if (!isNil(strokeOpacity) && strokeOpacity !== 1) {\n          context.globalAlpha = opacity;\n        }\n        this.stroke(context);\n      }\n    }\n\n    if (this.isFill()) {\n      if (!isNil(fillOpacity) && fillOpacity !== 1) {\n        context.globalAlpha = fillOpacity;\n        this.fill(context);\n        context.globalAlpha = opacity;\n      } else {\n        this.fill(context);\n      }\n    }\n\n    this.afterDrawPath(context);\n  }\n\n  // 复写填充逻辑\n  fill(context) {\n    this._drawText(context, true);\n  }\n\n  // 复写绘制边框的逻辑\n  stroke(context) {\n    this._drawText(context, false);\n  }\n}\n\nexport default Text;\n","// 导出 g-base 中的 types\nexport * from '@antv/g-base/lib/types';\n\nexport type Region = {\n  minX: number;\n  minY: number;\n  maxX: number;\n  maxY: number;\n};\n","import { IElement as IBaseElement } from '@antv/g-base/lib/interfaces';\nimport { Region } from './types';\n\n// 导出 g-base 中的 interfaces\nexport * from '@antv/g-base/lib/interfaces';\n\n// 覆盖 g-base 中 IElement 的类型定义\nexport interface IElement extends IBaseElement {\n  /**\n   * 绘制图形元素\n   * @param {CanvasRenderingContext2D} context 上下文\n   * @param {Region}                   [region]  限制的区间，可以为空\n   */\n  draw(context: CanvasRenderingContext2D, region?: Region);\n\n  /**\n   * 跳过绘制时需要处理的逻辑\n   */\n  skipDraw();\n}\n","import { AbstractCanvas } from '@antv/g-base';\nimport { ChangeType } from '@antv/g-base/lib/types';\nimport { IElement } from './interfaces';\nimport { getShape } from './util/hit';\nimport EventController from '@antv/g-base/lib/event/event-contoller';\nimport * as Shape from './shape';\nimport Group from './group';\nimport { applyAttrsToContext, drawChildren, getMergedRegion, mergeView } from './util/draw';\nimport { getPixelRatio, requestAnimationFrame, clearAnimationFrame } from './util/util';\n\nclass Canvas extends AbstractCanvas {\n  getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    // 设置渲染引擎为 canvas，只读属性\n    cfg['renderer'] = 'canvas';\n    // 是否自动绘制，不需要用户调用 draw 方法\n    cfg['autoDraw'] = true;\n    // 是否允许局部刷新图表\n    cfg['localRefresh'] = true;\n    cfg['refreshElements'] = [];\n    // 是否在视图内自动裁剪\n    cfg['clipView'] = true;\n    cfg['quickHit'] = false;\n    return cfg;\n  }\n\n  /**\n   * 一些方法调用会引起画布变化\n   * @param {ChangeType} changeType 改变的类型\n   */\n  onCanvasChange(changeType: ChangeType) {\n    /**\n     * 触发画布更新的三种 changeType\n     * 1. attr: 修改画布的绘图属性\n     * 2. sort: 画布排序，图形的层次会发生变化\n     * 3. changeSize: 改变画布大小\n     */\n    if (changeType === 'attr' || changeType === 'sort' || changeType === 'changeSize') {\n      this.set('refreshElements', [this]);\n      this.draw();\n    }\n  }\n\n  getShapeBase() {\n    return Shape;\n  }\n\n  getGroupBase() {\n    return Group;\n  }\n  /**\n   * 获取屏幕像素比\n   */\n  getPixelRatio() {\n    const pixelRatio = this.get('pixelRatio') || getPixelRatio();\n    // 不足 1 的取 1，超出 1 的取整\n    return pixelRatio >= 1 ? Math.floor(pixelRatio) : 1;\n  }\n\n  getViewRange() {\n    return {\n      minX: 0,\n      minY: 0,\n      maxX: this.get('width'),\n      maxY: this.get('height'),\n    };\n  }\n\n  // 复写处理事件\n  initEvents() {\n    const eventController = new EventController({\n      canvas: this,\n    });\n    eventController.init();\n    this.set('eventController', eventController);\n  }\n\n  // 复写基类的方法生成标签\n  createDom(): HTMLElement {\n    const element = document.createElement('canvas');\n    const context = element.getContext('2d');\n    // 缓存 context 对象\n    this.set('context', context);\n    return element;\n  }\n  setDOMSize(width: number, height: number) {\n    super.setDOMSize(width, height);\n    const context = this.get('context');\n    const el = this.get('el');\n    const pixelRatio = this.getPixelRatio();\n    el.width = pixelRatio * width;\n    el.height = pixelRatio * height;\n    // 设置 canvas 元素的宽度和高度，会重置缩放，因此 context.scale 需要在每次设置宽、高后调用\n    if (pixelRatio > 1) {\n      context.scale(pixelRatio, pixelRatio);\n    }\n  }\n  // 复写基类方法\n  clear() {\n    super.clear();\n    this._clearFrame(); // 需要清理掉延迟绘制的帧\n    const context = this.get('context');\n    const element = this.get('el');\n    context.clearRect(0, 0, element.width, element.height);\n  }\n\n  getShape(x: number, y: number) {\n    if (this.get('quickHit')) {\n      return getShape(this, x, y);\n    }\n    return super.getShape(x, y, null);\n  }\n  // 对绘制区域边缘取整，避免浮点数问题\n  _getRefreshRegion() {\n    const elements = this.get('refreshElements');\n    const viewRegion = this.getViewRange();\n    let region;\n    // 如果是当前画布整体发生了变化，则直接重绘整个画布\n    if (elements.length && elements[0] === this) {\n      region = viewRegion;\n    } else {\n      region = getMergedRegion(elements);\n      if (region) {\n        region.minX = Math.floor(region.minX);\n        region.minY = Math.floor(region.minY);\n        region.maxX = Math.ceil(region.maxX);\n        region.maxY = Math.ceil(region.maxY);\n        const clipView = this.get('clipView');\n        // 自动裁剪不在 view 内的区域\n        if (clipView) {\n          region = mergeView(region, viewRegion);\n        }\n      }\n    }\n    return region;\n  }\n\n  /**\n   * 刷新图形元素，这里仅仅是放入队列，下次绘制时进行绘制\n   * @param {IElement} element 图形元素\n   */\n  refreshElement(element: IElement) {\n    const refreshElements = this.get('refreshElements');\n    refreshElements.push(element);\n    // if (this.get('autoDraw')) {\n    //   this._startDraw();\n    // }\n  }\n  // 清理还在进行的绘制\n  _clearFrame() {\n    const drawFrame = this.get('drawFrame');\n    if (drawFrame) {\n      // 如果全部渲染时，存在局部渲染，则抛弃掉局部渲染\n      clearAnimationFrame(drawFrame);\n      this.set('drawFrame', null);\n      this.set('refreshElements', []);\n    }\n  }\n\n  // 手工调用绘制接口\n  draw() {\n    const drawFrame = this.get('drawFrame');\n    if (this.get('autoDraw') && drawFrame) {\n      return;\n    }\n    this._startDraw();\n  }\n  // 绘制所有图形\n  _drawAll() {\n    const context = this.get('context');\n    const element = this.get('el');\n    const children = this.getChildren() as IElement[];\n    context.clearRect(0, 0, element.width, element.height);\n    applyAttrsToContext(context, this);\n    drawChildren(context, children);\n    // 对于 https://github.com/antvis/g/issues/422 的场景，全局渲染的模式下也会记录更新的元素队列，因此全局渲染完后也需要置空\n    this.set('refreshElements', []);\n  }\n  // 绘制局部\n  _drawRegion() {\n    const context = this.get('context');\n    const children = this.getChildren() as IElement[];\n    const region = this._getRefreshRegion();\n    // 需要注意可能没有 region 的场景\n    // 一般发生在设置了 localRefresh ,在没有图形发生变化的情况下，用户调用了 draw\n    if (region) {\n      // 清理指定区域\n      context.clearRect(region.minX, region.minY, region.maxX - region.minX, region.maxY - region.minY);\n      // 保存上下文，设置 clip\n      context.save();\n      context.beginPath();\n      context.rect(region.minX, region.minY, region.maxX - region.minX, region.maxY - region.minY);\n      context.clip();\n      applyAttrsToContext(context, this);\n      // 绘制子元素\n      drawChildren(context, children, region);\n      context.restore();\n    }\n    this.set('refreshElements', []);\n  }\n\n  // 触发绘制\n  _startDraw() {\n    let drawFrame = this.get('drawFrame');\n    if (!drawFrame) {\n      drawFrame = requestAnimationFrame(() => {\n        if (this.get('localRefresh')) {\n          this._drawRegion();\n        } else {\n          this._drawAll();\n        }\n        this.set('drawFrame', null);\n      });\n      this.set('drawFrame', drawFrame);\n    }\n  }\n\n  skipDraw() {}\n\n  destroy() {\n    const eventController = this.get('eventController');\n    eventController.destroy();\n    super.destroy();\n  }\n}\n\nexport default Canvas;\n","import { IContainer, IElement, IGroup, IShape } from '@antv/g-base/lib/interfaces';\nimport { isAllowCapture } from '@antv/g-base/lib/util/util';\nimport { multiplyVec2, invert } from '@antv/g-base/lib/util/matrix';\n\nfunction invertFromMatrix(v: number[], matrix: number[]): number[] {\n  if (matrix) {\n    const invertMatrix = invert(matrix);\n    return multiplyVec2(invertMatrix, v);\n  }\n  return v;\n}\n\nfunction getRefXY(element: IElement, x: number, y: number) {\n  // @ts-ignore\n  const totalMatrix = element.getTotalMatrix();\n  if (totalMatrix) {\n    const [refX, refY] = invertFromMatrix([x, y, 1], totalMatrix);\n    return [refX, refY];\n  }\n  return [x, y];\n}\n// 拾取前的检测，只有通过检测才能继续拾取\nfunction preTest(element: IElement, x: number, y: number) {\n  // @ts-ignore\n  if (element.isCanvas && element.isCanvas()) {\n    return true;\n  }\n  // 不允许被拾取，则返回 null\n  // @ts-ignore\n  if (!isAllowCapture(element) && element.cfg.isInView === false) {\n    return false;\n  }\n  if (element.cfg.clipShape) {\n    // 如果存在 clip\n    const [refX, refY] = getRefXY(element, x, y);\n    if (element.isClipped(refX, refY)) {\n      return false;\n    }\n  }\n  // @ts-ignore ，这个地方调用过于频繁\n  let bbox = element.cfg.cacheCanvasBBox;\n  if (!bbox) {\n    bbox = element.getCanvasBBox();\n  }\n  if (!(x >= bbox.minX && x <= bbox.maxX && y >= bbox.minY && y <= bbox.maxY)) {\n    return false;\n  }\n  return true;\n}\nexport function getShape(container: IContainer, x: number, y: number) {\n  // 没有通过检测，则返回 null\n  if (!preTest(container, x, y)) {\n    return null;\n  }\n  let shape = null;\n  const children = container.getChildren();\n  const count = children.length;\n  for (let i = count - 1; i >= 0; i--) {\n    const child = children[i];\n    if (child.isGroup()) {\n      shape = getShape(child as IGroup, x, y);\n    } else if (preTest(child, x, y)) {\n      const curShape = child as IShape;\n      const [refX, refY] = getRefXY(child, x, y);\n      // @ts-ignore\n      if (curShape.isInShape(refX, refY)) {\n        shape = child;\n      }\n    }\n    if (shape) {\n      break;\n    }\n  }\n  return shape;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @fileoverview 事件处理器\n * @author dxq613@gmail.com\n */\nvar graph_event_1 = require(\"./graph-event\");\nvar util_1 = require(\"../util/util\");\nvar CLICK_OFFSET = 40;\nvar LEFT_BTN_CODE = 0;\nvar DELEGATION_SPLIT = ':';\nvar EVENTS = [\n    'mousedown',\n    'mouseup',\n    'dblclick',\n    'mouseout',\n    'mouseover',\n    'mousemove',\n    'mouseleave',\n    'mouseenter',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'dragenter',\n    'dragover',\n    'dragleave',\n    'drop',\n    'contextmenu',\n    'mousewheel',\n];\n// 触摸事件的 clientX，clientY 获取有一定差异\nfunction getClientPoint(event) {\n    var clientInfo = event;\n    if (event.touches) {\n        if (event.type === 'touchend') {\n            clientInfo = event.changedTouches[0];\n        }\n        else {\n            clientInfo = event.touches[0];\n        }\n    }\n    return {\n        clientX: clientInfo.clientX,\n        clientY: clientInfo.clientY,\n    };\n}\n// 是否有委托事件监听\nfunction hasDelegation(events, type) {\n    for (var key in events) {\n        if (events.hasOwnProperty(key) && key.indexOf(DELEGATION_SPLIT + type) >= 0) {\n            return true;\n        }\n    }\n    return false;\n}\n// 触发目标事件，目标只能是 shape 或 canvas\nfunction emitTargetEvent(target, type, eventObj) {\n    eventObj.name = type;\n    eventObj.target = target;\n    eventObj.currentTarget = target;\n    eventObj.delegateTarget = target;\n    target.emit(type, eventObj);\n}\n// 事件冒泡, enter 和 leave 需要对 fromShape 和 toShape 进行判同\nfunction bubbleEvent(container, type, eventObj) {\n    if (eventObj.bubbles) {\n        var relativeShape = void 0;\n        var isOverEvent = false;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n            isOverEvent = true;\n        }\n        else if (type === 'mouseleave') {\n            isOverEvent = true;\n            relativeShape = eventObj.toShape;\n        }\n        // canvas 上的 mouseenter， mouseleave 事件，仅当进入或者移出 canvas 时触发\n        if (container.isCanvas() && isOverEvent) {\n            return;\n        }\n        // 如果相关图形同当前图形在同一个容器内，不触发事件\n        if (relativeShape && util_1.isParent(container, relativeShape)) {\n            // 阻止继续向上冒泡\n            eventObj.bubbles = false;\n            return;\n        }\n        // 事件名称可能在委托过程中被修改，因此事件冒泡时需要重新设置事件名称\n        eventObj.name = type;\n        eventObj.currentTarget = container;\n        eventObj.delegateTarget = container;\n        container.emit(type, eventObj);\n    }\n}\nvar EventController = /** @class */ (function () {\n    function EventController(cfg) {\n        var _this = this;\n        // 正在被拖拽的图形\n        this.draggingShape = null;\n        this.dragging = false;\n        // 当前鼠标/touch所在位置的图形\n        this.currentShape = null;\n        this.mousedownShape = null;\n        this.mousedownPoint = null;\n        // 统一处理所有的回调\n        this._eventCallback = function (ev) {\n            var type = ev.type;\n            _this._triggerEvent(type, ev);\n        };\n        // 在 document 处理拖拽到画布外的事件，处理从图形上移除画布未被捕捉的问题\n        this._onDocumentMove = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                // 不在 canvas 上移动\n                if (_this.dragging || _this.currentShape) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    // 还在拖拽过程中\n                    if (_this.dragging) {\n                        _this._emitEvent('drag', ev, pointInfo, _this.draggingShape);\n                    }\n                    // 说明从某个图形直接移动到了画布外面，\n                    // 修复了 mouseleave 的 bug 后不再出现这种情况\n                    // if (this.currentShape) {\n                    //   this._emitEvent('mouseleave', ev, pointInfo, this.currentShape, this.currentShape, null);\n                    //   this.currentShape = null;\n                    // }\n                }\n            }\n        };\n        // 在 document 上处理拖拽到外面，释放鼠标时触发 dragend\n        this._onDocumentMouseUp = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                // 不在 canvas 上移动\n                if (_this.dragging) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    if (_this.draggingShape) {\n                        // 如果存在拖拽的图形，则也触发 drop 事件\n                        _this._emitEvent('drop', ev, pointInfo, null);\n                    }\n                    _this._emitEvent('dragend', ev, pointInfo, _this.draggingShape);\n                    _this._afterDrag(_this.draggingShape, pointInfo, ev);\n                }\n            }\n        };\n        this.canvas = cfg.canvas;\n    }\n    EventController.prototype.init = function () {\n        this._bindEvents();\n    };\n    // 注册事件\n    EventController.prototype._bindEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        util_1.each(EVENTS, function (eventName) {\n            el.addEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            // 处理移动到外面没有触发 shape mouse leave 的事件\n            // 处理拖拽到外部的问题\n            document.addEventListener('mousemove', this._onDocumentMove);\n            // 处理拖拽过程中在外部释放鼠标的问题\n            document.addEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    // 清理事件\n    EventController.prototype._clearEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        util_1.each(EVENTS, function (eventName) {\n            el.removeEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            document.removeEventListener('mousemove', this._onDocumentMove);\n            document.removeEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    EventController.prototype._getEventObj = function (type, event, point, target, fromShape, toShape) {\n        var eventObj = new graph_event_1.default(type, event);\n        eventObj.fromShape = fromShape;\n        eventObj.toShape = toShape;\n        eventObj.x = point.x;\n        eventObj.y = point.y;\n        eventObj.clientX = point.clientX;\n        eventObj.clientY = point.clientY;\n        eventObj.propagationPath.push(target);\n        // 事件的x,y应该是基于画布左上角的，与canvas的matrix无关\n        return eventObj;\n    };\n    // 根据点获取图形，提取成独立方法，便于后续优化\n    EventController.prototype._getShape = function (point, ev) {\n        return this.canvas.getShape(point.x, point.y, ev);\n    };\n    // 获取事件的当前点的信息\n    EventController.prototype._getPointInfo = function (ev) {\n        var canvas = this.canvas;\n        var clientPoint = getClientPoint(ev);\n        var point = canvas.getPointByClient(clientPoint.clientX, clientPoint.clientY);\n        return {\n            x: point.x,\n            y: point.y,\n            clientX: clientPoint.clientX,\n            clientY: clientPoint.clientY,\n        };\n    };\n    // 触发事件\n    EventController.prototype._triggerEvent = function (type, ev) {\n        var pointInfo = this._getPointInfo(ev);\n        // 每次都获取图形有一定成本，后期可以考虑进行缓存策略\n        var shape = this._getShape(pointInfo, ev);\n        var method = this[\"_on\" + type];\n        var leaveCanvas = false;\n        if (method) {\n            method.call(this, pointInfo, shape, ev);\n        }\n        else {\n            var preShape = this.currentShape;\n            // 如果进入、移出画布时存在图形，则要分别触发事件\n            if (type === 'mouseenter' || type === 'dragenter' || type === 'mouseover') {\n                this._emitEvent(type, ev, pointInfo, null, null, shape); // 先进入画布\n                if (shape) {\n                    this._emitEvent(type, ev, pointInfo, shape, null, shape); // 再触发图形的事件\n                }\n                if (type === 'mouseenter' && this.draggingShape) {\n                    // 如果正在拖拽图形, 则触发 dragleave\n                    this._emitEvent('dragenter', ev, pointInfo, null);\n                }\n            }\n            else if (type === 'mouseleave' || type === 'dragleave' || type === 'mouseout') {\n                leaveCanvas = true;\n                if (preShape) {\n                    this._emitEvent(type, ev, pointInfo, preShape, preShape, null); // 先触发图形的事件\n                }\n                this._emitEvent(type, ev, pointInfo, null, preShape, null); // 再触发离开画布事件\n                if (type === 'mouseleave' && this.draggingShape) {\n                    this._emitEvent('dragleave', ev, pointInfo, null);\n                }\n            }\n            else {\n                this._emitEvent(type, ev, pointInfo, shape, null, null); // 一般事件中不需要考虑 from, to\n            }\n        }\n        if (!leaveCanvas) {\n            this.currentShape = shape;\n        }\n        // 当鼠标从画布移动到 shape 或者从 preShape 移动到 shape 时，应用 shape 上的鼠标样式\n        if (shape && !shape.get('destroyed')) {\n            var canvas = this.canvas;\n            var el = canvas.get('el');\n            el.style.cursor = shape.attr('cursor') || canvas.get('cursor');\n        }\n    };\n    // 记录下点击的位置、图形，便于拖拽事件、click 事件的判定\n    EventController.prototype._onmousedown = function (pointInfo, shape, event) {\n        // 只有鼠标左键的 mousedown 事件才会设置 mousedownShape 等属性，避免鼠标右键的 mousedown 事件引起其他事件发生\n        if (event.button === LEFT_BTN_CODE) {\n            this.mousedownShape = shape;\n            this.mousedownPoint = pointInfo;\n            this.mousedownTimeStamp = event.timeStamp;\n        }\n        this._emitEvent('mousedown', event, pointInfo, shape, null, null); // mousedown 不考虑fromShape, toShape\n    };\n    // mouseleave 和 mouseenter 都是成对存在的\n    // mouseenter 和 mouseover 同时触发\n    EventController.prototype._emitMouseoverEvents = function (event, pointInfo, fromShape, toShape) {\n        var el = this.canvas.get('el');\n        if (fromShape !== toShape) {\n            if (fromShape) {\n                this._emitEvent('mouseout', event, pointInfo, fromShape, fromShape, toShape);\n                this._emitEvent('mouseleave', event, pointInfo, fromShape, fromShape, toShape);\n                // 当鼠标从 fromShape 移动到画布上时，重置鼠标样式\n                if (!toShape || toShape.get('destroyed')) {\n                    el.style.cursor = this.canvas.get('cursor');\n                }\n            }\n            if (toShape) {\n                this._emitEvent('mouseover', event, pointInfo, toShape, fromShape, toShape);\n                this._emitEvent('mouseenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n        }\n    };\n    // dragover 不等同于 mouseover，而等同于 mousemove\n    EventController.prototype._emitDragoverEvents = function (event, pointInfo, fromShape, toShape, isCanvasEmit) {\n        if (toShape) {\n            if (toShape !== fromShape) {\n                if (fromShape) {\n                    this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n                }\n                this._emitEvent('dragenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n            if (!isCanvasEmit) {\n                this._emitEvent('dragover', event, pointInfo, toShape);\n            }\n        }\n        else if (fromShape) {\n            // TODO: 此处判断有问题，当 drag 图形时，也会触发一次 dragleave 事件，因为此时 toShape 为 null，这不是所期望的\n            // 经过空白区域\n            this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n        }\n        if (isCanvasEmit) {\n            this._emitEvent('dragover', event, pointInfo, toShape);\n        }\n    };\n    // drag 完成后，需要做一些清理工作\n    EventController.prototype._afterDrag = function (draggingShape, pointInfo, event) {\n        if (draggingShape) {\n            draggingShape.set('capture', true); // 恢复可以拾取\n            this.draggingShape = null;\n        }\n        this.dragging = false;\n        // drag 完成后，有可能 draggingShape 已经移动到了当前位置，所以不能直接取当前图形\n        var shape = this._getShape(pointInfo, event);\n        // 拖拽完成后，进行 enter，leave 的判定\n        if (shape !== draggingShape) {\n            this._emitMouseoverEvents(event, pointInfo, draggingShape, shape);\n        }\n        this.currentShape = shape; // 更新当前 shape，如果不处理当前图形的 mouseleave 事件可能会出问题\n    };\n    // 按键抬起时，会终止拖拽、触发点击\n    EventController.prototype._onmouseup = function (pointInfo, shape, event) {\n        // eevent.button === 0 表示鼠标左键事件，此处加上判断主要是为了避免右键鼠标会触发 mouseup 和 click 事件\n        // ref: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n        if (event.button === LEFT_BTN_CODE) {\n            var draggingShape = this.draggingShape;\n            if (this.dragging) {\n                // 存在可以拖拽的图形，同时拖拽到其他图形上时触发 drag 事件\n                if (draggingShape) {\n                    this._emitEvent('drop', event, pointInfo, shape);\n                }\n                this._emitEvent('dragend', event, pointInfo, draggingShape);\n                this._afterDrag(draggingShape, pointInfo, event);\n            }\n            else {\n                this._emitEvent('mouseup', event, pointInfo, shape); // 先触发 mouseup 再触发 click\n                if (shape === this.mousedownShape) {\n                    this._emitEvent('click', event, pointInfo, shape);\n                }\n                this.mousedownShape = null;\n                this.mousedownPoint = null;\n            }\n        }\n    };\n    // 当触发浏览器的 dragover 事件时，不会再触发 mousemove ，所以这时候的 dragenter, dragleave 事件需要重新处理\n    EventController.prototype._ondragover = function (pointInfo, shape, event) {\n        event.preventDefault(); // 如果不对 dragover 进行 preventDefault，则不会在 canvas 上触发 drop 事件\n        var preShape = this.currentShape;\n        this._emitDragoverEvents(event, pointInfo, preShape, shape, true);\n    };\n    // 大量的图形事件，都通过 mousemove 模拟\n    EventController.prototype._onmousemove = function (pointInfo, shape, event) {\n        var canvas = this.canvas;\n        var preShape = this.currentShape;\n        var draggingShape = this.draggingShape;\n        // 正在拖拽时\n        if (this.dragging) {\n            // 正在拖拽中\n            if (draggingShape) {\n                // 如果拖拽了 shape 会触发 dragenter, dragleave, dragover 和 drag 事件\n                this._emitDragoverEvents(event, pointInfo, preShape, shape, false);\n            }\n            // 如果存在 draggingShape 则会在 draggingShape 上触发 drag 事件，冒泡到 canvas 上\n            // 否则在 canvas 上触发 drag 事件\n            this._emitEvent('drag', event, pointInfo, draggingShape);\n        }\n        else {\n            var mousedownPoint = this.mousedownPoint;\n            if (mousedownPoint) {\n                // 当鼠标点击下去，同时移动时，进行 drag 判定\n                var mousedownShape = this.mousedownShape;\n                var now = event.timeStamp;\n                var timeWindow = now - this.mousedownTimeStamp;\n                var dx = mousedownPoint.clientX - pointInfo.clientX;\n                var dy = mousedownPoint.clientY - pointInfo.clientY;\n                var dist = dx * dx + dy * dy;\n                if (timeWindow > 120 || dist > CLICK_OFFSET) {\n                    if (mousedownShape && mousedownShape.get('draggable')) {\n                        // 设置了 draggable 的 shape 才能触发 drag 相关的事件\n                        draggingShape = this.mousedownShape; // 拖动鼠标点下时的 shape\n                        draggingShape.set('capture', false); // 禁止继续拾取，否则无法进行 dragover,dragenter,dragleave,drop的判定\n                        this.draggingShape = draggingShape;\n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, draggingShape);\n                        // 清理按下鼠标时缓存的值\n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else if (!mousedownShape && canvas.get('draggable')) {\n                        // 设置了 draggable 的 canvas 才能触发 drag 相关的事件\n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, null);\n                        // 清理按下鼠标时缓存的值\n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else {\n                        this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                        this._emitEvent('mousemove', event, pointInfo, shape);\n                    }\n                }\n                else {\n                    this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                    this._emitEvent('mousemove', event, pointInfo, shape);\n                }\n            }\n            else {\n                // 没有按键按下时，则直接触发 mouse over 相关的各种事件\n                this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                // 始终触发移动\n                this._emitEvent('mousemove', event, pointInfo, shape);\n            }\n        }\n    };\n    // 触发事件\n    EventController.prototype._emitEvent = function (type, event, pointInfo, shape, fromShape, toShape) {\n        var eventObj = this._getEventObj(type, event, pointInfo, shape, fromShape, toShape);\n        // 存在 shape 触发，则进行冒泡处理\n        if (shape) {\n            eventObj.shape = shape;\n            // 触发 shape 上的事件\n            emitTargetEvent(shape, type, eventObj);\n            var parent_1 = shape.getParent();\n            // 执行冒泡\n            while (parent_1) {\n                // 委托事件要先触发\n                parent_1.emitDelegation(type, eventObj);\n                // 事件冒泡停止，不能妨碍委托事件\n                if (!eventObj.propagationStopped) {\n                    bubbleEvent(parent_1, type, eventObj);\n                }\n                eventObj.propagationPath.push(parent_1);\n                parent_1 = parent_1.getParent();\n            }\n        }\n        else {\n            // 如果没有 shape 直接在 canvas 上触发\n            var canvas = this.canvas;\n            // 直接触发 canvas 上的事件\n            emitTargetEvent(canvas, type, eventObj);\n        }\n    };\n    EventController.prototype.destroy = function () {\n        // 清理事件\n        this._clearEvents();\n        // 清理缓存的对象\n        this.canvas = null;\n        this.currentShape = null;\n        this.draggingShape = null;\n        this.mousedownPoint = null;\n        this.mousedownShape = null;\n        this.mousedownTimeStamp = null;\n    };\n    return EventController;\n}());\nexports.default = EventController;\n//# sourceMappingURL=event-contoller.js.map","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();"],"sourceRoot":""}